{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/components/DashboardHeader.tsx"],"sourcesContent":["'use client';\n\nimport { useAuth } from '@/components/AuthProvider';\nimport { useState } from 'react';\nimport { User } from '@supabase/supabase-js';\n\ninterface DashboardHeaderProps {\n  user: User;\n}\n\nexport default function DashboardHeader({ user }: DashboardHeaderProps) {\n  const { signOut } = useAuth();\n  const [showUserMenu, setShowUserMenu] = useState(false);\n\n  const handleSignOut = async () => {\n    await signOut();\n  };\n\n  const userInitials = user.user_metadata?.display_name\n    ? user.user_metadata.display_name.split(' ').map((n: string) => n[0]).join('').toUpperCase()\n    : user.email?.charAt(0).toUpperCase() || 'U';\n\n  return (\n    <header className=\"bg-white/80 backdrop-blur-sm border-b border-white/20 sticky top-0 z-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between items-center h-16\">\n          {/* Logo */}\n          <div className=\"flex items-center\">\n            <div className=\"flex-shrink-0\">\n              <h1 className=\"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent\">\n                ‚úàÔ∏è TripTimeline\n              </h1>\n            </div>\n          </div>\n\n          {/* Navigation */}\n          <nav className=\"hidden md:flex space-x-8\">\n            <a\n              href=\"/dashboard\"\n              className=\"text-gray-900 hover:text-purple-600 px-3 py-2 rounded-md text-sm font-medium transition-colors\"\n            >\n              Dashboard\n            </a>\n            <a\n              href=\"/dashboard/trips\"\n              className=\"text-gray-500 hover:text-purple-600 px-3 py-2 rounded-md text-sm font-medium transition-colors\"\n            >\n              My Trips\n            </a>\n            <a\n              href=\"/dashboard/explore\"\n              className=\"text-gray-500 hover:text-purple-600 px-3 py-2 rounded-md text-sm font-medium transition-colors\"\n            >\n              Explore\n            </a>\n          </nav>\n\n          {/* User Menu */}\n          <div className=\"relative\">\n            <button\n              onClick={() => setShowUserMenu(!showUserMenu)}\n              className=\"flex items-center space-x-3 text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2\"\n            >\n              <div className=\"w-10 h-10 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex items-center justify-center text-white font-semibold\">\n                {userInitials}\n              </div>\n              <div className=\"hidden md:block text-left\">\n                <p className=\"text-sm font-medium text-gray-900\">\n                  {user.user_metadata?.display_name || 'User'}\n                </p>\n                <p className=\"text-xs text-gray-500\">{user.email}</p>\n              </div>\n              <svg\n                className={`w-4 h-4 text-gray-400 transition-transform ${\n                  showUserMenu ? 'rotate-180' : ''\n                }`}\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n              </svg>\n            </button>\n\n            {/* Dropdown Menu */}\n            {showUserMenu && (\n              <div className=\"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50\">\n                <div className=\"px-4 py-3 border-b border-gray-100\">\n                  <p className=\"text-sm font-medium text-gray-900\">\n                    {user.user_metadata?.display_name || 'User'}\n                  </p>\n                  <p className=\"text-xs text-gray-500 truncate\">{user.email}</p>\n                </div>\n                \n                <div className=\"py-1\">\n                  <a\n                    href=\"/dashboard/profile\"\n                    className=\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors\"\n                  >\n                    <svg className=\"w-4 h-4 mr-3 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                    </svg>\n                    Profile Settings\n                  </a>\n                </div>\n                \n                <div className=\"border-t border-gray-100 py-1\">\n                  <button\n                    onClick={handleSignOut}\n                    className=\"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors\"\n                  >\n                    <svg className=\"w-4 h-4 mr-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n                    </svg>\n                    Sign Out\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAUe,SAAS,gBAAgB,EAAE,IAAI,EAAwB;IACpE,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,oMAAO;IAC3B,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wQAAQ,EAAC;IAEjD,MAAM,gBAAgB;QACpB,MAAM;IACR;IAEA,MAAM,eAAe,KAAK,aAAa,EAAE,eACrC,KAAK,aAAa,CAAC,YAAY,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,IAAc,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,WAAW,KACxF,KAAK,KAAK,EAAE,OAAO,GAAG,iBAAiB;IAE3C,qBACE,qSAAC;QAAO,WAAU;kBAChB,cAAA,qSAAC;YAAI,WAAU;sBACb,cAAA,qSAAC;gBAAI,WAAU;;kCAEb,qSAAC;wBAAI,WAAU;kCACb,cAAA,qSAAC;4BAAI,WAAU;sCACb,cAAA,qSAAC;gCAAG,WAAU;0CAAgG;;;;;;;;;;;;;;;;kCAOlH,qSAAC;wBAAI,WAAU;;0CACb,qSAAC;gCACC,MAAK;gCACL,WAAU;0CACX;;;;;;0CAGD,qSAAC;gCACC,MAAK;gCACL,WAAU;0CACX;;;;;;0CAGD,qSAAC;gCACC,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;;kCAMH,qSAAC;wBAAI,WAAU;;0CACb,qSAAC;gCACC,SAAS,IAAM,gBAAgB,CAAC;gCAChC,WAAU;;kDAEV,qSAAC;wCAAI,WAAU;kDACZ;;;;;;kDAEH,qSAAC;wCAAI,WAAU;;0DACb,qSAAC;gDAAE,WAAU;0DACV,KAAK,aAAa,EAAE,gBAAgB;;;;;;0DAEvC,qSAAC;gDAAE,WAAU;0DAAyB,KAAK,KAAK;;;;;;;;;;;;kDAElD,qSAAC;wCACC,WAAW,CAAC,2CAA2C,EACrD,eAAe,eAAe,IAC9B;wCACF,MAAK;wCACL,QAAO;wCACP,SAAQ;kDAER,cAAA,qSAAC;4CAAK,eAAc;4CAAQ,gBAAe;4CAAQ,aAAa;4CAAG,GAAE;;;;;;;;;;;;;;;;;4BAKxE,8BACC,qSAAC;gCAAI,WAAU;;kDACb,qSAAC;wCAAI,WAAU;;0DACb,qSAAC;gDAAE,WAAU;0DACV,KAAK,aAAa,EAAE,gBAAgB;;;;;;0DAEvC,qSAAC;gDAAE,WAAU;0DAAkC,KAAK,KAAK;;;;;;;;;;;;kDAG3D,qSAAC;wCAAI,WAAU;kDACb,cAAA,qSAAC;4CACC,MAAK;4CACL,WAAU;;8DAEV,qSAAC;oDAAI,WAAU;oDAA6B,MAAK;oDAAO,QAAO;oDAAe,SAAQ;8DACpF,cAAA,qSAAC;wDAAK,eAAc;wDAAQ,gBAAe;wDAAQ,aAAa;wDAAG,GAAE;;;;;;;;;;;gDACjE;;;;;;;;;;;;kDAKV,qSAAC;wCAAI,WAAU;kDACb,cAAA,qSAAC;4CACC,SAAS;4CACT,WAAU;;8DAEV,qSAAC;oDAAI,WAAU;oDAAe,MAAK;oDAAO,QAAO;oDAAe,SAAQ;8DACtE,cAAA,qSAAC;wDAAK,eAAc;wDAAQ,gBAAe;wDAAQ,aAAa;wDAAG,GAAE;;;;;;;;;;;gDACjE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAW1B"}},
    {"offset": {"line": 308, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/components/VerticalItinerary.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { ItineraryDay, Activity, ActivityInput } from '@/types/itinerary';\nimport { format } from 'date-fns';\nimport MediaCarousel from './MediaCarousel';\n\ninterface VerticalItineraryProps {\n  itinerary: ItineraryDay[];\n  tripId?: string;\n  onAddActivity: (dayIndex: number, activity: ActivityInput) => Promise<void> | void;\n  onEditActivity: (dayIndex: number, activityId: string, activity: ActivityInput) => Promise<void> | void;\n  onDeleteActivity: (dayIndex: number, activityId: string) => Promise<void> | void;\n  onSaveNotes?: (dayIndex: number, notes: string) => Promise<void> | void;\n  onSaveExpense?: (dayIndex: number, expense: { title: string; amount: number; category: string; currency: string; date: string }) => Promise<void> | void;\n  onUpdateDay?: (dayIndex: number, updatedDay: Partial<ItineraryDay>) => void | Promise<void>;\n  onAddDay?: () => void;\n  onDeleteDay?: (dayIndex: number) => void;\n}\n\nexport default function VerticalItinerary({\n  itinerary,\n  tripId,\n  onAddActivity,\n  onEditActivity,\n  onDeleteActivity,\n  onSaveNotes,\n  onSaveExpense,\n  onUpdateDay,\n  onAddDay,\n  onDeleteDay\n}: VerticalItineraryProps) {\n  const [expandedDays, setExpandedDays] = useState<Set<number>>(new Set([0])); // First day expanded by default\n  const [editingDay, setEditingDay] = useState<{dayIndex: number, field: 'title' | 'notes'} | null>(null);\n  const [editValue, setEditValue] = useState('');\n  const [activityModal, setActivityModal] = useState<{ dayIndex: number; activity?: Activity } | null>(null);\n  const [activityTitle, setActivityTitle] = useState('');\n  const [activityTime, setActivityTime] = useState('');\n  const [activityCategory, setActivityCategory] = useState<Activity['category']>('sightseeing');\n  const [activityType, setActivityType] = useState<Activity['type']>('morning');\n  const [activityLocation, setActivityLocation] = useState('');\n  const [activityDescription, setActivityDescription] = useState('');\n  const [activityCost, setActivityCost] = useState('');\n  const [notesModal, setNotesModal] = useState<{ dayIndex: number } | null>(null);\n  const [notesValue, setNotesValue] = useState('');\n  const [expenseModal, setExpenseModal] = useState<{ dayIndex: number } | null>(null);\n  const [expenseTitle, setExpenseTitle] = useState('');\n  const [expenseAmount, setExpenseAmount] = useState('');\n  const [expenseCategory, setExpenseCategory] = useState<'food' | 'transport' | 'accommodation' | 'shopping' | 'activities' | 'other'>('food');\n  const [isActivitySaving, setIsActivitySaving] = useState(false);\n  const [isNotesSaving, setIsNotesSaving] = useState(false);\n  const [isExpenseSaving, setIsExpenseSaving] = useState(false);\n  const [draggedDayIndex, setDraggedDayIndex] = useState<number | null>(null);\n  const [dragOverDayIndex, setDragOverDayIndex] = useState<number | null>(null);\n  const [mediaUploadDayIndex, setMediaUploadDayIndex] = useState<number | null>(null);\n  const [isMediaUploading, setIsMediaUploading] = useState(false);\n  const [dayMedia, setDayMedia] = useState<{ [key: number]: any[] }>({});\n  const [currentMediaIndex, setCurrentMediaIndex] = useState<{ [key: number]: number }>({});\n\n  // Load media for all days on mount\n  useEffect(() => {\n    const loadAllMedia = async () => {\n      if (!tripId || itinerary.length === 0) return;\n      \n      try {\n        const { getMediaForDay } = await import('@/lib/trip-service');\n        const mediaMap: { [key: number]: any[] } = {};\n        \n        for (let dayIndex = 0; dayIndex < itinerary.length; dayIndex++) {\n          const media = await getMediaForDay(tripId, dayIndex + 1);\n          mediaMap[dayIndex] = media;\n        }\n        \n        setDayMedia(mediaMap);\n      } catch (error) {\n        console.error('Error loading media:', error);\n      }\n    };\n    \n    loadAllMedia();\n  }, [tripId, itinerary.length]);\n\n  const resetActivityForm = () => {\n    setActivityTitle('');\n    setActivityTime('');\n    setActivityCategory('sightseeing');\n    setActivityType('morning');\n    setActivityLocation('');\n    setActivityDescription('');\n    setActivityCost('');\n    setIsActivitySaving(false);\n  };\n\n  const openActivityModal = (dayIndex: number, activity?: Activity) => {\n    setIsActivitySaving(false);\n\n    if (activity) {\n      setActivityModal({ dayIndex, activity });\n      setActivityTitle(activity.title);\n      setActivityTime(activity.time || '');\n      setActivityCategory(activity.category);\n      setActivityType(activity.type || 'morning');\n      setActivityLocation(activity.location || '');\n      setActivityDescription(activity.description || '');\n      setActivityCost(activity.cost !== undefined && activity.cost !== null ? String(activity.cost) : '');\n    } else {\n      resetActivityForm();\n      setActivityModal({ dayIndex });\n    }\n  };\n\n  const closeActivityModal = () => {\n    setActivityModal(null);\n    resetActivityForm();\n  };\n\n  const handleSubmitActivity = async () => {\n    if (!activityModal || activityTitle.trim() === '') return;\n\n    const trimmedTitle = activityTitle.trim();\n    const trimmedTime = activityTime.trim();\n    const costValue = activityCost.trim() === '' ? undefined : Number(activityCost);\n    const safeCost = costValue !== undefined && !Number.isNaN(costValue) ? costValue : undefined;\n\n    const payload: ActivityInput = {\n      title: trimmedTitle,\n      time: trimmedTime,\n      type: activityType,\n      category: activityCategory,\n      description: activityDescription.trim() || undefined,\n      location: activityLocation.trim() || undefined,\n      cost: safeCost,\n    };\n\n    setIsActivitySaving(true);\n\n    try {\n      if (activityModal.activity) {\n        await onEditActivity(activityModal.dayIndex, activityModal.activity.id, payload);\n      } else {\n        await onAddActivity(activityModal.dayIndex, payload);\n      }\n      closeActivityModal();\n    } catch (error) {\n      console.error('Error saving activity:', error);\n    } finally {\n      setIsActivitySaving(false);\n    }\n  };\n\n  const handleDeleteActivity = async (dayIndex: number, activityId: string) => {\n    const confirmDelete = window.confirm('Delete this activity?');\n    if (!confirmDelete) return;\n\n    try {\n      await onDeleteActivity(dayIndex, activityId);\n    } catch (error) {\n      console.error('Error deleting activity:', error);\n    }\n  };\n\n  const openNotesModal = (dayIndex: number) => {\n    setNotesModal({ dayIndex });\n    setNotesValue(itinerary[dayIndex]?.notes || '');\n  };\n\n  const closeNotesModal = () => {\n    setNotesModal(null);\n    setNotesValue('');\n  };\n\n  const handleSaveNotes = async () => {\n    if (!notesModal) return;\n    setIsNotesSaving(true);\n\n    try {\n      if (onSaveNotes) {\n        await onSaveNotes(notesModal.dayIndex, notesValue);\n      } else if (onUpdateDay) {\n        await onUpdateDay(notesModal.dayIndex, { notes: notesValue });\n      }\n      closeNotesModal();\n    } catch (error) {\n      console.error('Error saving notes:', error);\n    } finally {\n      setIsNotesSaving(false);\n    }\n  };\n\n  const openExpenseModal = (dayIndex: number) => {\n    setExpenseModal({ dayIndex });\n    setExpenseTitle('');\n    setExpenseAmount('');\n    setExpenseCategory('food');\n  };\n\n  const closeExpenseModal = () => {\n    setExpenseModal(null);\n    setExpenseTitle('');\n    setExpenseAmount('');\n    setExpenseCategory('food');\n  };\n\n  const handleSaveExpense = async () => {\n    if (!expenseModal || !expenseTitle.trim() || !expenseAmount.trim()) return;\n    setIsExpenseSaving(true);\n\n    try {\n      const amount = parseFloat(expenseAmount);\n      if (isNaN(amount) || amount < 0) {\n        console.error('Invalid amount');\n        return;\n      }\n\n      if (onSaveExpense) {\n        await onSaveExpense(expenseModal.dayIndex, {\n          title: expenseTitle.trim(),\n          amount,\n          category: expenseCategory,\n          currency: 'USD',\n          date: new Date().toISOString().split('T')[0]\n        });\n      }\n      closeExpenseModal();\n    } catch (error) {\n      console.error('Error saving expense:', error);\n    } finally {\n      setIsExpenseSaving(false);\n    }\n  };\n\n  const handleMediaUpload = async (dayIndex: number, file: File) => {\n    if (!tripId) {\n      console.error('Trip ID not available');\n      return;\n    }\n\n    setIsMediaUploading(true);\n    try {\n      const { uploadMedia, getMediaForDay } = await import('@/lib/trip-service');\n      const mediaType = file.type.startsWith('video') ? 'video' : 'image';\n\n      await uploadMedia(tripId, dayIndex + 1, file, mediaType, file.name);\n\n      const media = await getMediaForDay(tripId, dayIndex + 1);\n      setDayMedia(prev => ({ ...prev, [dayIndex]: media }));\n\n      console.log('Media uploaded successfully');\n    } catch (error) {\n      console.error('Error uploading media:', error);\n    } finally {\n      setIsMediaUploading(false);\n    }\n  };\n\n  const toggleDay = (dayIndex: number) => {\n    const newExpanded = new Set(expandedDays);\n    if (newExpanded.has(dayIndex)) {\n      newExpanded.delete(dayIndex);\n    } else {\n      newExpanded.add(dayIndex);\n    }\n    setExpandedDays(newExpanded);\n  };\n\n  const handleDragStart = (dayIndex: number) => {\n    setDraggedDayIndex(dayIndex);\n  };\n\n  const handleDragOver = (e: React.DragEvent, dayIndex: number) => {\n    e.preventDefault();\n    setDragOverDayIndex(dayIndex);\n  };\n\n  const handleDragLeave = () => {\n    setDragOverDayIndex(null);\n  };\n\n  const handleDrop = async (e: React.DragEvent, dropIndex: number) => {\n    e.preventDefault();\n    setDragOverDayIndex(null);\n\n    if (draggedDayIndex === null || draggedDayIndex === dropIndex) {\n      return;\n    }\n\n    const newItinerary = [...itinerary];\n    const draggedDay = newItinerary[draggedDayIndex];\n    newItinerary.splice(draggedDayIndex, 1);\n    newItinerary.splice(dropIndex, 0, draggedDay);\n\n    const renumberedItinerary = newItinerary.map((day, index) => ({\n      ...day,\n      day: index + 1\n    }));\n\n    if (onUpdateDay) {\n      for (let i = 0; i < renumberedItinerary.length; i++) {\n        const day = renumberedItinerary[i];\n        if (day.day !== itinerary[i].day) {\n          await onUpdateDay(i, { day: day.day });\n        }\n      }\n    }\n\n    setDraggedDayIndex(null);\n  };\n\n  const getDayTitle = (day: ItineraryDay) => {\n    // Use custom title if set, otherwise generate dynamic titles\n    console.log('getDayTitle called for day', day.day, 'customTitle:', day.customTitle);\n    if (day.customTitle) {\n      return day.customTitle;\n    }\n    if (day.activities.length > 0) {\n      const mainActivity = day.activities[0];\n      return mainActivity.location || mainActivity.title;\n    }\n    return `Day ${day.day}`;\n  };\n\n  const getDayDescription = (day: ItineraryDay) => {\n    // Show day notes if they exist, otherwise show default message\n    return day.notes || 'Explore and enjoy your day!';\n  };\n\n  const getActivityTypeIcon = (type: string) => {\n    switch (type) {\n      case 'transport': return '‚úàÔ∏è';\n      case 'accommodation': return 'üè®';\n      case 'sightseeing': return 'üóæ';\n      case 'food': return 'üçú';\n      case 'shopping': return 'üõçÔ∏è';\n      case 'entertainment': return 'üé≠';\n      default: return 'üìç';\n    }\n  };\n\n  const getCategoryColor = (category: string) => {\n    switch (category) {\n      case 'transport': return 'bg-blue-100 text-blue-800 border-blue-200';\n      case 'accommodation': return 'bg-purple-100 text-purple-800 border-purple-200';\n      case 'sightseeing': return 'bg-green-100 text-green-800 border-green-200';\n      case 'food': return 'bg-orange-100 text-orange-800 border-orange-200';\n      case 'shopping': return 'bg-pink-100 text-pink-800 border-pink-200';\n      case 'entertainment': return 'bg-indigo-100 text-indigo-800 border-indigo-200';\n      default: return 'bg-gray-100 text-gray-800 border-gray-200';\n    }\n  };\n\n  const startEditingDay = (dayIndex: number, field: 'title' | 'notes', currentValue: string) => {\n    setEditingDay({ dayIndex, field });\n    setEditValue(currentValue);\n  };\n\n  const saveEditingDay = () => {\n    if (editingDay && onUpdateDay) {\n      console.log('Saving day edit:', { dayIndex: editingDay.dayIndex, field: editingDay.field, value: editValue });\n      if (editingDay.field === 'title') {\n        // Update the day's custom title\n        onUpdateDay(editingDay.dayIndex, { customTitle: editValue });\n      } else if (editingDay.field === 'notes') {\n        onUpdateDay(editingDay.dayIndex, { notes: editValue });\n      }\n    }\n    setEditingDay(null);\n    setEditValue('');\n  };\n\n  const cancelEditingDay = () => {\n    setEditingDay(null);\n    setEditValue('');\n  };\n\n  // Show empty state if no days exist\n  if (itinerary.length === 0) {\n    return (\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"text-center py-16\">\n          <div className=\"w-32 h-32 bg-gradient-to-br from-purple-100 to-blue-100 rounded-full flex items-center justify-center mx-auto mb-8\">\n            <div className=\"text-6xl\">üìÖ</div>\n          </div>\n          <h3 className=\"text-2xl font-bold text-gray-900 mb-4\">Start Planning Your Journey!</h3>\n          <p className=\"text-gray-600 mb-8 max-w-md mx-auto\">\n            Create your first day to begin building your amazing itinerary. Add activities, plan your schedule, and make memories!\n          </p>\n          {onAddDay && (\n            <button\n              onClick={onAddDay}\n              className=\"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-8 py-4 rounded-2xl font-semibold hover:from-purple-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1\"\n            >\n              ‚ú® Add Your First Day\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      {/* Timeline Container */}\n      <div className=\"relative\">\n        {/* Vertical Line */}\n        <div className=\"absolute left-8 top-0 bottom-0 w-1 bg-gradient-to-b from-purple-400 via-blue-400 to-green-400 rounded-full shadow-sm\"></div>\n\n        {/* Timeline Items */}\n        <div className=\"space-y-8\">\n          {itinerary.map((day, dayIndex) => {\n            const isExpanded = expandedDays.has(dayIndex);\n            const isLast = dayIndex === itinerary.length - 1;\n\n            return (\n              <div key={dayIndex} className=\"relative\">\n                {/* Timeline Dot */}\n                <div className=\"absolute left-6 w-5 h-5 bg-white border-4 border-purple-500 rounded-full shadow-lg z-10 hover:scale-110 transition-transform duration-200\"></div>\n\n                {/* Day Card */}\n                <div className=\"ml-20\">\n                  <div\n                    draggable\n                    onDragStart={() => handleDragStart(dayIndex)}\n                    onDragOver={(e) => handleDragOver(e, dayIndex)}\n                    onDragLeave={handleDragLeave}\n                    onDrop={(e) => handleDrop(e, dayIndex)}\n                    className={`bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 overflow-hidden hover:shadow-xl transition-all duration-300 cursor-move ${\n                      draggedDayIndex === dayIndex ? 'opacity-50' : ''\n                    } ${\n                      dragOverDayIndex === dayIndex && draggedDayIndex !== dayIndex ? 'border-purple-500 border-2 bg-purple-50' : ''\n                    }`}\n                  >\n                    {/* Day Header - Always Visible */}\n                    <div \n                      className=\"p-6 cursor-pointer hover:bg-gray-50/50 transition-colors\"\n                      onClick={() => toggleDay(dayIndex)}\n                    >\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center space-x-4\">\n                          <div className=\"w-12 h-12 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg\">\n                            {day.day}\n                          </div>\n                          <div>\n                            {editingDay?.dayIndex === dayIndex && editingDay?.field === 'title' ? (\n                              <div className=\"flex items-center space-x-2\">\n                                <input\n                                  type=\"text\"\n                                  value={editValue}\n                                  onChange={(e) => setEditValue(e.target.value)}\n                                  onKeyDown={(e) => {\n                                    if (e.key === 'Enter') saveEditingDay();\n                                    if (e.key === 'Escape') cancelEditingDay();\n                                  }}\n                                  className=\"text-xl font-bold text-gray-900 bg-white border border-purple-300 rounded-lg px-3 py-1 focus:outline-none focus:ring-2 focus:ring-purple-500\"\n                                  autoFocus\n                                />\n                                <button\n                                  onClick={saveEditingDay}\n                                  className=\"text-green-600 hover:text-green-700 p-1\"\n                                >\n                                  ‚úì\n                                </button>\n                                <button\n                                  onClick={cancelEditingDay}\n                                  className=\"text-red-600 hover:text-red-700 p-1\"\n                                >\n                                  ‚úï\n                                </button>\n                              </div>\n                            ) : (\n                              <h3 \n                                className=\"text-xl font-bold text-gray-900 flex items-center cursor-pointer hover:text-purple-600 transition-colors group\"\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  const currentTitle = getDayTitle(day);\n                                  startEditingDay(dayIndex, 'title', currentTitle);\n                                }}\n                              >\n                                üìç {getDayTitle(day)}\n                                <span className=\"ml-2 opacity-0 group-hover:opacity-100 text-sm text-purple-500 transition-opacity\">‚úèÔ∏è</span>\n                              </h3>\n                            )}\n                            <p className=\"text-gray-600 text-sm\">\n                              {format(new Date(day.date), 'EEEE, MMMM d, yyyy')}\n                            </p>\n                          </div>\n                        </div>\n                        \n                        <div className=\"flex items-center space-x-4\">\n                          {/* Activity Count */}\n                          <div className=\"flex items-center space-x-2\">\n                            <span className=\"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full\">\n                              {day.activities.length} {day.activities.length === 1 ? 'Activity' : 'Activities'}\n                            </span>\n                            {day.accommodation && (\n                              <span className=\"px-3 py-1 bg-purple-100 text-purple-800 text-sm font-medium rounded-full\">\n                                üè® Hotel\n                              </span>\n                            )}\n                            {/* Delete Day Button */}\n                            {onDeleteDay && itinerary.length > 1 && (\n                              <button\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  if (window.confirm(`Are you sure you want to delete ${getDayTitle(day)}?`)) {\n                                    onDeleteDay(dayIndex);\n                                  }\n                                }}\n                                className=\"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-full transition-colors\"\n                                title=\"Delete Day\"\n                              >\n                                üóëÔ∏è\n                              </button>\n                            )}\n                          </div>\n                          \n                          {/* Expand/Collapse Icon */}\n                          <svg \n                            className={`w-6 h-6 text-gray-400 transition-transform duration-200 ${isExpanded ? 'rotate-180' : ''}`}\n                            fill=\"none\" \n                            stroke=\"currentColor\" \n                            viewBox=\"0 0 24 24\"\n                          >\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                          </svg>\n                        </div>\n                      </div>\n\n                      {/* Brief Description - Always Visible */}\n                      <div className=\"mt-4\">\n                        {editingDay?.dayIndex === dayIndex && editingDay?.field === 'notes' ? (\n                          <div className=\"flex items-start space-x-2\">\n                            <textarea\n                              value={editValue}\n                              onChange={(e) => setEditValue(e.target.value)}\n                              onKeyDown={(e) => {\n                                if (e.key === 'Enter' && e.ctrlKey) saveEditingDay();\n                                if (e.key === 'Escape') cancelEditingDay();\n                              }}\n                              className=\"flex-1 px-3 py-2 text-gray-700 bg-white border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500\"\n                              rows={2}\n                              autoFocus\n                            />\n                            <div className=\"flex space-x-1 pt-2\">\n                              <button\n                                onClick={saveEditingDay}\n                                className=\"text-green-600 hover:text-green-700 p-1\"\n                              >\n                                ‚úì\n                              </button>\n                              <button\n                                onClick={cancelEditingDay}\n                                className=\"text-red-600 hover:text-red-700 p-1\"\n                              >\n                                ‚úï\n                              </button>\n                            </div>\n                          </div>\n                        ) : (\n                          <p\n                            className=\"text-gray-700 leading-relaxed cursor-pointer hover:text-purple-600 transition-colors group\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              startEditingDay(dayIndex, 'notes', getDayDescription(day));\n                            }}\n                          >\n                            {getDayDescription(day)}\n                            <span className=\"ml-2 opacity-0 group-hover:opacity-100 text-sm text-purple-500 transition-opacity\">‚úèÔ∏è</span>\n                          </p>\n                        )}\n                      </div>\n                    </div>\n\n                    {/* Expanded Content */}\n                    {isExpanded && (\n                      <div className=\"border-t border-gray-100\">\n                        {/* Media Gallery as Hero Section */}\n                        {dayMedia[dayIndex] && dayMedia[dayIndex].length > 0 ? (\n                          <div className=\"p-6 bg-gray-50 border-b border-gray-200\">\n                            <div className=\"grid grid-cols-2 gap-4\">\n                              {dayMedia[dayIndex].map((media) => (\n                                <div key={media.id} className=\"relative group\">\n                                  {media.type === 'image' ? (\n                                    <img\n                                      src={media.url}\n                                      alt={media.title}\n                                      className=\"w-full h-48 object-cover rounded-lg shadow-md\"\n                                    />\n                                  ) : (\n                                    <video\n                                      src={media.url}\n                                      className=\"w-full h-48 object-cover rounded-lg shadow-md\"\n                                      controls\n                                    />\n                                  )}\n                                  <button\n                                    className=\"absolute top-2 right-2 bg-red-500 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity\"\n                                  >\n                                    üóëÔ∏è\n                                  </button>\n                                </div>\n                              ))}\n                            </div>\n                          </div>\n                        ) : (\n                          <div className=\"h-64 bg-gradient-to-r from-purple-400 via-pink-400 to-orange-400 relative overflow-hidden\">\n                            <div className=\"absolute inset-0 bg-black/20\"></div>\n                            <div className=\"absolute inset-0 flex items-center justify-center\">\n                              <div className=\"text-center text-white\">\n                                <div className=\"text-6xl mb-4\">üóæ</div>\n                                <h4 className=\"text-2xl font-bold\">Day {day.day} Adventure</h4>\n                              </div>\n                            </div>\n                          </div>\n                        )}\n\n                        {/* Day Notes Section */}\n                        {day.notes && (\n                          <div className=\"p-6 bg-blue-50 border-b border-blue-100\">\n                            <h5 className=\"font-semibold text-gray-900 mb-2 flex items-center\">\n                              üìù Day Notes\n                            </h5>\n                            <p className=\"text-gray-700 text-sm leading-relaxed whitespace-pre-wrap\">{day.notes}</p>\n                          </div>\n                        )}\n\n                        {/* Media Upload Button */}\n                        <div className=\"p-6 bg-gradient-to-r from-blue-50 to-purple-50 border-b border-blue-100\">\n                          <label className=\"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-blue-300 rounded-xl cursor-pointer hover:border-blue-500 hover:bg-blue-100 transition-colors\">\n                            <div className=\"flex items-center space-x-2\">\n                              <span className=\"text-2xl\">üì∏</span>\n                              <span className=\"text-sm font-medium text-gray-700\">Upload Photo or Video</span>\n                            </div>\n                            <input\n                              type=\"file\"\n                              accept=\"image/*,video/*\"\n                              multiple\n                              className=\"hidden\"\n                              onChange={(e) => {\n                                if (e.target.files) {\n                                  Array.from(e.target.files).forEach(file => {\n                                    handleMediaUpload(dayIndex, file);\n                                  });\n                                }\n                              }}\n                              disabled={isMediaUploading}\n                            />\n                          </label>\n                        </div>\n\n                        {/* Activities Section */}\n                        <div className=\"p-6 space-y-6\">\n                          {day.activities.length > 0 ? (\n                            day.activities.map((activity) => (\n                              <div key={activity.id} className=\"border border-gray-200 rounded-xl p-4 hover:border-purple-300 transition-colors\">\n                                <div className=\"flex items-start justify-between mb-3\">\n                                  <div className=\"flex items-center space-x-3\">\n                                    <div className=\"text-2xl\">{getActivityTypeIcon(activity.category)}</div>\n                                    <div>\n                                      <h5 className=\"font-semibold text-gray-900\">{activity.title}</h5>\n                                      <p className=\"text-sm text-gray-600\">{activity.time}</p>\n                                    </div>\n                                  </div>\n                                  <div className=\"flex items-center space-x-2\">\n                                    <span className={`px-3 py-1 text-xs font-medium rounded-full border ${getCategoryColor(activity.category)}`}>\n                                      {activity.category}\n                                    </span>\n                                    {activity.cost !== undefined && activity.cost !== null && (\n                                      <span className=\"px-3 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full\">\n                                        ${activity.cost}\n                                      </span>\n                                    )}\n                                    <button\n                                      onClick={() => openActivityModal(dayIndex, activity)}\n                                      className=\"p-2 text-purple-500 hover:text-purple-700 hover:bg-purple-50 rounded-full transition-colors\"\n                                      title=\"Edit Activity\"\n                                    >\n                                      ‚úèÔ∏è\n                                    </button>\n                                    <button\n                                      onClick={() => handleDeleteActivity(dayIndex, activity.id)}\n                                      className=\"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-full transition-colors\"\n                                      title=\"Delete Activity\"\n                                    >\n                                      üóëÔ∏è\n                                    </button>\n                                  </div>\n                                </div>\n                                \n                                {activity.description && (\n                                  <p className=\"text-gray-700 text-sm leading-relaxed mb-3\">{activity.description}</p>\n                                )}\n                                \n                                {activity.location && (\n                                  <div className=\"flex items-center text-sm text-gray-600\">\n                                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n                                    </svg>\n                                    {activity.location}\n                                  </div>\n                                )}\n                              </div>\n                            ))\n                          ) : (\n                            <div className=\"text-center py-8 border-2 border-dashed border-gray-300 rounded-xl\">\n                              <div className=\"text-4xl mb-4\">üìù</div>\n                              <h5 className=\"font-medium text-gray-900 mb-2\">No activities planned</h5>\n                              <p className=\"text-gray-600 text-sm mb-4\">Add activities to make the most of this day</p>\n                                  <button\n                                onClick={() => openActivityModal(dayIndex)}\n                                className=\"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-2 rounded-xl font-medium hover:from-purple-700 hover:to-blue-700 transition-all duration-200\"\n                              >\n                                + Add Activity\n                              </button>\n                            </div>\n                          )}\n\n                          {/* Accommodation Section */}\n                          {day.accommodation && (\n                            <div className=\"bg-purple-50 border border-purple-200 rounded-xl p-4\">\n                              <h5 className=\"font-semibold text-gray-900 mb-2 flex items-center\">\n                                üè® Accommodation\n                              </h5>\n                              <div className=\"space-y-2\">\n                                <p className=\"font-medium text-gray-900\">{day.accommodation.name}</p>\n                                <p className=\"text-sm text-gray-600\">{day.accommodation.address}</p>\n                                <div className=\"flex items-center space-x-4 text-sm\">\n                                  <span className=\"text-gray-600\">\n                                    Check-in: {format(new Date(day.accommodation.checkIn), 'MMM d')}\n                                  </span>\n                                  <span className=\"text-gray-600\">\n                                    Check-out: {format(new Date(day.accommodation.checkOut), 'MMM d')}\n                                  </span>\n                                  <span className=\"text-green-600 font-medium\">\n                                    ${day.accommodation.cost}\n                                  </span>\n                                </div>\n                              </div>\n                            </div>\n                          )}\n\n                          {/* Day Stats */}\n                          <div className=\"grid grid-cols-3 gap-4 pt-4 border-t border-gray-100\">\n                            <div className=\"text-center\">\n                              <div className=\"text-lg font-bold text-purple-600\">\n                                ${day.actualSpent || 0}\n                              </div>\n                              <div className=\"text-xs text-gray-600\">Spent</div>\n                            </div>\n                            <div className=\"text-center\">\n                              <div className=\"text-lg font-bold text-blue-600\">\n                                {day.activities.reduce((sum, activity) => sum + (activity.duration || 0), 0)}m\n                              </div>\n                              <div className=\"text-xs text-gray-600\">Duration</div>\n                            </div>\n                            <div className=\"text-center\">\n                              <div className=\"text-lg font-bold text-green-600\">\n                                {day.activities.filter(activity => activity.completed).length}/{day.activities.length}\n                              </div>\n                              <div className=\"text-xs text-gray-600\">Complete</div>\n                            </div>\n                          </div>\n\n                          {/* Quick Actions */}\n                          <div className=\"flex space-x-3 pt-4\">\n                            <button\n                              onClick={() => openActivityModal(dayIndex)}\n                              className=\"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white py-2 px-4 rounded-xl font-medium hover:from-purple-700 hover:to-blue-700 transition-all duration-200\"\n                            >\n                              + Add Activity\n                            </button>\n                            <button\n                              onClick={() => openNotesModal(dayIndex)}\n                              className=\"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-xl font-medium hover:bg-gray-200 transition-colors\"\n                            >\n                              üìù Add Notes\n                            </button>\n                            <button\n                              onClick={() => openExpenseModal(dayIndex)}\n                              className=\"flex-1 bg-green-100 text-green-700 py-2 px-4 rounded-xl font-medium hover:bg-green-200 transition-colors\"\n                            >\n                              üí∞ Add Expense\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Add Another Day Button */}\n        {onAddDay && (\n          <div className=\"relative ml-20 mt-8\">\n            <div className=\"absolute left-[-52px] w-5 h-5 bg-purple-500 border-4 border-white rounded-full shadow-lg\"></div>\n            <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 hover:shadow-xl transition-all duration-300\">\n              <div className=\"text-center\">\n                <div className=\"text-4xl mb-4\">‚ûï</div>\n                <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Add Another Day</h3>\n                <p className=\"text-gray-600 mb-4\">Continue your adventure with more activities!</p>\n                <button\n                  onClick={onAddDay}\n                  className=\"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n                >\n                  + Add Day {itinerary.length + 1}\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* End of Timeline */}\n        <div className=\"relative ml-20 mt-8\">\n          <div className=\"absolute left-[-52px] w-5 h-5 bg-green-500 border-4 border-white rounded-full shadow-lg\"></div>\n          <div className=\"bg-gradient-to-r from-green-500 to-emerald-500 text-white p-6 rounded-2xl shadow-lg\">\n            <div className=\"text-center\">\n              <div className=\"text-4xl mb-4\">üéâ</div>\n              <h3 className=\"text-xl font-bold mb-2\">Journey Complete!</h3>\n              <p className=\"text-green-100\">What an amazing adventure you've had!</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Add Activity Modal */}\n      {activityModal && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white/95 backdrop-blur-lg rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-white/20\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-xl font-bold text-gray-900\">\n                {activityModal.activity ? 'Edit Activity' : 'Add Activity'} ¬∑ Day {activityModal.dayIndex + 1}\n              </h2>\n              <button\n                onClick={closeActivityModal}\n                className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\n              >\n                <svg className=\"w-5 h-5 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Title *</label>\n                <input\n                  type=\"text\"\n                  value={activityTitle}\n                  onChange={(e) => setActivityTitle(e.target.value)}\n                  placeholder=\"e.g., Morning Hike\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                  autoFocus\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Time & Location</label>\n                <input\n                  type=\"text\"\n                  value={activityTime}\n                  onChange={(e) => setActivityTime(e.target.value)}\n                  placeholder=\"e.g., 9:00 AM ¬∑ Zion National Park\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Type of Day</label>\n                  <select\n                    value={activityType}\n                    onChange={(e) => setActivityType(e.target.value as Activity['type'])}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                  >\n                    <option value=\"morning\">Morning</option>\n                    <option value=\"afternoon\">Afternoon</option>\n                    <option value=\"evening\">Evening</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Category</label>\n                  <select\n                    value={activityCategory}\n                    onChange={(e) => setActivityCategory(e.target.value as Activity['category'])}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                  >\n                    <option value=\"sightseeing\">Sightseeing</option>\n                    <option value=\"food\">Food</option>\n                    <option value=\"transport\">Transport</option>\n                    <option value=\"accommodation\">Accommodation</option>\n                    <option value=\"shopping\">Shopping</option>\n                    <option value=\"entertainment\">Entertainment</option>\n                    <option value=\"other\">Other</option>\n                  </select>\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Location</label>\n                <input\n                  type=\"text\"\n                  value={activityLocation}\n                  onChange={(e) => setActivityLocation(e.target.value)}\n                  placeholder=\"Optional location details\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n                <textarea\n                  value={activityDescription}\n                  onChange={(e) => setActivityDescription(e.target.value)}\n                  rows={3}\n                  placeholder=\"Share details to remember\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Estimated Cost</label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  value={activityCost}\n                  onChange={(e) => setActivityCost(e.target.value)}\n                  placeholder=\"Optional cost\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                />\n              </div>\n\n              <div className=\"flex space-x-3 pt-4\">\n                <button\n                  onClick={closeActivityModal}\n                  className=\"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleSubmitActivity}\n                  className=\"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  disabled={activityTitle.trim() === '' || isActivitySaving}\n                >\n                  {isActivitySaving ? 'Saving...' : 'Save Activity'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Notes Modal */}\n      {notesModal && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white/95 backdrop-blur-lg rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-white/20\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-xl font-bold text-gray-900\">\n                üìù Day Notes ¬∑ Day {notesModal.dayIndex + 1}\n              </h2>\n              <button\n                onClick={closeNotesModal}\n                className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\n              >\n                <svg className=\"w-5 h-5 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Notes</label>\n                <textarea\n                  value={notesValue}\n                  onChange={(e) => setNotesValue(e.target.value)}\n                  rows={5}\n                  placeholder=\"Add notes about this day...\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                  autoFocus\n                />\n              </div>\n\n              <div className=\"flex space-x-3 pt-4\">\n                <button\n                  onClick={closeNotesModal}\n                  className=\"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleSaveNotes}\n                  className=\"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  disabled={isNotesSaving}\n                >\n                  {isNotesSaving ? 'Saving...' : 'Save Notes'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Expense Modal */}\n      {expenseModal && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white/95 backdrop-blur-lg rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-white/20\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-xl font-bold text-gray-900\">\n                üí∞ Add Expense ¬∑ Day {expenseModal.dayIndex + 1}\n              </h2>\n              <button\n                onClick={closeExpenseModal}\n                className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\n              >\n                <svg className=\"w-5 h-5 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description *</label>\n                <input\n                  type=\"text\"\n                  value={expenseTitle}\n                  onChange={(e) => setExpenseTitle(e.target.value)}\n                  placeholder=\"e.g., Lunch at restaurant\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                  autoFocus\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Amount *</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    step=\"0.01\"\n                    value={expenseAmount}\n                    onChange={(e) => setExpenseAmount(e.target.value)}\n                    placeholder=\"0.00\"\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Category</label>\n                  <select\n                    value={expenseCategory}\n                    onChange={(e) => setExpenseCategory(e.target.value as any)}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                  >\n                    <option value=\"food\">üçΩÔ∏è Food</option>\n                    <option value=\"transport\">üöó Transport</option>\n                    <option value=\"accommodation\">üè® Accommodation</option>\n                    <option value=\"shopping\">üõçÔ∏è Shopping</option>\n                    <option value=\"activities\">üé≠ Activities</option>\n                    <option value=\"other\">üìå Other</option>\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"flex space-x-3 pt-4\">\n                <button\n                  onClick={closeExpenseModal}\n                  className=\"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleSaveExpense}\n                  className=\"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  disabled={!expenseTitle.trim() || !expenseAmount.trim() || isExpenseSaving}\n                >\n                  {isExpenseSaving ? 'Saving...' : 'Add Expense'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAJA;;;;AAoBe,SAAS,kBAAkB,EACxC,SAAS,EACT,MAAM,EACN,aAAa,EACb,cAAc,EACd,gBAAgB,EAChB,WAAW,EACX,aAAa,EACb,WAAW,EACX,QAAQ,EACR,WAAW,EACY;IACvB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wQAAQ,EAAc,IAAI,IAAI;QAAC;KAAE,IAAI,gCAAgC;IAC7G,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,wQAAQ,EAAsD;IAClG,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wQAAQ,EAAC;IAC3C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,wQAAQ,EAAmD;IACrG,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,wQAAQ,EAAC;IACnD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wQAAQ,EAAC;IACjD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,wQAAQ,EAAuB;IAC/E,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wQAAQ,EAAmB;IACnE,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,wQAAQ,EAAC;IACzD,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,IAAA,wQAAQ,EAAC;IAC/D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wQAAQ,EAAC;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,wQAAQ,EAA8B;IAC1E,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,wQAAQ,EAAC;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wQAAQ,EAA8B;IAC9E,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wQAAQ,EAAC;IACjD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,wQAAQ,EAAC;IACnD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,wQAAQ,EAA+E;IACrI,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,wQAAQ,EAAC;IACzD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,wQAAQ,EAAC;IACnD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,wQAAQ,EAAC;IACvD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,wQAAQ,EAAgB;IACtE,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,wQAAQ,EAAgB;IACxE,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,IAAA,wQAAQ,EAAgB;IAC9E,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,wQAAQ,EAAC;IACzD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,wQAAQ,EAA2B,CAAC;IACpE,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,wQAAQ,EAA4B,CAAC;IAEvF,mCAAmC;IACnC,IAAA,yQAAS,EAAC;QACR,MAAM,eAAe;YACnB,IAAI,CAAC,UAAU,UAAU,MAAM,KAAK,GAAG;YAEvC,IAAI;gBACF,MAAM,EAAE,cAAc,EAAE,GAAG;gBAC3B,MAAM,WAAqC,CAAC;gBAE5C,IAAK,IAAI,WAAW,GAAG,WAAW,UAAU,MAAM,EAAE,WAAY;oBAC9D,MAAM,QAAQ,MAAM,eAAe,QAAQ,WAAW;oBACtD,QAAQ,CAAC,SAAS,GAAG;gBACvB;gBAEA,YAAY;YACd,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,wBAAwB;YACxC;QACF;QAEA;IACF,GAAG;QAAC;QAAQ,UAAU,MAAM;KAAC;IAE7B,MAAM,oBAAoB;QACxB,iBAAiB;QACjB,gBAAgB;QAChB,oBAAoB;QACpB,gBAAgB;QAChB,oBAAoB;QACpB,uBAAuB;QACvB,gBAAgB;QAChB,oBAAoB;IACtB;IAEA,MAAM,oBAAoB,CAAC,UAAkB;QAC3C,oBAAoB;QAEpB,IAAI,UAAU;YACZ,iBAAiB;gBAAE;gBAAU;YAAS;YACtC,iBAAiB,SAAS,KAAK;YAC/B,gBAAgB,SAAS,IAAI,IAAI;YACjC,oBAAoB,SAAS,QAAQ;YACrC,gBAAgB,SAAS,IAAI,IAAI;YACjC,oBAAoB,SAAS,QAAQ,IAAI;YACzC,uBAAuB,SAAS,WAAW,IAAI;YAC/C,gBAAgB,SAAS,IAAI,KAAK,aAAa,SAAS,IAAI,KAAK,OAAO,OAAO,SAAS,IAAI,IAAI;QAClG,OAAO;YACL;YACA,iBAAiB;gBAAE;YAAS;QAC9B;IACF;IAEA,MAAM,qBAAqB;QACzB,iBAAiB;QACjB;IACF;IAEA,MAAM,uBAAuB;QAC3B,IAAI,CAAC,iBAAiB,cAAc,IAAI,OAAO,IAAI;QAEnD,MAAM,eAAe,cAAc,IAAI;QACvC,MAAM,cAAc,aAAa,IAAI;QACrC,MAAM,YAAY,aAAa,IAAI,OAAO,KAAK,YAAY,OAAO;QAClE,MAAM,WAAW,cAAc,aAAa,CAAC,OAAO,KAAK,CAAC,aAAa,YAAY;QAEnF,MAAM,UAAyB;YAC7B,OAAO;YACP,MAAM;YACN,MAAM;YACN,UAAU;YACV,aAAa,oBAAoB,IAAI,MAAM;YAC3C,UAAU,iBAAiB,IAAI,MAAM;YACrC,MAAM;QACR;QAEA,oBAAoB;QAEpB,IAAI;YACF,IAAI,cAAc,QAAQ,EAAE;gBAC1B,MAAM,eAAe,cAAc,QAAQ,EAAE,cAAc,QAAQ,CAAC,EAAE,EAAE;YAC1E,OAAO;gBACL,MAAM,cAAc,cAAc,QAAQ,EAAE;YAC9C;YACA;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;QAC1C,SAAU;YACR,oBAAoB;QACtB;IACF;IAEA,MAAM,uBAAuB,OAAO,UAAkB;QACpD,MAAM,gBAAgB,OAAO,OAAO,CAAC;QACrC,IAAI,CAAC,eAAe;QAEpB,IAAI;YACF,MAAM,iBAAiB,UAAU;QACnC,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4BAA4B;QAC5C;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,cAAc;YAAE;QAAS;QACzB,cAAc,SAAS,CAAC,SAAS,EAAE,SAAS;IAC9C;IAEA,MAAM,kBAAkB;QACtB,cAAc;QACd,cAAc;IAChB;IAEA,MAAM,kBAAkB;QACtB,IAAI,CAAC,YAAY;QACjB,iBAAiB;QAEjB,IAAI;YACF,IAAI,aAAa;gBACf,MAAM,YAAY,WAAW,QAAQ,EAAE;YACzC,OAAO,IAAI,aAAa;gBACtB,MAAM,YAAY,WAAW,QAAQ,EAAE;oBAAE,OAAO;gBAAW;YAC7D;YACA;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uBAAuB;QACvC,SAAU;YACR,iBAAiB;QACnB;IACF;IAEA,MAAM,mBAAmB,CAAC;QACxB,gBAAgB;YAAE;QAAS;QAC3B,gBAAgB;QAChB,iBAAiB;QACjB,mBAAmB;IACrB;IAEA,MAAM,oBAAoB;QACxB,gBAAgB;QAChB,gBAAgB;QAChB,iBAAiB;QACjB,mBAAmB;IACrB;IAEA,MAAM,oBAAoB;QACxB,IAAI,CAAC,gBAAgB,CAAC,aAAa,IAAI,MAAM,CAAC,cAAc,IAAI,IAAI;QACpE,mBAAmB;QAEnB,IAAI;YACF,MAAM,SAAS,WAAW;YAC1B,IAAI,MAAM,WAAW,SAAS,GAAG;gBAC/B,QAAQ,KAAK,CAAC;gBACd;YACF;YAEA,IAAI,eAAe;gBACjB,MAAM,cAAc,aAAa,QAAQ,EAAE;oBACzC,OAAO,aAAa,IAAI;oBACxB;oBACA,UAAU;oBACV,UAAU;oBACV,MAAM,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;gBAC9C;YACF;YACA;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;QACzC,SAAU;YACR,mBAAmB;QACrB;IACF;IAEA,MAAM,oBAAoB,OAAO,UAAkB;QACjD,IAAI,CAAC,QAAQ;YACX,QAAQ,KAAK,CAAC;YACd;QACF;QAEA,oBAAoB;QACpB,IAAI;YACF,MAAM,EAAE,WAAW,EAAE,cAAc,EAAE,GAAG;YACxC,MAAM,YAAY,KAAK,IAAI,CAAC,UAAU,CAAC,WAAW,UAAU;YAE5D,MAAM,YAAY,QAAQ,WAAW,GAAG,MAAM,WAAW,KAAK,IAAI;YAElE,MAAM,QAAQ,MAAM,eAAe,QAAQ,WAAW;YACtD,YAAY,CAAA,OAAQ,CAAC;oBAAE,GAAG,IAAI;oBAAE,CAAC,SAAS,EAAE;gBAAM,CAAC;YAEnD,QAAQ,GAAG,CAAC;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;QAC1C,SAAU;YACR,oBAAoB;QACtB;IACF;IAEA,MAAM,YAAY,CAAC;QACjB,MAAM,cAAc,IAAI,IAAI;QAC5B,IAAI,YAAY,GAAG,CAAC,WAAW;YAC7B,YAAY,MAAM,CAAC;QACrB,OAAO;YACL,YAAY,GAAG,CAAC;QAClB;QACA,gBAAgB;IAClB;IAEA,MAAM,kBAAkB,CAAC;QACvB,mBAAmB;IACrB;IAEA,MAAM,iBAAiB,CAAC,GAAoB;QAC1C,EAAE,cAAc;QAChB,oBAAoB;IACtB;IAEA,MAAM,kBAAkB;QACtB,oBAAoB;IACtB;IAEA,MAAM,aAAa,OAAO,GAAoB;QAC5C,EAAE,cAAc;QAChB,oBAAoB;QAEpB,IAAI,oBAAoB,QAAQ,oBAAoB,WAAW;YAC7D;QACF;QAEA,MAAM,eAAe;eAAI;SAAU;QACnC,MAAM,aAAa,YAAY,CAAC,gBAAgB;QAChD,aAAa,MAAM,CAAC,iBAAiB;QACrC,aAAa,MAAM,CAAC,WAAW,GAAG;QAElC,MAAM,sBAAsB,aAAa,GAAG,CAAC,CAAC,KAAK,QAAU,CAAC;gBAC5D,GAAG,GAAG;gBACN,KAAK,QAAQ;YACf,CAAC;QAED,IAAI,aAAa;YACf,IAAK,IAAI,IAAI,GAAG,IAAI,oBAAoB,MAAM,EAAE,IAAK;gBACnD,MAAM,MAAM,mBAAmB,CAAC,EAAE;gBAClC,IAAI,IAAI,GAAG,KAAK,SAAS,CAAC,EAAE,CAAC,GAAG,EAAE;oBAChC,MAAM,YAAY,GAAG;wBAAE,KAAK,IAAI,GAAG;oBAAC;gBACtC;YACF;QACF;QAEA,mBAAmB;IACrB;IAEA,MAAM,cAAc,CAAC;QACnB,6DAA6D;QAC7D,QAAQ,GAAG,CAAC,8BAA8B,IAAI,GAAG,EAAE,gBAAgB,IAAI,WAAW;QAClF,IAAI,IAAI,WAAW,EAAE;YACnB,OAAO,IAAI,WAAW;QACxB;QACA,IAAI,IAAI,UAAU,CAAC,MAAM,GAAG,GAAG;YAC7B,MAAM,eAAe,IAAI,UAAU,CAAC,EAAE;YACtC,OAAO,aAAa,QAAQ,IAAI,aAAa,KAAK;QACpD;QACA,OAAO,CAAC,IAAI,EAAE,IAAI,GAAG,EAAE;IACzB;IAEA,MAAM,oBAAoB,CAAC;QACzB,+DAA+D;QAC/D,OAAO,IAAI,KAAK,IAAI;IACtB;IAEA,MAAM,sBAAsB,CAAC;QAC3B,OAAQ;YACN,KAAK;gBAAa,OAAO;YACzB,KAAK;gBAAiB,OAAO;YAC7B,KAAK;gBAAe,OAAO;YAC3B,KAAK;gBAAQ,OAAO;YACpB,KAAK;gBAAY,OAAO;YACxB,KAAK;gBAAiB,OAAO;YAC7B;gBAAS,OAAO;QAClB;IACF;IAEA,MAAM,mBAAmB,CAAC;QACxB,OAAQ;YACN,KAAK;gBAAa,OAAO;YACzB,KAAK;gBAAiB,OAAO;YAC7B,KAAK;gBAAe,OAAO;YAC3B,KAAK;gBAAQ,OAAO;YACpB,KAAK;gBAAY,OAAO;YACxB,KAAK;gBAAiB,OAAO;YAC7B;gBAAS,OAAO;QAClB;IACF;IAEA,MAAM,kBAAkB,CAAC,UAAkB,OAA0B;QACnE,cAAc;YAAE;YAAU;QAAM;QAChC,aAAa;IACf;IAEA,MAAM,iBAAiB;QACrB,IAAI,cAAc,aAAa;YAC7B,QAAQ,GAAG,CAAC,oBAAoB;gBAAE,UAAU,WAAW,QAAQ;gBAAE,OAAO,WAAW,KAAK;gBAAE,OAAO;YAAU;YAC3G,IAAI,WAAW,KAAK,KAAK,SAAS;gBAChC,gCAAgC;gBAChC,YAAY,WAAW,QAAQ,EAAE;oBAAE,aAAa;gBAAU;YAC5D,OAAO,IAAI,WAAW,KAAK,KAAK,SAAS;gBACvC,YAAY,WAAW,QAAQ,EAAE;oBAAE,OAAO;gBAAU;YACtD;QACF;QACA,cAAc;QACd,aAAa;IACf;IAEA,MAAM,mBAAmB;QACvB,cAAc;QACd,aAAa;IACf;IAEA,oCAAoC;IACpC,IAAI,UAAU,MAAM,KAAK,GAAG;QAC1B,qBACE,qSAAC;YAAI,WAAU;sBACb,cAAA,qSAAC;gBAAI,WAAU;;kCACb,qSAAC;wBAAI,WAAU;kCACb,cAAA,qSAAC;4BAAI,WAAU;sCAAW;;;;;;;;;;;kCAE5B,qSAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,qSAAC;wBAAE,WAAU;kCAAsC;;;;;;oBAGlD,0BACC,qSAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;;;;IAOX;IAEA,qBACE,qSAAC;QAAI,WAAU;;0BAEb,qSAAC;gBAAI,WAAU;;kCAEb,qSAAC;wBAAI,WAAU;;;;;;kCAGf,qSAAC;wBAAI,WAAU;kCACZ,UAAU,GAAG,CAAC,CAAC,KAAK;4BACnB,MAAM,aAAa,aAAa,GAAG,CAAC;4BACpC,MAAM,SAAS,aAAa,UAAU,MAAM,GAAG;4BAE/C,qBACE,qSAAC;gCAAmB,WAAU;;kDAE5B,qSAAC;wCAAI,WAAU;;;;;;kDAGf,qSAAC;wCAAI,WAAU;kDACb,cAAA,qSAAC;4CACC,SAAS;4CACT,aAAa,IAAM,gBAAgB;4CACnC,YAAY,CAAC,IAAM,eAAe,GAAG;4CACrC,aAAa;4CACb,QAAQ,CAAC,IAAM,WAAW,GAAG;4CAC7B,WAAW,CAAC,kJAAkJ,EAC5J,oBAAoB,WAAW,eAAe,GAC/C,CAAC,EACA,qBAAqB,YAAY,oBAAoB,WAAW,4CAA4C,IAC5G;;8DAGF,qSAAC;oDACC,WAAU;oDACV,SAAS,IAAM,UAAU;;sEAEzB,qSAAC;4DAAI,WAAU;;8EACb,qSAAC;oEAAI,WAAU;;sFACb,qSAAC;4EAAI,WAAU;sFACZ,IAAI,GAAG;;;;;;sFAEV,qSAAC;;gFACE,YAAY,aAAa,YAAY,YAAY,UAAU,wBAC1D,qSAAC;oFAAI,WAAU;;sGACb,qSAAC;4FACC,MAAK;4FACL,OAAO;4FACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;4FAC5C,WAAW,CAAC;gGACV,IAAI,EAAE,GAAG,KAAK,SAAS;gGACvB,IAAI,EAAE,GAAG,KAAK,UAAU;4FAC1B;4FACA,WAAU;4FACV,SAAS;;;;;;sGAEX,qSAAC;4FACC,SAAS;4FACT,WAAU;sGACX;;;;;;sGAGD,qSAAC;4FACC,SAAS;4FACT,WAAU;sGACX;;;;;;;;;;;yGAKH,qSAAC;oFACC,WAAU;oFACV,SAAS,CAAC;wFACR,EAAE,eAAe;wFACjB,MAAM,eAAe,YAAY;wFACjC,gBAAgB,UAAU,SAAS;oFACrC;;wFACD;wFACK,YAAY;sGAChB,qSAAC;4FAAK,WAAU;sGAAoF;;;;;;;;;;;;8FAGxG,qSAAC;oFAAE,WAAU;8FACV,IAAA,sNAAM,EAAC,IAAI,KAAK,IAAI,IAAI,GAAG;;;;;;;;;;;;;;;;;;8EAKlC,qSAAC;oEAAI,WAAU;;sFAEb,qSAAC;4EAAI,WAAU;;8FACb,qSAAC;oFAAK,WAAU;;wFACb,IAAI,UAAU,CAAC,MAAM;wFAAC;wFAAE,IAAI,UAAU,CAAC,MAAM,KAAK,IAAI,aAAa;;;;;;;gFAErE,IAAI,aAAa,kBAChB,qSAAC;oFAAK,WAAU;8FAA2E;;;;;;gFAK5F,eAAe,UAAU,MAAM,GAAG,mBACjC,qSAAC;oFACC,SAAS,CAAC;wFACR,EAAE,eAAe;wFACjB,IAAI,OAAO,OAAO,CAAC,CAAC,gCAAgC,EAAE,YAAY,KAAK,CAAC,CAAC,GAAG;4FAC1E,YAAY;wFACd;oFACF;oFACA,WAAU;oFACV,OAAM;8FACP;;;;;;;;;;;;sFAOL,qSAAC;4EACC,WAAW,CAAC,wDAAwD,EAAE,aAAa,eAAe,IAAI;4EACtG,MAAK;4EACL,QAAO;4EACP,SAAQ;sFAER,cAAA,qSAAC;gFAAK,eAAc;gFAAQ,gBAAe;gFAAQ,aAAa;gFAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;;sEAM3E,qSAAC;4DAAI,WAAU;sEACZ,YAAY,aAAa,YAAY,YAAY,UAAU,wBAC1D,qSAAC;gEAAI,WAAU;;kFACb,qSAAC;wEACC,OAAO;wEACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;wEAC5C,WAAW,CAAC;4EACV,IAAI,EAAE,GAAG,KAAK,WAAW,EAAE,OAAO,EAAE;4EACpC,IAAI,EAAE,GAAG,KAAK,UAAU;wEAC1B;wEACA,WAAU;wEACV,MAAM;wEACN,SAAS;;;;;;kFAEX,qSAAC;wEAAI,WAAU;;0FACb,qSAAC;gFACC,SAAS;gFACT,WAAU;0FACX;;;;;;0FAGD,qSAAC;gFACC,SAAS;gFACT,WAAU;0FACX;;;;;;;;;;;;;;;;;qFAML,qSAAC;gEACC,WAAU;gEACV,SAAS,CAAC;oEACR,EAAE,eAAe;oEACjB,gBAAgB,UAAU,SAAS,kBAAkB;gEACvD;;oEAEC,kBAAkB;kFACnB,qSAAC;wEAAK,WAAU;kFAAoF;;;;;;;;;;;;;;;;;;;;;;;gDAO3G,4BACC,qSAAC;oDAAI,WAAU;;wDAEZ,QAAQ,CAAC,SAAS,IAAI,QAAQ,CAAC,SAAS,CAAC,MAAM,GAAG,kBACjD,qSAAC;4DAAI,WAAU;sEACb,cAAA,qSAAC;gEAAI,WAAU;0EACZ,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,sBACvB,qSAAC;wEAAmB,WAAU;;4EAC3B,MAAM,IAAI,KAAK,wBACd,qSAAC;gFACC,KAAK,MAAM,GAAG;gFACd,KAAK,MAAM,KAAK;gFAChB,WAAU;;;;;qGAGZ,qSAAC;gFACC,KAAK,MAAM,GAAG;gFACd,WAAU;gFACV,QAAQ;;;;;;0FAGZ,qSAAC;gFACC,WAAU;0FACX;;;;;;;uEAhBO,MAAM,EAAE;;;;;;;;;;;;;;iFAwBxB,qSAAC;4DAAI,WAAU;;8EACb,qSAAC;oEAAI,WAAU;;;;;;8EACf,qSAAC;oEAAI,WAAU;8EACb,cAAA,qSAAC;wEAAI,WAAU;;0FACb,qSAAC;gFAAI,WAAU;0FAAgB;;;;;;0FAC/B,qSAAC;gFAAG,WAAU;;oFAAqB;oFAAK,IAAI,GAAG;oFAAC;;;;;;;;;;;;;;;;;;;;;;;;wDAOvD,IAAI,KAAK,kBACR,qSAAC;4DAAI,WAAU;;8EACb,qSAAC;oEAAG,WAAU;8EAAqD;;;;;;8EAGnE,qSAAC;oEAAE,WAAU;8EAA6D,IAAI,KAAK;;;;;;;;;;;;sEAKvF,qSAAC;4DAAI,WAAU;sEACb,cAAA,qSAAC;gEAAM,WAAU;;kFACf,qSAAC;wEAAI,WAAU;;0FACb,qSAAC;gFAAK,WAAU;0FAAW;;;;;;0FAC3B,qSAAC;gFAAK,WAAU;0FAAoC;;;;;;;;;;;;kFAEtD,qSAAC;wEACC,MAAK;wEACL,QAAO;wEACP,QAAQ;wEACR,WAAU;wEACV,UAAU,CAAC;4EACT,IAAI,EAAE,MAAM,CAAC,KAAK,EAAE;gFAClB,MAAM,IAAI,CAAC,EAAE,MAAM,CAAC,KAAK,EAAE,OAAO,CAAC,CAAA;oFACjC,kBAAkB,UAAU;gFAC9B;4EACF;wEACF;wEACA,UAAU;;;;;;;;;;;;;;;;;sEAMhB,qSAAC;4DAAI,WAAU;;gEACZ,IAAI,UAAU,CAAC,MAAM,GAAG,IACvB,IAAI,UAAU,CAAC,GAAG,CAAC,CAAC,yBAClB,qSAAC;wEAAsB,WAAU;;0FAC/B,qSAAC;gFAAI,WAAU;;kGACb,qSAAC;wFAAI,WAAU;;0GACb,qSAAC;gGAAI,WAAU;0GAAY,oBAAoB,SAAS,QAAQ;;;;;;0GAChE,qSAAC;;kHACC,qSAAC;wGAAG,WAAU;kHAA+B,SAAS,KAAK;;;;;;kHAC3D,qSAAC;wGAAE,WAAU;kHAAyB,SAAS,IAAI;;;;;;;;;;;;;;;;;;kGAGvD,qSAAC;wFAAI,WAAU;;0GACb,qSAAC;gGAAK,WAAW,CAAC,kDAAkD,EAAE,iBAAiB,SAAS,QAAQ,GAAG;0GACxG,SAAS,QAAQ;;;;;;4FAEnB,SAAS,IAAI,KAAK,aAAa,SAAS,IAAI,KAAK,sBAChD,qSAAC;gGAAK,WAAU;;oGAAyE;oGACrF,SAAS,IAAI;;;;;;;0GAGnB,qSAAC;gGACC,SAAS,IAAM,kBAAkB,UAAU;gGAC3C,WAAU;gGACV,OAAM;0GACP;;;;;;0GAGD,qSAAC;gGACC,SAAS,IAAM,qBAAqB,UAAU,SAAS,EAAE;gGACzD,WAAU;gGACV,OAAM;0GACP;;;;;;;;;;;;;;;;;;4EAMJ,SAAS,WAAW,kBACnB,qSAAC;gFAAE,WAAU;0FAA8C,SAAS,WAAW;;;;;;4EAGhF,SAAS,QAAQ,kBAChB,qSAAC;gFAAI,WAAU;;kGACb,qSAAC;wFAAI,WAAU;wFAAe,MAAK;wFAAO,QAAO;wFAAe,SAAQ;;0GACtE,qSAAC;gGAAK,eAAc;gGAAQ,gBAAe;gGAAQ,aAAa;gGAAG,GAAE;;;;;;0GACrE,qSAAC;gGAAK,eAAc;gGAAQ,gBAAe;gGAAQ,aAAa;gGAAG,GAAE;;;;;;;;;;;;oFAEtE,SAAS,QAAQ;;;;;;;;uEA7Cd,SAAS,EAAE;;;;8FAmDvB,qSAAC;oEAAI,WAAU;;sFACb,qSAAC;4EAAI,WAAU;sFAAgB;;;;;;sFAC/B,qSAAC;4EAAG,WAAU;sFAAiC;;;;;;sFAC/C,qSAAC;4EAAE,WAAU;sFAA6B;;;;;;sFACtC,qSAAC;4EACH,SAAS,IAAM,kBAAkB;4EACjC,WAAU;sFACX;;;;;;;;;;;;gEAOJ,IAAI,aAAa,kBAChB,qSAAC;oEAAI,WAAU;;sFACb,qSAAC;4EAAG,WAAU;sFAAqD;;;;;;sFAGnE,qSAAC;4EAAI,WAAU;;8FACb,qSAAC;oFAAE,WAAU;8FAA6B,IAAI,aAAa,CAAC,IAAI;;;;;;8FAChE,qSAAC;oFAAE,WAAU;8FAAyB,IAAI,aAAa,CAAC,OAAO;;;;;;8FAC/D,qSAAC;oFAAI,WAAU;;sGACb,qSAAC;4FAAK,WAAU;;gGAAgB;gGACnB,IAAA,sNAAM,EAAC,IAAI,KAAK,IAAI,aAAa,CAAC,OAAO,GAAG;;;;;;;sGAEzD,qSAAC;4FAAK,WAAU;;gGAAgB;gGAClB,IAAA,sNAAM,EAAC,IAAI,KAAK,IAAI,aAAa,CAAC,QAAQ,GAAG;;;;;;;sGAE3D,qSAAC;4FAAK,WAAU;;gGAA6B;gGACzC,IAAI,aAAa,CAAC,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;8EAQlC,qSAAC;oEAAI,WAAU;;sFACb,qSAAC;4EAAI,WAAU;;8FACb,qSAAC;oFAAI,WAAU;;wFAAoC;wFAC/C,IAAI,WAAW,IAAI;;;;;;;8FAEvB,qSAAC;oFAAI,WAAU;8FAAwB;;;;;;;;;;;;sFAEzC,qSAAC;4EAAI,WAAU;;8FACb,qSAAC;oFAAI,WAAU;;wFACZ,IAAI,UAAU,CAAC,MAAM,CAAC,CAAC,KAAK,WAAa,MAAM,CAAC,SAAS,QAAQ,IAAI,CAAC,GAAG;wFAAG;;;;;;;8FAE/E,qSAAC;oFAAI,WAAU;8FAAwB;;;;;;;;;;;;sFAEzC,qSAAC;4EAAI,WAAU;;8FACb,qSAAC;oFAAI,WAAU;;wFACZ,IAAI,UAAU,CAAC,MAAM,CAAC,CAAA,WAAY,SAAS,SAAS,EAAE,MAAM;wFAAC;wFAAE,IAAI,UAAU,CAAC,MAAM;;;;;;;8FAEvF,qSAAC;oFAAI,WAAU;8FAAwB;;;;;;;;;;;;;;;;;;8EAK3C,qSAAC;oEAAI,WAAU;;sFACb,qSAAC;4EACC,SAAS,IAAM,kBAAkB;4EACjC,WAAU;sFACX;;;;;;sFAGD,qSAAC;4EACC,SAAS,IAAM,eAAe;4EAC9B,WAAU;sFACX;;;;;;sFAGD,qSAAC;4EACC,SAAS,IAAM,iBAAiB;4EAChC,WAAU;sFACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BA/WL;;;;;wBA0Xd;;;;;;oBAID,0BACC,qSAAC;wBAAI,WAAU;;0CACb,qSAAC;gCAAI,WAAU;;;;;;0CACf,qSAAC;gCAAI,WAAU;0CACb,cAAA,qSAAC;oCAAI,WAAU;;sDACb,qSAAC;4CAAI,WAAU;sDAAgB;;;;;;sDAC/B,qSAAC;4CAAG,WAAU;sDAAuC;;;;;;sDACrD,qSAAC;4CAAE,WAAU;sDAAqB;;;;;;sDAClC,qSAAC;4CACC,SAAS;4CACT,WAAU;;gDACX;gDACY,UAAU,MAAM,GAAG;;;;;;;;;;;;;;;;;;;;;;;;kCAQxC,qSAAC;wBAAI,WAAU;;0CACb,qSAAC;gCAAI,WAAU;;;;;;0CACf,qSAAC;gCAAI,WAAU;0CACb,cAAA,qSAAC;oCAAI,WAAU;;sDACb,qSAAC;4CAAI,WAAU;sDAAgB;;;;;;sDAC/B,qSAAC;4CAAG,WAAU;sDAAyB;;;;;;sDACvC,qSAAC;4CAAE,WAAU;sDAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAOrC,+BACC,qSAAC;gBAAI,WAAU;0BACb,cAAA,qSAAC;oBAAI,WAAU;;sCACb,qSAAC;4BAAI,WAAU;;8CACb,qSAAC;oCAAG,WAAU;;wCACX,cAAc,QAAQ,GAAG,kBAAkB;wCAAe;wCAAQ,cAAc,QAAQ,GAAG;;;;;;;8CAE9F,qSAAC;oCACC,SAAS;oCACT,WAAU;8CAEV,cAAA,qSAAC;wCAAI,WAAU;wCAAwB,MAAK;wCAAO,QAAO;wCAAe,SAAQ;kDAC/E,cAAA,qSAAC;4CAAK,eAAc;4CAAQ,gBAAe;4CAAQ,aAAa;4CAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;sCAK3E,qSAAC;4BAAI,WAAU;;8CACb,qSAAC;;sDACC,qSAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAChE,qSAAC;4CACC,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,iBAAiB,EAAE,MAAM,CAAC,KAAK;4CAChD,aAAY;4CACZ,WAAU;4CACV,SAAS;;;;;;;;;;;;8CAIb,qSAAC;;sDACC,qSAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAChE,qSAAC;4CACC,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;4CAC/C,aAAY;4CACZ,WAAU;;;;;;;;;;;;8CAId,qSAAC;oCAAI,WAAU;;sDACb,qSAAC;;8DACC,qSAAC;oDAAM,WAAU;8DAA+C;;;;;;8DAChE,qSAAC;oDACC,OAAO;oDACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;oDAC/C,WAAU;;sEAEV,qSAAC;4DAAO,OAAM;sEAAU;;;;;;sEACxB,qSAAC;4DAAO,OAAM;sEAAY;;;;;;sEAC1B,qSAAC;4DAAO,OAAM;sEAAU;;;;;;;;;;;;;;;;;;sDAG5B,qSAAC;;8DACC,qSAAC;oDAAM,WAAU;8DAA+C;;;;;;8DAChE,qSAAC;oDACC,OAAO;oDACP,UAAU,CAAC,IAAM,oBAAoB,EAAE,MAAM,CAAC,KAAK;oDACnD,WAAU;;sEAEV,qSAAC;4DAAO,OAAM;sEAAc;;;;;;sEAC5B,qSAAC;4DAAO,OAAM;sEAAO;;;;;;sEACrB,qSAAC;4DAAO,OAAM;sEAAY;;;;;;sEAC1B,qSAAC;4DAAO,OAAM;sEAAgB;;;;;;sEAC9B,qSAAC;4DAAO,OAAM;sEAAW;;;;;;sEACzB,qSAAC;4DAAO,OAAM;sEAAgB;;;;;;sEAC9B,qSAAC;4DAAO,OAAM;sEAAQ;;;;;;;;;;;;;;;;;;;;;;;;8CAK5B,qSAAC;;sDACC,qSAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAChE,qSAAC;4CACC,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,oBAAoB,EAAE,MAAM,CAAC,KAAK;4CACnD,aAAY;4CACZ,WAAU;;;;;;;;;;;;8CAId,qSAAC;;sDACC,qSAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAChE,qSAAC;4CACC,OAAO;4CACP,UAAU,CAAC,IAAM,uBAAuB,EAAE,MAAM,CAAC,KAAK;4CACtD,MAAM;4CACN,aAAY;4CACZ,WAAU;;;;;;;;;;;;8CAId,qSAAC;;sDACC,qSAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAChE,qSAAC;4CACC,MAAK;4CACL,KAAI;4CACJ,OAAO;4CACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;4CAC/C,aAAY;4CACZ,WAAU;;;;;;;;;;;;8CAId,qSAAC;oCAAI,WAAU;;sDACb,qSAAC;4CACC,SAAS;4CACT,WAAU;sDACX;;;;;;sDAGD,qSAAC;4CACC,SAAS;4CACT,WAAU;4CACV,UAAU,cAAc,IAAI,OAAO,MAAM;sDAExC,mBAAmB,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAS7C,4BACC,qSAAC;gBAAI,WAAU;0BACb,cAAA,qSAAC;oBAAI,WAAU;;sCACb,qSAAC;4BAAI,WAAU;;8CACb,qSAAC;oCAAG,WAAU;;wCAAkC;wCAC1B,WAAW,QAAQ,GAAG;;;;;;;8CAE5C,qSAAC;oCACC,SAAS;oCACT,WAAU;8CAEV,cAAA,qSAAC;wCAAI,WAAU;wCAAwB,MAAK;wCAAO,QAAO;wCAAe,SAAQ;kDAC/E,cAAA,qSAAC;4CAAK,eAAc;4CAAQ,gBAAe;4CAAQ,aAAa;4CAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;sCAK3E,qSAAC;4BAAI,WAAU;;8CACb,qSAAC;;sDACC,qSAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAChE,qSAAC;4CACC,OAAO;4CACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;4CAC7C,MAAM;4CACN,aAAY;4CACZ,WAAU;4CACV,SAAS;;;;;;;;;;;;8CAIb,qSAAC;oCAAI,WAAU;;sDACb,qSAAC;4CACC,SAAS;4CACT,WAAU;sDACX;;;;;;sDAGD,qSAAC;4CACC,SAAS;4CACT,WAAU;4CACV,UAAU;sDAET,gBAAgB,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAS1C,8BACC,qSAAC;gBAAI,WAAU;0BACb,cAAA,qSAAC;oBAAI,WAAU;;sCACb,qSAAC;4BAAI,WAAU;;8CACb,qSAAC;oCAAG,WAAU;;wCAAkC;wCACxB,aAAa,QAAQ,GAAG;;;;;;;8CAEhD,qSAAC;oCACC,SAAS;oCACT,WAAU;8CAEV,cAAA,qSAAC;wCAAI,WAAU;wCAAwB,MAAK;wCAAO,QAAO;wCAAe,SAAQ;kDAC/E,cAAA,qSAAC;4CAAK,eAAc;4CAAQ,gBAAe;4CAAQ,aAAa;4CAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;sCAK3E,qSAAC;4BAAI,WAAU;;8CACb,qSAAC;;sDACC,qSAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAChE,qSAAC;4CACC,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;4CAC/C,aAAY;4CACZ,WAAU;4CACV,SAAS;;;;;;;;;;;;8CAIb,qSAAC;oCAAI,WAAU;;sDACb,qSAAC;;8DACC,qSAAC;oDAAM,WAAU;8DAA+C;;;;;;8DAChE,qSAAC;oDACC,MAAK;oDACL,KAAI;oDACJ,MAAK;oDACL,OAAO;oDACP,UAAU,CAAC,IAAM,iBAAiB,EAAE,MAAM,CAAC,KAAK;oDAChD,aAAY;oDACZ,WAAU;;;;;;;;;;;;sDAGd,qSAAC;;8DACC,qSAAC;oDAAM,WAAU;8DAA+C;;;;;;8DAChE,qSAAC;oDACC,OAAO;oDACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;oDAClD,WAAU;;sEAEV,qSAAC;4DAAO,OAAM;sEAAO;;;;;;sEACrB,qSAAC;4DAAO,OAAM;sEAAY;;;;;;sEAC1B,qSAAC;4DAAO,OAAM;sEAAgB;;;;;;sEAC9B,qSAAC;4DAAO,OAAM;sEAAW;;;;;;sEACzB,qSAAC;4DAAO,OAAM;sEAAa;;;;;;sEAC3B,qSAAC;4DAAO,OAAM;sEAAQ;;;;;;;;;;;;;;;;;;;;;;;;8CAK5B,qSAAC;oCAAI,WAAU;;sDACb,qSAAC;4CACC,SAAS;4CACT,WAAU;sDACX;;;;;;sDAGD,qSAAC;4CACC,SAAS;4CACT,WAAU;4CACV,UAAU,CAAC,aAAa,IAAI,MAAM,CAAC,cAAc,IAAI,MAAM;sDAE1D,kBAAkB,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASnD"}},
    {"offset": {"line": 2558, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/components/PackingList.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { PackingItem } from '@/types/itinerary';\n\ninterface PackingListProps {\n  packingList: PackingItem[];\n  onUpdatePackingList: (packingList: PackingItem[]) => void;\n}\n\nexport default function PackingList({ packingList, onUpdatePackingList }: PackingListProps) {\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [newItem, setNewItem] = useState({\n    name: '',\n    category: 'other' as PackingItem['category'],\n    quantity: 1,\n    essential: false,\n    notes: ''\n  });\n  const [filter, setFilter] = useState<'all' | 'packed' | 'unpacked' | 'essential'>('all');\n\n  const categories = [\n    { id: 'clothing', name: 'Clothing', icon: 'üëï', color: 'bg-blue-100 text-blue-800' },\n    { id: 'electronics', name: 'Electronics', icon: 'üì±', color: 'bg-purple-100 text-purple-800' },\n    { id: 'toiletries', name: 'Toiletries', icon: 'üß¥', color: 'bg-green-100 text-green-800' },\n    { id: 'documents', name: 'Documents', icon: 'üìÑ', color: 'bg-yellow-100 text-yellow-800' },\n    { id: 'medications', name: 'Medications', icon: 'üíä', color: 'bg-red-100 text-red-800' },\n    { id: 'accessories', name: 'Accessories', icon: 'üëú', color: 'bg-pink-100 text-pink-800' },\n    { id: 'other', name: 'Other', icon: 'üì¶', color: 'bg-gray-100 text-gray-800' },\n  ];\n\n  const getCategoryInfo = (categoryId: string) => \n    categories.find(cat => cat.id === categoryId) || categories[categories.length - 1];\n\n  const togglePacked = (itemId: string) => {\n    const updatedList = packingList.map(item =>\n      item.id === itemId ? { ...item, packed: !item.packed } : item\n    );\n    onUpdatePackingList(updatedList);\n  };\n\n  const addItem = () => {\n    if (!newItem.name.trim()) return;\n    \n    const item: PackingItem = {\n      id: Date.now().toString(),\n      ...newItem,\n      name: newItem.name.trim(),\n      packed: false\n    };\n    \n    onUpdatePackingList([...packingList, item]);\n    setNewItem({ name: '', category: 'other', quantity: 1, essential: false, notes: '' });\n    setShowAddForm(false);\n  };\n\n  const removeItem = (itemId: string) => {\n    onUpdatePackingList(packingList.filter(item => item.id !== itemId));\n  };\n\n  const filteredItems = packingList.filter(item => {\n    switch (filter) {\n      case 'packed': return item.packed;\n      case 'unpacked': return !item.packed;\n      case 'essential': return item.essential;\n      default: return true;\n    }\n  });\n\n  const groupedItems = categories.reduce((acc, category) => {\n    acc[category.id] = filteredItems.filter(item => item.category === category.id);\n    return acc;\n  }, {} as Record<string, PackingItem[]>);\n\n  const packedCount = packingList.filter(item => item.packed).length;\n  const totalCount = packingList.length;\n  const essentialCount = packingList.filter(item => item.essential && !item.packed).length;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header Stats */}\n      <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">Packing List</h2>\n            <p className=\"text-gray-600\">Keep track of everything you need</p>\n          </div>\n          <button\n            onClick={() => setShowAddForm(true)}\n            className=\"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n          >\n            + Add Item\n          </button>\n        </div>\n\n        {/* Progress Bar */}\n        <div className=\"mb-6\">\n          <div className=\"flex justify-between items-center mb-2\">\n            <span className=\"text-sm font-medium text-gray-700\">\n              Progress: {packedCount}/{totalCount} items packed\n            </span>\n            <span className=\"text-sm font-medium text-purple-600\">\n              {totalCount > 0 ? Math.round((packedCount / totalCount) * 100) : 0}%\n            </span>\n          </div>\n          <div className=\"w-full bg-gray-200 rounded-full h-3\">\n            <div \n              className=\"bg-gradient-to-r from-purple-500 to-blue-500 h-3 rounded-full transition-all duration-500\"\n              style={{ width: `${totalCount > 0 ? (packedCount / totalCount) * 100 : 0}%` }}\n            ></div>\n          </div>\n          {essentialCount > 0 && (\n            <p className=\"text-sm text-red-600 mt-2\">\n              ‚ö†Ô∏è {essentialCount} essential item{essentialCount > 1 ? 's' : ''} still need{essentialCount === 1 ? 's' : ''} to be packed\n            </p>\n          )}\n        </div>\n\n        {/* Filter Buttons */}\n        <div className=\"flex flex-wrap gap-2\">\n          {[\n            { id: 'all', name: 'All Items', count: packingList.length },\n            { id: 'unpacked', name: 'To Pack', count: packingList.length - packedCount },\n            { id: 'packed', name: 'Packed', count: packedCount },\n            { id: 'essential', name: 'Essential', count: packingList.filter(item => item.essential).length },\n          ].map(filterOption => (\n            <button\n              key={filterOption.id}\n              onClick={() => setFilter(filterOption.id as any)}\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${\n                filter === filterOption.id\n                  ? 'bg-purple-600 text-white shadow-lg'\n                  : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n              }`}\n            >\n              {filterOption.name} ({filterOption.count})\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Add Item Modal */}\n      {showAddForm && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl max-w-md w-full p-6 border border-white/20\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h3 className=\"text-xl font-bold text-gray-900\">Add Packing Item</h3>\n              <button\n                onClick={() => setShowAddForm(false)}\n                className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\n              >\n                <svg className=\"w-5 h-5 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              <input\n                type=\"text\"\n                value={newItem.name}\n                onChange={(e) => setNewItem({ ...newItem, name: e.target.value })}\n                placeholder=\"Item name\"\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n              />\n\n              <select\n                value={newItem.category}\n                onChange={(e) => setNewItem({ ...newItem, category: e.target.value as PackingItem['category'] })}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n              >\n                {categories.map(category => (\n                  <option key={category.id} value={category.id}>\n                    {category.icon} {category.name}\n                  </option>\n                ))}\n              </select>\n\n              <input\n                type=\"number\"\n                value={newItem.quantity}\n                onChange={(e) => setNewItem({ ...newItem, quantity: Math.max(1, parseInt(e.target.value) || 1) })}\n                placeholder=\"Quantity\"\n                min=\"1\"\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n              />\n\n              <textarea\n                value={newItem.notes}\n                onChange={(e) => setNewItem({ ...newItem, notes: e.target.value })}\n                placeholder=\"Notes (optional)\"\n                rows={2}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none\"\n              />\n\n              <label className=\"flex items-center space-x-3\">\n                <input\n                  type=\"checkbox\"\n                  checked={newItem.essential}\n                  onChange={(e) => setNewItem({ ...newItem, essential: e.target.checked })}\n                  className=\"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500\"\n                />\n                <span className=\"text-sm font-medium text-gray-700\">Mark as essential</span>\n              </label>\n\n              <div className=\"flex space-x-3 pt-4\">\n                <button\n                  onClick={() => setShowAddForm(false)}\n                  className=\"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={addItem}\n                  className=\"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200\"\n                >\n                  Add Item\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Packing Items by Category */}\n      <div className=\"space-y-6\">\n        {categories.map(category => {\n          const items = groupedItems[category.id];\n          if (items.length === 0) return null;\n\n          return (\n            <div key={category.id} className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <div className=\"flex items-center space-x-3\">\n                  <span className=\"text-2xl\">{category.icon}</span>\n                  <h3 className=\"text-lg font-semibold text-gray-900\">{category.name}</h3>\n                  <span className={`px-2 py-1 rounded-full text-xs font-medium ${category.color}`}>\n                    {items.filter(item => item.packed).length}/{items.length}\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"space-y-3\">\n                {items.map(item => (\n                  <div\n                    key={item.id}\n                    className={`flex items-center justify-between p-4 rounded-xl border-2 transition-all duration-200 ${\n                      item.packed\n                        ? 'bg-green-50 border-green-200 opacity-75'\n                        : item.essential\n                        ? 'bg-red-50 border-red-200'\n                        : 'bg-gray-50 border-gray-200 hover:border-purple-300'\n                    }`}\n                  >\n                    <div className=\"flex items-center space-x-4\">\n                      <button\n                        onClick={() => togglePacked(item.id)}\n                        className={`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${\n                          item.packed\n                            ? 'bg-green-500 border-green-500 text-white'\n                            : 'border-gray-300 hover:border-purple-500'\n                        }`}\n                      >\n                        {item.packed && (\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                          </svg>\n                        )}\n                      </button>\n\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center space-x-2\">\n                          <span className={`font-medium ${item.packed ? 'line-through text-gray-500' : 'text-gray-900'}`}>\n                            {item.name}\n                          </span>\n                          {item.essential && (\n                            <span className=\"px-2 py-1 bg-red-100 text-red-800 text-xs font-medium rounded-full\">\n                              Essential\n                            </span>\n                          )}\n                          {item.quantity > 1 && (\n                            <span className=\"px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded-full\">\n                              x{item.quantity}\n                            </span>\n                          )}\n                        </div>\n                        {item.notes && (\n                          <p className=\"text-sm text-gray-500 mt-1\">{item.notes}</p>\n                        )}\n                      </div>\n                    </div>\n\n                    <button\n                      onClick={() => removeItem(item.id)}\n                      className=\"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors\"\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                      </svg>\n                    </button>\n                  </div>\n                ))}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {filteredItems.length === 0 && (\n        <div className=\"text-center py-12\">\n          <div className=\"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <span className=\"text-4xl\">üß≥</span>\n          </div>\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No items found</h3>\n          <p className=\"text-gray-600 mb-6\">\n            {filter === 'all' ? 'Start by adding items to your packing list' : `No ${filter} items to show`}\n          </p>\n          {filter === 'all' && (\n            <button\n              onClick={() => setShowAddForm(true)}\n              className=\"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200\"\n            >\n              Add Your First Item\n            </button>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3296, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/components/ExpenseTracker.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Expense } from '@/types/itinerary';\nimport { format } from 'date-fns';\n\ninterface ExpenseTrackerProps {\n  expenses: Expense[];\n  budget: number;\n  currency: string;\n  onUpdateExpenses: (expenses: Expense[]) => void;\n}\n\nexport default function ExpenseTracker({ expenses, budget, currency, onUpdateExpenses }: ExpenseTrackerProps) {\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [newExpense, setNewExpense] = useState({\n    title: '',\n    amount: 0,\n    category: 'other' as Expense['category'],\n    date: new Date().toISOString().split('T')[0],\n    description: '',\n  });\n  const [filter, setFilter] = useState<'all' | Expense['category']>('all');\n\n  const categories = [\n    { id: 'accommodation', name: 'Accommodation', icon: 'üè®', color: 'bg-blue-100 text-blue-800' },\n    { id: 'food', name: 'Food & Drinks', icon: 'üçΩÔ∏è', color: 'bg-green-100 text-green-800' },\n    { id: 'transport', name: 'Transport', icon: 'üöó', color: 'bg-yellow-100 text-yellow-800' },\n    { id: 'activities', name: 'Activities', icon: 'üéØ', color: 'bg-purple-100 text-purple-800' },\n    { id: 'shopping', name: 'Shopping', icon: 'üõçÔ∏è', color: 'bg-pink-100 text-pink-800' },\n    { id: 'other', name: 'Other', icon: 'üì¶', color: 'bg-gray-100 text-gray-800' },\n  ];\n\n  const getCategoryInfo = (categoryId: string) => \n    categories.find(cat => cat.id === categoryId) || categories[categories.length - 1];\n\n  const addExpense = () => {\n    if (!newExpense.title.trim() || newExpense.amount <= 0) return;\n    \n    const expense: Expense = {\n      id: Date.now().toString(),\n      ...newExpense,\n      currency,\n      title: newExpense.title.trim()\n    };\n    \n    onUpdateExpenses([...expenses, expense]);\n    setNewExpense({\n      title: '',\n      amount: 0,\n      category: 'other',\n      date: new Date().toISOString().split('T')[0],\n      description: '',\n    });\n    setShowAddForm(false);\n  };\n\n  const removeExpense = async (expenseId: string) => {\n    // Remove from local state first\n    const updatedExpenses = expenses.filter(expense => expense.id !== expenseId);\n    onUpdateExpenses(updatedExpenses);\n    \n    // Delete from database\n    try {\n      const { deleteExpense } = await import('@/lib/trip-service');\n      await deleteExpense(expenseId);\n      console.log('Expense deleted successfully');\n    } catch (error) {\n      console.error('Error deleting expense:', error);\n    }\n  };\n\n  const filteredExpenses = expenses.filter(expense => \n    filter === 'all' || expense.category === filter\n  );\n\n  const totalSpent = expenses.reduce((sum, expense) => sum + expense.amount, 0);\n  const remaining = budget - totalSpent;\n  const spentPercentage = budget > 0 ? (totalSpent / budget) * 100 : 0;\n\n  const expensesByCategory = categories.map(category => ({\n    ...category,\n    total: expenses\n      .filter(expense => expense.category === category.id)\n      .reduce((sum, expense) => sum + expense.amount, 0),\n    count: expenses.filter(expense => expense.category === category.id).length\n  })).filter(category => category.count > 0);\n\n  const getBudgetStatus = () => {\n    if (spentPercentage > 100) return { color: 'text-red-600', bg: 'bg-red-500', status: 'Over Budget!' };\n    if (spentPercentage > 80) return { color: 'text-yellow-600', bg: 'bg-yellow-500', status: 'Close to Limit' };\n    return { color: 'text-green-600', bg: 'bg-green-500', status: 'On Track' };\n  };\n\n  const budgetStatus = getBudgetStatus();\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Budget Overview */}\n      <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">Expense Tracker</h2>\n            <p className=\"text-gray-600\">Monitor your spending and stay on budget</p>\n          </div>\n          <button\n            onClick={() => setShowAddForm(true)}\n            className=\"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n          >\n            + Add Expense\n          </button>\n        </div>\n\n        {/* Budget Progress */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\n          <div className=\"text-center\">\n            <div className=\"text-3xl font-bold text-gray-900 mb-1\">\n              {budget.toLocaleString()} {currency}\n            </div>\n            <div className=\"text-sm text-gray-600\">Total Budget</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-3xl font-bold text-red-600 mb-1\">\n              {totalSpent.toLocaleString()} {currency}\n            </div>\n            <div className=\"text-sm text-gray-600\">Total Spent</div>\n          </div>\n          <div className=\"text-center\">\n            <div className={`text-3xl font-bold mb-1 ${remaining >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n              {remaining.toLocaleString()} {currency}\n            </div>\n            <div className=\"text-sm text-gray-600\">Remaining</div>\n          </div>\n        </div>\n\n        {/* Progress Bar */}\n        <div className=\"mb-4\">\n          <div className=\"flex justify-between items-center mb-2\">\n            <span className=\"text-sm font-medium text-gray-700\">Budget Usage</span>\n            <span className={`text-sm font-medium ${budgetStatus.color}`}>\n              {Math.round(spentPercentage)}% ‚Ä¢ {budgetStatus.status}\n            </span>\n          </div>\n          <div className=\"w-full bg-gray-200 rounded-full h-3\">\n            <div \n              className={`h-3 rounded-full transition-all duration-500 ${budgetStatus.bg}`}\n              style={{ width: `${Math.min(spentPercentage, 100)}%` }}\n            ></div>\n          </div>\n        </div>\n\n        {/* Category Breakdown */}\n        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4\">\n          {expensesByCategory.map(category => (\n            <div key={category.id} className=\"text-center p-3 bg-gray-50 rounded-xl\">\n              <div className=\"text-2xl mb-1\">{category.icon}</div>\n              <div className=\"text-sm font-medium text-gray-900\">\n                {category.total.toLocaleString()} {currency}\n              </div>\n              <div className=\"text-xs text-gray-600\">{category.name}</div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Add Expense Modal */}\n      {showAddForm && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl max-w-md w-full p-6 border border-white/20\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h3 className=\"text-xl font-bold text-gray-900\">Add Expense</h3>\n              <button\n                onClick={() => setShowAddForm(false)}\n                className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\n              >\n                <svg className=\"w-5 h-5 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              <input\n                type=\"text\"\n                value={newExpense.title}\n                onChange={(e) => setNewExpense({ ...newExpense, title: e.target.value })}\n                placeholder=\"Expense title\"\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              />\n\n              <div className=\"flex space-x-3\">\n                <input\n                  type=\"number\"\n                  value={newExpense.amount || ''}\n                  onChange={(e) => setNewExpense({ ...newExpense, amount: parseFloat(e.target.value) || 0 })}\n                  placeholder=\"Amount\"\n                  min=\"0\"\n                  step=\"0.01\"\n                  className=\"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                />\n                <div className=\"px-4 py-3 bg-gray-100 rounded-xl text-gray-700 font-medium\">\n                  {currency}\n                </div>\n              </div>\n\n              <select\n                value={newExpense.category}\n                onChange={(e) => setNewExpense({ ...newExpense, category: e.target.value as Expense['category'] })}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              >\n                {categories.map(category => (\n                  <option key={category.id} value={category.id}>\n                    {category.icon} {category.name}\n                  </option>\n                ))}\n              </select>\n\n              <input\n                type=\"date\"\n                value={newExpense.date}\n                onChange={(e) => setNewExpense({ ...newExpense, date: e.target.value })}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              />\n\n              <textarea\n                value={newExpense.description}\n                onChange={(e) => setNewExpense({ ...newExpense, description: e.target.value })}\n                placeholder=\"Description (optional)\"\n                rows={2}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none\"\n              />\n\n              <div className=\"flex space-x-3 pt-4\">\n                <button\n                  onClick={() => setShowAddForm(false)}\n                  className=\"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={addExpense}\n                  className=\"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-200\"\n                >\n                  Add Expense\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Filter Buttons */}\n      <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-white/20\">\n        <div className=\"flex flex-wrap gap-2\">\n          <button\n            onClick={() => setFilter('all')}\n            className={`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${\n              filter === 'all'\n                ? 'bg-green-600 text-white shadow-lg'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            All Expenses ({expenses.length})\n          </button>\n          {categories.map(category => {\n            const count = expenses.filter(expense => expense.category === category.id).length;\n            if (count === 0) return null;\n            \n            return (\n              <button\n                key={category.id}\n                onClick={() => setFilter(category.id as Expense['category'])}\n                className={`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${\n                  filter === category.id\n                    ? 'bg-green-600 text-white shadow-lg'\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                }`}\n              >\n                {category.icon} {category.name} ({count})\n              </button>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Expenses List */}\n      <div className=\"space-y-4\">\n        {filteredExpenses.length > 0 ? (\n          filteredExpenses\n            .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())\n            .map(expense => {\n              const categoryInfo = getCategoryInfo(expense.category);\n              return (\n                <div\n                  key={expense.id}\n                  className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 hover:shadow-xl transition-all duration-200\"\n                >\n                  <div className=\"flex justify-between items-start\">\n                    <div className=\"flex items-start space-x-4\">\n                      <div className=\"text-3xl\">{categoryInfo.icon}</div>\n                      <div className=\"flex-1\">\n                        <h3 className=\"text-lg font-semibold text-gray-900\">{expense.title}</h3>\n                        <div className=\"flex items-center space-x-4 mt-1\">\n                          <span className={`px-3 py-1 rounded-full text-xs font-medium ${categoryInfo.color}`}>\n                            {categoryInfo.name}\n                          </span>\n                          <span className=\"text-sm text-gray-600\">\n                            {format(new Date(expense.date), 'MMM d, yyyy')}\n                          </span>\n                        </div>\n                        {expense.description && (\n                          <p className=\"text-sm text-gray-600 mt-2\">{expense.description}</p>\n                        )}\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex items-center space-x-4\">\n                      <div className=\"text-right\">\n                        <div className=\"text-2xl font-bold text-gray-900\">\n                          {expense.amount.toLocaleString()} {expense.currency}\n                        </div>\n                      </div>\n                      <button\n                        onClick={() => removeExpense(expense.id)}\n                        className=\"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors\"\n                      >\n                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                        </svg>\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              );\n            })\n        ) : (\n          <div className=\"text-center py-12\">\n            <div className=\"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <span className=\"text-4xl\">üí∞</span>\n            </div>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No expenses found</h3>\n            <p className=\"text-gray-600 mb-6\">\n              {filter === 'all' ? 'Start tracking your trip expenses' : `No ${getCategoryInfo(filter).name.toLowerCase()} expenses to show`}\n            </p>\n            {filter === 'all' && (\n              <button\n                onClick={() => setShowAddForm(true)}\n                className=\"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-200\"\n              >\n                Add Your First Expense\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4118, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/components/AccommodationManager.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { ItineraryDay, Accommodation } from '@/types/itinerary';\nimport { format, differenceInDays } from 'date-fns';\n\ninterface AccommodationManagerProps {\n  itinerary: ItineraryDay[];\n  onUpdateItinerary: (itinerary: ItineraryDay[]) => void;\n}\n\nexport default function AccommodationManager({ itinerary, onUpdateItinerary }: AccommodationManagerProps) {\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [editingAccommodation, setEditingAccommodation] = useState<{ dayIndex: number; accommodation: Accommodation } | null>(null);\n  const [newAccommodation, setNewAccommodation] = useState({\n    name: '',\n    type: 'hotel' as Accommodation['type'],\n    address: '',\n    checkIn: '',\n    checkOut: '',\n    cost: 0,\n    currency: 'USD',\n    rating: 5,\n    amenities: [] as string[],\n    notes: '',\n    bookingReference: '',\n    contactInfo: ''\n  });\n\n  const accommodationTypes = [\n    { id: 'hotel', name: 'Hotel', icon: 'üè®' },\n    { id: 'airbnb', name: 'Airbnb', icon: 'üè†' },\n    { id: 'hostel', name: 'Hostel', icon: 'üè¢' },\n    { id: 'resort', name: 'Resort', icon: 'üèñÔ∏è' },\n    { id: 'apartment', name: 'Apartment', icon: 'üè†' },\n    { id: 'other', name: 'Other', icon: 'üèòÔ∏è' },\n  ];\n\n  const commonAmenities = [\n    'WiFi', 'Parking', 'Pool', 'Gym', 'Spa', 'Restaurant', 'Room Service',\n    'Air Conditioning', 'Kitchen', 'Laundry', 'Pet Friendly', 'Business Center',\n    'Airport Shuttle', 'Breakfast Included', 'Beach Access', 'Balcony'\n  ];\n\n  const getTypeInfo = (type: string) => \n    accommodationTypes.find(t => t.id === type) || accommodationTypes[0];\n\n  const addAccommodation = () => {\n    if (!newAccommodation.name.trim() || !newAccommodation.checkIn || !newAccommodation.checkOut) return;\n    \n    const accommodation: Accommodation = {\n      id: Date.now().toString(),\n      ...newAccommodation,\n      name: newAccommodation.name.trim(),\n      photos: []\n    };\n\n    // Find the day that matches the check-in date\n    const checkInDate = new Date(newAccommodation.checkIn).toISOString().split('T')[0];\n    const dayIndex = itinerary.findIndex(day => day.date === checkInDate);\n    \n    if (dayIndex !== -1) {\n      const updatedItinerary = [...itinerary];\n      updatedItinerary[dayIndex] = {\n        ...updatedItinerary[dayIndex],\n        accommodation\n      };\n      onUpdateItinerary(updatedItinerary);\n    }\n    \n    resetForm();\n  };\n\n  const updateAccommodation = () => {\n    if (!editingAccommodation) return;\n    \n    const updatedItinerary = [...itinerary];\n    updatedItinerary[editingAccommodation.dayIndex] = {\n      ...updatedItinerary[editingAccommodation.dayIndex],\n      accommodation: editingAccommodation.accommodation\n    };\n    onUpdateItinerary(updatedItinerary);\n    setEditingAccommodation(null);\n  };\n\n  const removeAccommodation = (dayIndex: number) => {\n    const updatedItinerary = [...itinerary];\n    delete updatedItinerary[dayIndex].accommodation;\n    onUpdateItinerary(updatedItinerary);\n  };\n\n  const resetForm = () => {\n    setNewAccommodation({\n      name: '',\n      type: 'hotel',\n      address: '',\n      checkIn: '',\n      checkOut: '',\n      cost: 0,\n      currency: 'USD',\n      rating: 5,\n      amenities: [],\n      notes: '',\n      bookingReference: '',\n      contactInfo: ''\n    });\n    setShowAddForm(false);\n  };\n\n  const toggleAmenity = (amenity: string, isEditing = false) => {\n    if (isEditing && editingAccommodation) {\n      const amenities = editingAccommodation.accommodation.amenities.includes(amenity)\n        ? editingAccommodation.accommodation.amenities.filter(a => a !== amenity)\n        : [...editingAccommodation.accommodation.amenities, amenity];\n      \n      setEditingAccommodation({\n        ...editingAccommodation,\n        accommodation: { ...editingAccommodation.accommodation, amenities }\n      });\n    } else {\n      const amenities = newAccommodation.amenities.includes(amenity)\n        ? newAccommodation.amenities.filter(a => a !== amenity)\n        : [...newAccommodation.amenities, amenity];\n      \n      setNewAccommodation({ ...newAccommodation, amenities });\n    }\n  };\n\n  const accommodationsWithDays = itinerary\n    .map((day, index) => ({ ...day, dayIndex: index }))\n    .filter(day => day.accommodation);\n\n  const totalAccommodationCost = accommodationsWithDays.reduce((sum, day) => \n    sum + (day.accommodation?.cost || 0), 0\n  );\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">Accommodation</h2>\n            <p className=\"text-gray-600\">Manage your hotels and places to stay</p>\n          </div>\n          <button\n            onClick={() => setShowAddForm(true)}\n            className=\"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n          >\n            + Add Accommodation\n          </button>\n        </div>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          <div className=\"text-center p-4 bg-blue-50 rounded-xl\">\n            <div className=\"text-2xl font-bold text-blue-600 mb-1\">\n              {accommodationsWithDays.length}\n            </div>\n            <div className=\"text-sm text-gray-600\">Bookings</div>\n          </div>\n          <div className=\"text-center p-4 bg-green-50 rounded-xl\">\n            <div className=\"text-2xl font-bold text-green-600 mb-1\">\n              {totalAccommodationCost.toLocaleString()} USD\n            </div>\n            <div className=\"text-sm text-gray-600\">Total Cost</div>\n          </div>\n          <div className=\"text-center p-4 bg-purple-50 rounded-xl\">\n            <div className=\"text-2xl font-bold text-purple-600 mb-1\">\n              {accommodationsWithDays.reduce((sum, day) => {\n                const accommodation = day.accommodation!;\n                return sum + differenceInDays(new Date(accommodation.checkOut), new Date(accommodation.checkIn));\n              }, 0)}\n            </div>\n            <div className=\"text-sm text-gray-600\">Total Nights</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Add/Edit Accommodation Modal */}\n      {(showAddForm || editingAccommodation) && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6 border border-white/20\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h3 className=\"text-xl font-bold text-gray-900\">\n                {editingAccommodation ? 'Edit Accommodation' : 'Add Accommodation'}\n              </h3>\n              <button\n                onClick={() => {\n                  setShowAddForm(false);\n                  setEditingAccommodation(null);\n                }}\n                className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\n              >\n                <svg className=\"w-5 h-5 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            <div className=\"space-y-6\">\n              {/* Basic Info */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <input\n                  type=\"text\"\n                  value={editingAccommodation ? editingAccommodation.accommodation.name : newAccommodation.name}\n                  onChange={(e) => editingAccommodation \n                    ? setEditingAccommodation({\n                        ...editingAccommodation,\n                        accommodation: { ...editingAccommodation.accommodation, name: e.target.value }\n                      })\n                    : setNewAccommodation({ ...newAccommodation, name: e.target.value })\n                  }\n                  placeholder=\"Accommodation name\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n\n                <select\n                  value={editingAccommodation ? editingAccommodation.accommodation.type : newAccommodation.type}\n                  onChange={(e) => editingAccommodation\n                    ? setEditingAccommodation({\n                        ...editingAccommodation,\n                        accommodation: { ...editingAccommodation.accommodation, type: e.target.value as Accommodation['type'] }\n                      })\n                    : setNewAccommodation({ ...newAccommodation, type: e.target.value as Accommodation['type'] })\n                  }\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  {accommodationTypes.map(type => (\n                    <option key={type.id} value={type.id}>\n                      {type.icon} {type.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <textarea\n                value={editingAccommodation ? editingAccommodation.accommodation.address : newAccommodation.address}\n                onChange={(e) => editingAccommodation\n                  ? setEditingAccommodation({\n                      ...editingAccommodation,\n                      accommodation: { ...editingAccommodation.accommodation, address: e.target.value }\n                    })\n                  : setNewAccommodation({ ...newAccommodation, address: e.target.value })\n                }\n                placeholder=\"Address\"\n                rows={2}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\n              />\n\n              {/* Dates and Cost */}\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <input\n                  type=\"date\"\n                  value={editingAccommodation ? editingAccommodation.accommodation.checkIn : newAccommodation.checkIn}\n                  onChange={(e) => editingAccommodation\n                    ? setEditingAccommodation({\n                        ...editingAccommodation,\n                        accommodation: { ...editingAccommodation.accommodation, checkIn: e.target.value }\n                      })\n                    : setNewAccommodation({ ...newAccommodation, checkIn: e.target.value })\n                  }\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n\n                <input\n                  type=\"date\"\n                  value={editingAccommodation ? editingAccommodation.accommodation.checkOut : newAccommodation.checkOut}\n                  onChange={(e) => editingAccommodation\n                    ? setEditingAccommodation({\n                        ...editingAccommodation,\n                        accommodation: { ...editingAccommodation.accommodation, checkOut: e.target.value }\n                      })\n                    : setNewAccommodation({ ...newAccommodation, checkOut: e.target.value })\n                  }\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n\n                <input\n                  type=\"number\"\n                  value={editingAccommodation ? editingAccommodation.accommodation.cost : newAccommodation.cost}\n                  onChange={(e) => editingAccommodation\n                    ? setEditingAccommodation({\n                        ...editingAccommodation,\n                        accommodation: { ...editingAccommodation.accommodation, cost: parseFloat(e.target.value) || 0 }\n                      })\n                    : setNewAccommodation({ ...newAccommodation, cost: parseFloat(e.target.value) || 0 })\n                  }\n                  placeholder=\"Total cost\"\n                  min=\"0\"\n                  step=\"0.01\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n\n              {/* Rating */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Rating</label>\n                <div className=\"flex space-x-2\">\n                  {[1, 2, 3, 4, 5].map(star => (\n                    <button\n                      key={star}\n                      type=\"button\"\n                      onClick={() => editingAccommodation\n                        ? setEditingAccommodation({\n                            ...editingAccommodation,\n                            accommodation: { ...editingAccommodation.accommodation, rating: star }\n                          })\n                        : setNewAccommodation({ ...newAccommodation, rating: star })\n                      }\n                      className={`text-2xl transition-colors ${\n                        star <= (editingAccommodation ? editingAccommodation.accommodation.rating || 0 : newAccommodation.rating)\n                          ? 'text-yellow-400'\n                          : 'text-gray-300'\n                      }`}\n                    >\n                      ‚≠ê\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Amenities */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-3\">Amenities</label>\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-2\">\n                  {commonAmenities.map(amenity => (\n                    <label key={amenity} className=\"flex items-center space-x-2 cursor-pointer\">\n                      <input\n                        type=\"checkbox\"\n                        checked={(editingAccommodation ? editingAccommodation.accommodation.amenities : newAccommodation.amenities).includes(amenity)}\n                        onChange={() => toggleAmenity(amenity, !!editingAccommodation)}\n                        className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n                      />\n                      <span className=\"text-sm text-gray-700\">{amenity}</span>\n                    </label>\n                  ))}\n                </div>\n              </div>\n\n              {/* Additional Info */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <input\n                  type=\"text\"\n                  value={editingAccommodation ? editingAccommodation.accommodation.bookingReference || '' : newAccommodation.bookingReference}\n                  onChange={(e) => editingAccommodation\n                    ? setEditingAccommodation({\n                        ...editingAccommodation,\n                        accommodation: { ...editingAccommodation.accommodation, bookingReference: e.target.value }\n                      })\n                    : setNewAccommodation({ ...newAccommodation, bookingReference: e.target.value })\n                  }\n                  placeholder=\"Booking reference\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n\n                <input\n                  type=\"text\"\n                  value={editingAccommodation ? editingAccommodation.accommodation.contactInfo || '' : newAccommodation.contactInfo}\n                  onChange={(e) => editingAccommodation\n                    ? setEditingAccommodation({\n                        ...editingAccommodation,\n                        accommodation: { ...editingAccommodation.accommodation, contactInfo: e.target.value }\n                      })\n                    : setNewAccommodation({ ...newAccommodation, contactInfo: e.target.value })\n                  }\n                  placeholder=\"Contact info\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n\n              <textarea\n                value={editingAccommodation ? editingAccommodation.accommodation.notes || '' : newAccommodation.notes}\n                onChange={(e) => editingAccommodation\n                  ? setEditingAccommodation({\n                      ...editingAccommodation,\n                      accommodation: { ...editingAccommodation.accommodation, notes: e.target.value }\n                    })\n                  : setNewAccommodation({ ...newAccommodation, notes: e.target.value })\n                }\n                placeholder=\"Notes\"\n                rows={3}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\n              />\n\n              <div className=\"flex space-x-3 pt-4\">\n                <button\n                  onClick={() => {\n                    setShowAddForm(false);\n                    setEditingAccommodation(null);\n                  }}\n                  className=\"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={editingAccommodation ? updateAccommodation : addAccommodation}\n                  className=\"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-200\"\n                >\n                  {editingAccommodation ? 'Update' : 'Add'} Accommodation\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Accommodations List */}\n      <div className=\"space-y-6\">\n        {accommodationsWithDays.length > 0 ? (\n          accommodationsWithDays.map(day => {\n            const accommodation = day.accommodation!;\n            const typeInfo = getTypeInfo(accommodation.type);\n            const nights = differenceInDays(new Date(accommodation.checkOut), new Date(accommodation.checkIn));\n\n            return (\n              <div\n                key={day.dayIndex}\n                className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 hover:shadow-xl transition-all duration-200\"\n              >\n                <div className=\"flex justify-between items-start mb-4\">\n                  <div className=\"flex items-start space-x-4\">\n                    <div className=\"text-4xl\">{typeInfo.icon}</div>\n                    <div className=\"flex-1\">\n                      <h3 className=\"text-xl font-bold text-gray-900 mb-1\">{accommodation.name}</h3>\n                      <p className=\"text-gray-600 mb-2\">{accommodation.address}</p>\n                      \n                      <div className=\"flex items-center space-x-4 mb-3\">\n                        <span className=\"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full\">\n                          {typeInfo.name}\n                        </span>\n                        <div className=\"flex items-center\">\n                          {[...Array(5)].map((_, i) => (\n                            <span\n                              key={i}\n                              className={`text-sm ${i < (accommodation.rating || 0) ? 'text-yellow-400' : 'text-gray-300'}`}\n                            >\n                              ‚≠ê\n                            </span>\n                          ))}\n                        </div>\n                      </div>\n\n                      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                        <div>\n                          <span className=\"text-gray-600\">Check-in:</span>\n                          <div className=\"font-medium\">{format(new Date(accommodation.checkIn), 'MMM d, yyyy')}</div>\n                        </div>\n                        <div>\n                          <span className=\"text-gray-600\">Check-out:</span>\n                          <div className=\"font-medium\">{format(new Date(accommodation.checkOut), 'MMM d, yyyy')}</div>\n                        </div>\n                        <div>\n                          <span className=\"text-gray-600\">Nights:</span>\n                          <div className=\"font-medium\">{nights}</div>\n                        </div>\n                        <div>\n                          <span className=\"text-gray-600\">Total Cost:</span>\n                          <div className=\"font-medium\">{accommodation.cost.toLocaleString()} {accommodation.currency}</div>\n                        </div>\n                      </div>\n\n                      {accommodation.amenities.length > 0 && (\n                        <div className=\"mt-3\">\n                          <span className=\"text-sm text-gray-600\">Amenities:</span>\n                          <div className=\"flex flex-wrap gap-1 mt-1\">\n                            {accommodation.amenities.slice(0, 6).map(amenity => (\n                              <span key={amenity} className=\"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full\">\n                                {amenity}\n                              </span>\n                            ))}\n                            {accommodation.amenities.length > 6 && (\n                              <span className=\"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full\">\n                                +{accommodation.amenities.length - 6} more\n                              </span>\n                            )}\n                          </div>\n                        </div>\n                      )}\n\n                      {accommodation.notes && (\n                        <p className=\"text-sm text-gray-600 mt-3\">{accommodation.notes}</p>\n                      )}\n                    </div>\n                  </div>\n\n                  <div className=\"flex space-x-2\">\n                    <button\n                      onClick={() => setEditingAccommodation({ dayIndex: day.dayIndex, accommodation })}\n                      className=\"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\n                    >\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                      </svg>\n                    </button>\n                    <button\n                      onClick={() => removeAccommodation(day.dayIndex)}\n                      className=\"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors\"\n                    >\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                      </svg>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            );\n          })\n        ) : (\n          <div className=\"text-center py-12\">\n            <div className=\"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <span className=\"text-4xl\">üè®</span>\n            </div>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No accommodations added</h3>\n            <p className=\"text-gray-600 mb-6\">Add hotels, Airbnbs, or other places you'll be staying</p>\n            <button\n              onClick={() => setShowAddForm(true)}\n              className=\"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-200\"\n            >\n              Add Your First Accommodation\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAAA;AAJA;;;;AAWe,SAAS,qBAAqB,EAAE,SAAS,EAAE,iBAAiB,EAA6B;IACtG,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,wQAAQ,EAAC;IAC/C,MAAM,CAAC,sBAAsB,wBAAwB,GAAG,IAAA,wQAAQ,EAA4D;IAC5H,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,wQAAQ,EAAC;QACvD,MAAM;QACN,MAAM;QACN,SAAS;QACT,SAAS;QACT,UAAU;QACV,MAAM;QACN,UAAU;QACV,QAAQ;QACR,WAAW,EAAE;QACb,OAAO;QACP,kBAAkB;QAClB,aAAa;IACf;IAEA,MAAM,qBAAqB;QACzB;YAAE,IAAI;YAAS,MAAM;YAAS,MAAM;QAAK;QACzC;YAAE,IAAI;YAAU,MAAM;YAAU,MAAM;QAAK;QAC3C;YAAE,IAAI;YAAU,MAAM;YAAU,MAAM;QAAK;QAC3C;YAAE,IAAI;YAAU,MAAM;YAAU,MAAM;QAAM;QAC5C;YAAE,IAAI;YAAa,MAAM;YAAa,MAAM;QAAK;QACjD;YAAE,IAAI;YAAS,MAAM;YAAS,MAAM;QAAM;KAC3C;IAED,MAAM,kBAAkB;QACtB;QAAQ;QAAW;QAAQ;QAAO;QAAO;QAAc;QACvD;QAAoB;QAAW;QAAW;QAAgB;QAC1D;QAAmB;QAAsB;QAAgB;KAC1D;IAED,MAAM,cAAc,CAAC,OACnB,mBAAmB,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,SAAS,kBAAkB,CAAC,EAAE;IAEtE,MAAM,mBAAmB;QACvB,IAAI,CAAC,iBAAiB,IAAI,CAAC,IAAI,MAAM,CAAC,iBAAiB,OAAO,IAAI,CAAC,iBAAiB,QAAQ,EAAE;QAE9F,MAAM,gBAA+B;YACnC,IAAI,KAAK,GAAG,GAAG,QAAQ;YACvB,GAAG,gBAAgB;YACnB,MAAM,iBAAiB,IAAI,CAAC,IAAI;YAChC,QAAQ,EAAE;QACZ;QAEA,8CAA8C;QAC9C,MAAM,cAAc,IAAI,KAAK,iBAAiB,OAAO,EAAE,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;QAClF,MAAM,WAAW,UAAU,SAAS,CAAC,CAAA,MAAO,IAAI,IAAI,KAAK;QAEzD,IAAI,aAAa,CAAC,GAAG;YACnB,MAAM,mBAAmB;mBAAI;aAAU;YACvC,gBAAgB,CAAC,SAAS,GAAG;gBAC3B,GAAG,gBAAgB,CAAC,SAAS;gBAC7B;YACF;YACA,kBAAkB;QACpB;QAEA;IACF;IAEA,MAAM,sBAAsB;QAC1B,IAAI,CAAC,sBAAsB;QAE3B,MAAM,mBAAmB;eAAI;SAAU;QACvC,gBAAgB,CAAC,qBAAqB,QAAQ,CAAC,GAAG;YAChD,GAAG,gBAAgB,CAAC,qBAAqB,QAAQ,CAAC;YAClD,eAAe,qBAAqB,aAAa;QACnD;QACA,kBAAkB;QAClB,wBAAwB;IAC1B;IAEA,MAAM,sBAAsB,CAAC;QAC3B,MAAM,mBAAmB;eAAI;SAAU;QACvC,OAAO,gBAAgB,CAAC,SAAS,CAAC,aAAa;QAC/C,kBAAkB;IACpB;IAEA,MAAM,YAAY;QAChB,oBAAoB;YAClB,MAAM;YACN,MAAM;YACN,SAAS;YACT,SAAS;YACT,UAAU;YACV,MAAM;YACN,UAAU;YACV,QAAQ;YACR,WAAW,EAAE;YACb,OAAO;YACP,kBAAkB;YAClB,aAAa;QACf;QACA,eAAe;IACjB;IAEA,MAAM,gBAAgB,CAAC,SAAiB,YAAY,KAAK;QACvD,IAAI,aAAa,sBAAsB;YACrC,MAAM,YAAY,qBAAqB,aAAa,CAAC,SAAS,CAAC,QAAQ,CAAC,WACpE,qBAAqB,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,CAAA,IAAK,MAAM,WAC/D;mBAAI,qBAAqB,aAAa,CAAC,SAAS;gBAAE;aAAQ;YAE9D,wBAAwB;gBACtB,GAAG,oBAAoB;gBACvB,eAAe;oBAAE,GAAG,qBAAqB,aAAa;oBAAE;gBAAU;YACpE;QACF,OAAO;YACL,MAAM,YAAY,iBAAiB,SAAS,CAAC,QAAQ,CAAC,WAClD,iBAAiB,SAAS,CAAC,MAAM,CAAC,CAAA,IAAK,MAAM,WAC7C;mBAAI,iBAAiB,SAAS;gBAAE;aAAQ;YAE5C,oBAAoB;gBAAE,GAAG,gBAAgB;gBAAE;YAAU;QACvD;IACF;IAEA,MAAM,yBAAyB,UAC5B,GAAG,CAAC,CAAC,KAAK,QAAU,CAAC;YAAE,GAAG,GAAG;YAAE,UAAU;QAAM,CAAC,GAChD,MAAM,CAAC,CAAA,MAAO,IAAI,aAAa;IAElC,MAAM,yBAAyB,uBAAuB,MAAM,CAAC,CAAC,KAAK,MACjE,MAAM,CAAC,IAAI,aAAa,EAAE,QAAQ,CAAC,GAAG;IAGxC,qBACE,qSAAC;QAAI,WAAU;;0BAEb,qSAAC;gBAAI,WAAU;;kCACb,qSAAC;wBAAI,WAAU;;0CACb,qSAAC;;kDACC,qSAAC;wCAAG,WAAU;kDAAmC;;;;;;kDACjD,qSAAC;wCAAE,WAAU;kDAAgB;;;;;;;;;;;;0CAE/B,qSAAC;gCACC,SAAS,IAAM,eAAe;gCAC9B,WAAU;0CACX;;;;;;;;;;;;kCAMH,qSAAC;wBAAI,WAAU;;0CACb,qSAAC;gCAAI,WAAU;;kDACb,qSAAC;wCAAI,WAAU;kDACZ,uBAAuB,MAAM;;;;;;kDAEhC,qSAAC;wCAAI,WAAU;kDAAwB;;;;;;;;;;;;0CAEzC,qSAAC;gCAAI,WAAU;;kDACb,qSAAC;wCAAI,WAAU;;4CACZ,uBAAuB,cAAc;4CAAG;;;;;;;kDAE3C,qSAAC;wCAAI,WAAU;kDAAwB;;;;;;;;;;;;0CAEzC,qSAAC;gCAAI,WAAU;;kDACb,qSAAC;wCAAI,WAAU;kDACZ,uBAAuB,MAAM,CAAC,CAAC,KAAK;4CACnC,MAAM,gBAAgB,IAAI,aAAa;4CACvC,OAAO,MAAM,IAAA,0NAAgB,EAAC,IAAI,KAAK,cAAc,QAAQ,GAAG,IAAI,KAAK,cAAc,OAAO;wCAChG,GAAG;;;;;;kDAEL,qSAAC;wCAAI,WAAU;kDAAwB;;;;;;;;;;;;;;;;;;;;;;;;YAM5C,CAAC,eAAe,oBAAoB,mBACnC,qSAAC;gBAAI,WAAU;0BACb,cAAA,qSAAC;oBAAI,WAAU;;sCACb,qSAAC;4BAAI,WAAU;;8CACb,qSAAC;oCAAG,WAAU;8CACX,uBAAuB,uBAAuB;;;;;;8CAEjD,qSAAC;oCACC,SAAS;wCACP,eAAe;wCACf,wBAAwB;oCAC1B;oCACA,WAAU;8CAEV,cAAA,qSAAC;wCAAI,WAAU;wCAAwB,MAAK;wCAAO,QAAO;wCAAe,SAAQ;kDAC/E,cAAA,qSAAC;4CAAK,eAAc;4CAAQ,gBAAe;4CAAQ,aAAa;4CAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;sCAK3E,qSAAC;4BAAI,WAAU;;8CAEb,qSAAC;oCAAI,WAAU;;sDACb,qSAAC;4CACC,MAAK;4CACL,OAAO,uBAAuB,qBAAqB,aAAa,CAAC,IAAI,GAAG,iBAAiB,IAAI;4CAC7F,UAAU,CAAC,IAAM,uBACb,wBAAwB;oDACtB,GAAG,oBAAoB;oDACvB,eAAe;wDAAE,GAAG,qBAAqB,aAAa;wDAAE,MAAM,EAAE,MAAM,CAAC,KAAK;oDAAC;gDAC/E,KACA,oBAAoB;oDAAE,GAAG,gBAAgB;oDAAE,MAAM,EAAE,MAAM,CAAC,KAAK;gDAAC;4CAEpE,aAAY;4CACZ,WAAU;;;;;;sDAGZ,qSAAC;4CACC,OAAO,uBAAuB,qBAAqB,aAAa,CAAC,IAAI,GAAG,iBAAiB,IAAI;4CAC7F,UAAU,CAAC,IAAM,uBACb,wBAAwB;oDACtB,GAAG,oBAAoB;oDACvB,eAAe;wDAAE,GAAG,qBAAqB,aAAa;wDAAE,MAAM,EAAE,MAAM,CAAC,KAAK;oDAA0B;gDACxG,KACA,oBAAoB;oDAAE,GAAG,gBAAgB;oDAAE,MAAM,EAAE,MAAM,CAAC,KAAK;gDAA0B;4CAE7F,WAAU;sDAET,mBAAmB,GAAG,CAAC,CAAA,qBACtB,qSAAC;oDAAqB,OAAO,KAAK,EAAE;;wDACjC,KAAK,IAAI;wDAAC;wDAAE,KAAK,IAAI;;mDADX,KAAK,EAAE;;;;;;;;;;;;;;;;8CAO1B,qSAAC;oCACC,OAAO,uBAAuB,qBAAqB,aAAa,CAAC,OAAO,GAAG,iBAAiB,OAAO;oCACnG,UAAU,CAAC,IAAM,uBACb,wBAAwB;4CACtB,GAAG,oBAAoB;4CACvB,eAAe;gDAAE,GAAG,qBAAqB,aAAa;gDAAE,SAAS,EAAE,MAAM,CAAC,KAAK;4CAAC;wCAClF,KACA,oBAAoB;4CAAE,GAAG,gBAAgB;4CAAE,SAAS,EAAE,MAAM,CAAC,KAAK;wCAAC;oCAEvE,aAAY;oCACZ,MAAM;oCACN,WAAU;;;;;;8CAIZ,qSAAC;oCAAI,WAAU;;sDACb,qSAAC;4CACC,MAAK;4CACL,OAAO,uBAAuB,qBAAqB,aAAa,CAAC,OAAO,GAAG,iBAAiB,OAAO;4CACnG,UAAU,CAAC,IAAM,uBACb,wBAAwB;oDACtB,GAAG,oBAAoB;oDACvB,eAAe;wDAAE,GAAG,qBAAqB,aAAa;wDAAE,SAAS,EAAE,MAAM,CAAC,KAAK;oDAAC;gDAClF,KACA,oBAAoB;oDAAE,GAAG,gBAAgB;oDAAE,SAAS,EAAE,MAAM,CAAC,KAAK;gDAAC;4CAEvE,WAAU;;;;;;sDAGZ,qSAAC;4CACC,MAAK;4CACL,OAAO,uBAAuB,qBAAqB,aAAa,CAAC,QAAQ,GAAG,iBAAiB,QAAQ;4CACrG,UAAU,CAAC,IAAM,uBACb,wBAAwB;oDACtB,GAAG,oBAAoB;oDACvB,eAAe;wDAAE,GAAG,qBAAqB,aAAa;wDAAE,UAAU,EAAE,MAAM,CAAC,KAAK;oDAAC;gDACnF,KACA,oBAAoB;oDAAE,GAAG,gBAAgB;oDAAE,UAAU,EAAE,MAAM,CAAC,KAAK;gDAAC;4CAExE,WAAU;;;;;;sDAGZ,qSAAC;4CACC,MAAK;4CACL,OAAO,uBAAuB,qBAAqB,aAAa,CAAC,IAAI,GAAG,iBAAiB,IAAI;4CAC7F,UAAU,CAAC,IAAM,uBACb,wBAAwB;oDACtB,GAAG,oBAAoB;oDACvB,eAAe;wDAAE,GAAG,qBAAqB,aAAa;wDAAE,MAAM,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;oDAAE;gDAChG,KACA,oBAAoB;oDAAE,GAAG,gBAAgB;oDAAE,MAAM,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;gDAAE;4CAErF,aAAY;4CACZ,KAAI;4CACJ,MAAK;4CACL,WAAU;;;;;;;;;;;;8CAKd,qSAAC;;sDACC,qSAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAChE,qSAAC;4CAAI,WAAU;sDACZ;gDAAC;gDAAG;gDAAG;gDAAG;gDAAG;6CAAE,CAAC,GAAG,CAAC,CAAA,qBACnB,qSAAC;oDAEC,MAAK;oDACL,SAAS,IAAM,uBACX,wBAAwB;4DACtB,GAAG,oBAAoB;4DACvB,eAAe;gEAAE,GAAG,qBAAqB,aAAa;gEAAE,QAAQ;4DAAK;wDACvE,KACA,oBAAoB;4DAAE,GAAG,gBAAgB;4DAAE,QAAQ;wDAAK;oDAE5D,WAAW,CAAC,2BAA2B,EACrC,QAAQ,CAAC,uBAAuB,qBAAqB,aAAa,CAAC,MAAM,IAAI,IAAI,iBAAiB,MAAM,IACpG,oBACA,iBACJ;8DACH;mDAdM;;;;;;;;;;;;;;;;8CAsBb,qSAAC;;sDACC,qSAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAChE,qSAAC;4CAAI,WAAU;sDACZ,gBAAgB,GAAG,CAAC,CAAA,wBACnB,qSAAC;oDAAoB,WAAU;;sEAC7B,qSAAC;4DACC,MAAK;4DACL,SAAS,CAAC,uBAAuB,qBAAqB,aAAa,CAAC,SAAS,GAAG,iBAAiB,SAAS,EAAE,QAAQ,CAAC;4DACrH,UAAU,IAAM,cAAc,SAAS,CAAC,CAAC;4DACzC,WAAU;;;;;;sEAEZ,qSAAC;4DAAK,WAAU;sEAAyB;;;;;;;mDAP/B;;;;;;;;;;;;;;;;8CAclB,qSAAC;oCAAI,WAAU;;sDACb,qSAAC;4CACC,MAAK;4CACL,OAAO,uBAAuB,qBAAqB,aAAa,CAAC,gBAAgB,IAAI,KAAK,iBAAiB,gBAAgB;4CAC3H,UAAU,CAAC,IAAM,uBACb,wBAAwB;oDACtB,GAAG,oBAAoB;oDACvB,eAAe;wDAAE,GAAG,qBAAqB,aAAa;wDAAE,kBAAkB,EAAE,MAAM,CAAC,KAAK;oDAAC;gDAC3F,KACA,oBAAoB;oDAAE,GAAG,gBAAgB;oDAAE,kBAAkB,EAAE,MAAM,CAAC,KAAK;gDAAC;4CAEhF,aAAY;4CACZ,WAAU;;;;;;sDAGZ,qSAAC;4CACC,MAAK;4CACL,OAAO,uBAAuB,qBAAqB,aAAa,CAAC,WAAW,IAAI,KAAK,iBAAiB,WAAW;4CACjH,UAAU,CAAC,IAAM,uBACb,wBAAwB;oDACtB,GAAG,oBAAoB;oDACvB,eAAe;wDAAE,GAAG,qBAAqB,aAAa;wDAAE,aAAa,EAAE,MAAM,CAAC,KAAK;oDAAC;gDACtF,KACA,oBAAoB;oDAAE,GAAG,gBAAgB;oDAAE,aAAa,EAAE,MAAM,CAAC,KAAK;gDAAC;4CAE3E,aAAY;4CACZ,WAAU;;;;;;;;;;;;8CAId,qSAAC;oCACC,OAAO,uBAAuB,qBAAqB,aAAa,CAAC,KAAK,IAAI,KAAK,iBAAiB,KAAK;oCACrG,UAAU,CAAC,IAAM,uBACb,wBAAwB;4CACtB,GAAG,oBAAoB;4CACvB,eAAe;gDAAE,GAAG,qBAAqB,aAAa;gDAAE,OAAO,EAAE,MAAM,CAAC,KAAK;4CAAC;wCAChF,KACA,oBAAoB;4CAAE,GAAG,gBAAgB;4CAAE,OAAO,EAAE,MAAM,CAAC,KAAK;wCAAC;oCAErE,aAAY;oCACZ,MAAM;oCACN,WAAU;;;;;;8CAGZ,qSAAC;oCAAI,WAAU;;sDACb,qSAAC;4CACC,SAAS;gDACP,eAAe;gDACf,wBAAwB;4CAC1B;4CACA,WAAU;sDACX;;;;;;sDAGD,qSAAC;4CACC,SAAS,uBAAuB,sBAAsB;4CACtD,WAAU;;gDAET,uBAAuB,WAAW;gDAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BASrD,qSAAC;gBAAI,WAAU;0BACZ,uBAAuB,MAAM,GAAG,IAC/B,uBAAuB,GAAG,CAAC,CAAA;oBACzB,MAAM,gBAAgB,IAAI,aAAa;oBACvC,MAAM,WAAW,YAAY,cAAc,IAAI;oBAC/C,MAAM,SAAS,IAAA,0NAAgB,EAAC,IAAI,KAAK,cAAc,QAAQ,GAAG,IAAI,KAAK,cAAc,OAAO;oBAEhG,qBACE,qSAAC;wBAEC,WAAU;kCAEV,cAAA,qSAAC;4BAAI,WAAU;;8CACb,qSAAC;oCAAI,WAAU;;sDACb,qSAAC;4CAAI,WAAU;sDAAY,SAAS,IAAI;;;;;;sDACxC,qSAAC;4CAAI,WAAU;;8DACb,qSAAC;oDAAG,WAAU;8DAAwC,cAAc,IAAI;;;;;;8DACxE,qSAAC;oDAAE,WAAU;8DAAsB,cAAc,OAAO;;;;;;8DAExD,qSAAC;oDAAI,WAAU;;sEACb,qSAAC;4DAAK,WAAU;sEACb,SAAS,IAAI;;;;;;sEAEhB,qSAAC;4DAAI,WAAU;sEACZ;mEAAI,MAAM;6DAAG,CAAC,GAAG,CAAC,CAAC,GAAG,kBACrB,qSAAC;oEAEC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,cAAc,MAAM,IAAI,CAAC,IAAI,oBAAoB,iBAAiB;8EAC9F;mEAFM;;;;;;;;;;;;;;;;8DASb,qSAAC;oDAAI,WAAU;;sEACb,qSAAC;;8EACC,qSAAC;oEAAK,WAAU;8EAAgB;;;;;;8EAChC,qSAAC;oEAAI,WAAU;8EAAe,IAAA,sNAAM,EAAC,IAAI,KAAK,cAAc,OAAO,GAAG;;;;;;;;;;;;sEAExE,qSAAC;;8EACC,qSAAC;oEAAK,WAAU;8EAAgB;;;;;;8EAChC,qSAAC;oEAAI,WAAU;8EAAe,IAAA,sNAAM,EAAC,IAAI,KAAK,cAAc,QAAQ,GAAG;;;;;;;;;;;;sEAEzE,qSAAC;;8EACC,qSAAC;oEAAK,WAAU;8EAAgB;;;;;;8EAChC,qSAAC;oEAAI,WAAU;8EAAe;;;;;;;;;;;;sEAEhC,qSAAC;;8EACC,qSAAC;oEAAK,WAAU;8EAAgB;;;;;;8EAChC,qSAAC;oEAAI,WAAU;;wEAAe,cAAc,IAAI,CAAC,cAAc;wEAAG;wEAAE,cAAc,QAAQ;;;;;;;;;;;;;;;;;;;gDAI7F,cAAc,SAAS,CAAC,MAAM,GAAG,mBAChC,qSAAC;oDAAI,WAAU;;sEACb,qSAAC;4DAAK,WAAU;sEAAwB;;;;;;sEACxC,qSAAC;4DAAI,WAAU;;gEACZ,cAAc,SAAS,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAA,wBACvC,qSAAC;wEAAmB,WAAU;kFAC3B;uEADQ;;;;;gEAIZ,cAAc,SAAS,CAAC,MAAM,GAAG,mBAChC,qSAAC;oEAAK,WAAU;;wEAA2D;wEACvE,cAAc,SAAS,CAAC,MAAM,GAAG;wEAAE;;;;;;;;;;;;;;;;;;;gDAO9C,cAAc,KAAK,kBAClB,qSAAC;oDAAE,WAAU;8DAA8B,cAAc,KAAK;;;;;;;;;;;;;;;;;;8CAKpE,qSAAC;oCAAI,WAAU;;sDACb,qSAAC;4CACC,SAAS,IAAM,wBAAwB;oDAAE,UAAU,IAAI,QAAQ;oDAAE;gDAAc;4CAC/E,WAAU;sDAEV,cAAA,qSAAC;gDAAI,WAAU;gDAAU,MAAK;gDAAO,QAAO;gDAAe,SAAQ;0DACjE,cAAA,qSAAC;oDAAK,eAAc;oDAAQ,gBAAe;oDAAQ,aAAa;oDAAG,GAAE;;;;;;;;;;;;;;;;sDAGzE,qSAAC;4CACC,SAAS,IAAM,oBAAoB,IAAI,QAAQ;4CAC/C,WAAU;sDAEV,cAAA,qSAAC;gDAAI,WAAU;gDAAU,MAAK;gDAAO,QAAO;gDAAe,SAAQ;0DACjE,cAAA,qSAAC;oDAAK,eAAc;oDAAQ,gBAAe;oDAAQ,aAAa;oDAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;uBAnFxE,IAAI,QAAQ;;;;;gBA0FvB,mBAEA,qSAAC;oBAAI,WAAU;;sCACb,qSAAC;4BAAI,WAAU;sCACb,cAAA,qSAAC;gCAAK,WAAU;0CAAW;;;;;;;;;;;sCAE7B,qSAAC;4BAAG,WAAU;sCAAyC;;;;;;sCACvD,qSAAC;4BAAE,WAAU;sCAAqB;;;;;;sCAClC,qSAAC;4BACC,SAAS,IAAM,eAAe;4BAC9B,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAQb"}},
    {"offset": {"line": 5245, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/lib/friend-service.ts"],"sourcesContent":["import { createClient } from './auth';\nimport { UserProfile, Friend, TripCollaborator, FriendRequest, TripInvitation } from '@/types/friends';\n\nconst supabase = createClient();\n\n// User Profile Functions\nexport async function getCurrentUserProfile(): Promise<UserProfile | null> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return null;\n\n  const { data, error } = await (supabase as any)\n    .from('user_profiles')\n    .select('*')\n    .eq('id', user.id)\n    .single();\n\n  if (error) {\n    console.error('Error fetching user profile:', error);\n    return null;\n  }\n\n  return data;\n}\n\nexport async function updateUserProfile(updates: Partial<UserProfile>): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('user_profiles')\n    .update(updates)\n    .eq('id', user.id);\n\n  if (error) {\n    throw new Error(`Failed to update profile: ${error.message}`);\n  }\n}\n\nexport async function searchUsers(query: string): Promise<UserProfile[]> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return [];\n\n  const { data, error } = await (supabase as any)\n    .from('user_profiles')\n    .select('*')\n    .or(`full_name.ilike.%${query}%,email.ilike.%${query}%,username.ilike.%${query}%`)\n    .neq('id', user.id)\n    .limit(10);\n\n  if (error) {\n    console.error('Error searching users:', error);\n    return [];\n  }\n\n  return data || [];\n}\n\n// Friend Functions\nexport async function sendFriendRequest(friendId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('friends')\n    .insert({\n      user_id: user.id,\n      friend_id: friendId,\n      status: 'pending'\n    });\n\n  if (error) {\n    if ((error as any).code === '23505' || error.message?.includes('friends_user_id_friend_id_key')) {\n      const duplicateError = new Error('FRIEND_REQUEST_ALREADY_EXISTS');\n      (duplicateError as any).code = 'FRIEND_REQUEST_ALREADY_EXISTS';\n      throw duplicateError;\n    }\n    throw new Error(`Failed to send friend request: ${error.message}`);\n  }\n}\n\nexport async function acceptFriendRequest(requestId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  // Update the original request to accepted\n  const { error: updateError } = await (supabase as any)\n    .from('friends')\n    .update({ status: 'accepted' })\n    .eq('id', requestId)\n    .eq('friend_id', user.id);\n\n  if (updateError) {\n    throw new Error(`Failed to accept friend request: ${updateError.message}`);\n  }\n\n  // Create the reciprocal friendship\n  const { data: originalRequest } = await (supabase as any)\n    .from('friends')\n    .select('user_id, friend_id')\n    .eq('id', requestId)\n    .single();\n\n  if (originalRequest) {\n    const { error: reciprocalError } = await (supabase as any)\n      .from('friends')\n      .insert({\n        user_id: user.id,\n        friend_id: originalRequest.user_id,\n        status: 'accepted'\n      });\n\n    if (reciprocalError && !reciprocalError.message.includes('duplicate')) {\n      console.warn('Could not create reciprocal friendship:', reciprocalError);\n    }\n  }\n}\n\nexport async function declineFriendRequest(requestId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('friends')\n    .delete()\n    .eq('id', requestId)\n    .eq('friend_id', user.id);\n\n  if (error) {\n    throw new Error(`Failed to decline friend request: ${error.message}`);\n  }\n}\n\nexport async function removeFriend(friendId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  // Remove both directions of the friendship\n  const { error: error1 } = await (supabase as any)\n    .from('friends')\n    .delete()\n    .eq('user_id', user.id)\n    .eq('friend_id', friendId);\n\n  const { error: error2 } = await (supabase as any)\n    .from('friends')\n    .delete()\n    .eq('user_id', friendId)\n    .eq('friend_id', user.id);\n\n  if (error1 || error2) {\n    throw new Error('Failed to remove friend');\n  }\n}\n\nexport async function getFriends(): Promise<Friend[]> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return [];\n\n  try {\n    const { data, error } = await (supabase as any)\n      .from('friends')\n      .select(`\n        *,\n        friend_profile:user_profiles!friends_friend_id_fkey(*)\n      `)\n      .eq('user_id', user.id)\n      .eq('status', 'accepted');\n\n    if (error) {\n      // Check if it's a missing table error\n      if (error.message?.includes('relation \"public.friends\" does not exist') || \n          error.message?.includes('relation \"public.user_profiles\" does not exist')) {\n        console.warn('Friends tables do not exist. Please run the friends-schema.sql in your Supabase dashboard.');\n        return [];\n      }\n      console.error('Error fetching friends:', error);\n      return [];\n    }\n\n    return data || [];\n  } catch (error) {\n    console.error('Error fetching friends:', error);\n    return [];\n  }\n}\n\nexport async function getFriendRequests(): Promise<FriendRequest[]> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return [];\n\n  try {\n    const { data, error } = await (supabase as any)\n      .from('friends')\n      .select(`\n        id,\n        status,\n        created_at,\n        from_user:user_profiles!friends_user_id_fkey(*),\n        to_user:user_profiles!friends_friend_id_fkey(*)\n      `)\n      .eq('friend_id', user.id)\n      .eq('status', 'pending');\n\n    if (error) {\n      // Check if it's a missing table error\n      if (error.message?.includes('relation \"public.friends\" does not exist')) {\n        console.warn('Friends table does not exist. Please run the friends-schema.sql in your Supabase dashboard.');\n        throw new Error('FRIENDS_TABLE_MISSING');\n      }\n      console.error('Error fetching friend requests:', error);\n      return [];\n    }\n\n    return data || [];\n  } catch (error) {\n    if ((error as Error).message === 'FRIENDS_TABLE_MISSING') {\n      throw error; // Re-throw so NotificationBell can detect it\n    }\n    console.error('Error fetching friend requests:', error);\n    return [];\n  }\n}\n\n// Trip Collaboration Functions\nexport async function inviteToTrip(tripId: string, userId: string, role: 'editor' | 'viewer' = 'viewer'): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('trip_collaborators')\n    .insert({\n      trip_id: tripId,\n      user_id: userId,\n      role: role,\n      invited_by: user.id,\n      status: 'pending'\n    });\n\n  if (error) {\n    if ((error as any).code === '23505' || error.message?.includes('trip_collaborators_trip_id_user_id_key')) {\n      const duplicateError = new Error('TRIP_COLLABORATOR_ALREADY_INVITED');\n      (duplicateError as any).code = 'TRIP_COLLABORATOR_ALREADY_INVITED';\n      throw duplicateError;\n    }\n    throw new Error(`Failed to invite user to trip: ${error.message}`);\n  }\n}\n\nexport async function acceptTripInvitation(invitationId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { data, error } = await (supabase as any)\n    .from('trip_collaborators')\n    .update({ status: 'accepted' })\n    .eq('id', invitationId)\n    .eq('user_id', user.id);\n\n  if (error) {\n    throw new Error(`Failed to accept trip invitation: ${error.message}`);\n  }\n}\n\nexport async function declineTripInvitation(invitationId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('trip_collaborators')\n    .update({ status: 'declined' })\n    .eq('id', invitationId)\n    .eq('user_id', user.id);\n\n  if (error) {\n    throw new Error(`Failed to decline trip invitation: ${error.message}`);\n  }\n}\n\nexport async function removeFromTrip(tripId: string, userId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('trip_collaborators')\n    .delete()\n    .eq('trip_id', tripId)\n    .eq('user_id', userId);\n\n  if (error) {\n    throw new Error(`Failed to remove user from trip: ${error.message}`);\n  }\n}\n\nexport async function getTripCollaborators(tripId: string): Promise<TripCollaborator[]> {\n  const { data, error } = await (supabase as any)\n    .from('trip_collaborators')\n    .select(`\n      *,\n      user_profile:user_profiles!trip_collaborators_user_id_fkey(*),\n      inviter_profile:user_profiles!trip_collaborators_invited_by_fkey(*)\n    `)\n    .eq('trip_id', tripId)\n    .eq('status', 'accepted');\n\n  if (error) {\n    console.error('Error fetching trip collaborators:', error);\n    return [];\n  }\n\n  return data || [];\n}\n\nexport async function getTripInvitations(): Promise<TripInvitation[]> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return [];\n\n  try {\n    const { data, error } = await (supabase as any)\n      .from('trip_collaborators')\n      .select(`\n        id,\n        role,\n        status,\n        created_at,\n        trip:trips(id, title, destination, start_date, end_date)\n      `)\n      .eq('user_id', user.id)\n      .eq('status', 'pending');\n\n    if (error) {\n      // Check if it's a missing table error\n      if (error.message?.includes('relation \"public.trip_collaborators\" does not exist') || \n          error.message?.includes('relation \"public.user_profiles\" does not exist')) {\n        console.warn('Friend collaboration tables do not exist. Please run the friends-schema.sql in your Supabase dashboard.');\n        throw new Error('FRIENDS_TABLE_MISSING');\n      }\n      console.error('Error fetching trip invitations:', error);\n      return [];\n    }\n\n    return data || [];\n  } catch (error) {\n    if ((error as Error).message === 'FRIENDS_TABLE_MISSING') {\n      throw error; // Re-throw so NotificationBell can detect it\n    }\n    console.error('Error fetching trip invitations:', error);\n    return [];\n  }\n}\n\nexport async function updateCollaboratorRole(tripId: string, userId: string, role: 'editor' | 'viewer'): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('trip_collaborators')\n    .update({ role })\n    .eq('trip_id', tripId)\n    .eq('user_id', userId);\n\n  if (error) {\n    throw new Error(`Failed to update collaborator role: ${error.message}`);\n  }\n}\n\n// Check if user can edit trip\nexport async function canEditTrip(tripId: string): Promise<boolean> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return false;\n\n  // Check if user is the owner\n  const { data: trip } = await (supabase as any)\n    .from('trips')\n    .select('user_id')\n    .eq('id', tripId)\n    .single();\n\n  if (trip && trip.user_id === user.id) return true;\n\n  // Check if user is a collaborator with editor role\n  const { data: collaborator } = await (supabase as any)\n    .from('trip_collaborators')\n    .select('role')\n    .eq('trip_id', tripId)\n    .eq('user_id', user.id)\n    .eq('status', 'accepted')\n    .single();\n\n  return collaborator && (collaborator.role === 'editor' || collaborator.role === 'owner');\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5534, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/components/TripCollaborators.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { \n  getTripCollaborators, \n  getFriends, \n  inviteToTrip, \n  removeFromTrip, \n  updateCollaboratorRole \n} from '@/lib/friend-service';\nimport { TripCollaborator, Friend } from '@/types/friends';\n\ninterface TripCollaboratorsProps {\n  tripId: string;\n  isOwner: boolean;\n  onClose: () => void;\n}\n\nexport default function TripCollaborators({ tripId, isOwner, onClose }: TripCollaboratorsProps) {\n  const [collaborators, setCollaborators] = useState<TripCollaborator[]>([]);\n  const [friends, setFriends] = useState<Friend[]>([]);\n  const [showInviteModal, setShowInviteModal] = useState(false);\n  const [selectedFriend, setSelectedFriend] = useState<string>('');\n  const [selectedRole, setSelectedRole] = useState<'editor' | 'viewer'>('viewer');\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    loadData();\n  }, [tripId]);\n\n  const loadData = async () => {\n    try {\n      const [collaboratorsData, friendsData] = await Promise.all([\n        getTripCollaborators(tripId),\n        getFriends()\n      ]);\n      setCollaborators(collaboratorsData);\n      \n      // Filter out friends who are already collaborators\n      const collaboratorIds = collaboratorsData.map(c => c.user_id);\n      const availableFriends = friendsData.filter(f => !collaboratorIds.includes(f.friend_id));\n      setFriends(availableFriends);\n    } catch (error) {\n      console.error('Error loading collaborators:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleInviteFriend = async () => {\n    if (!selectedFriend) return;\n\n    try {\n      await inviteToTrip(tripId, selectedFriend, selectedRole);\n      setShowInviteModal(false);\n      setSelectedFriend('');\n      setSelectedRole('viewer');\n      await loadData();\n      alert('Invitation sent!');\n    } catch (error) {\n      console.error('Error inviting friend:', error);\n      if ((error as any)?.code === 'TRIP_COLLABORATOR_ALREADY_INVITED') {\n        alert('This user has already been invited to the trip.');\n      } else {\n        alert('Failed to send invitation');\n      }\n    }\n  };\n\n  const handleRemoveCollaborator = async (userId: string) => {\n    if (window.confirm('Are you sure you want to remove this collaborator?')) {\n      try {\n        await removeFromTrip(tripId, userId);\n        await loadData();\n      } catch (error) {\n        console.error('Error removing collaborator:', error);\n        alert('Failed to remove collaborator');\n      }\n    }\n  };\n\n  const handleUpdateRole = async (userId: string, newRole: 'editor' | 'viewer') => {\n    try {\n      await updateCollaboratorRole(tripId, userId, newRole);\n      setCollaborators(collaborators.map(c => \n        c.user_id === userId ? { ...c, role: newRole } : c\n      ));\n    } catch (error) {\n      console.error('Error updating role:', error);\n      alert('Failed to update role');\n    }\n  };\n\n  const getRoleColor = (role: string) => {\n    switch (role) {\n      case 'owner': return 'bg-purple-100 text-purple-800';\n      case 'editor': return 'bg-blue-100 text-blue-800';\n      case 'viewer': return 'bg-gray-100 text-gray-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n        <div className=\"bg-white rounded-2xl p-6 w-full max-w-2xl mx-4\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4\"></div>\n            <p className=\"text-gray-600\">Loading collaborators...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-2xl p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">Trip Collaborators</h2>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        {/* Invite Button */}\n        {isOwner && friends.length > 0 && (\n          <div className=\"mb-6\">\n            <button\n              onClick={() => setShowInviteModal(true)}\n              className=\"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:from-purple-700 hover:to-blue-700 transition-all\"\n            >\n              + Invite Friends\n            </button>\n          </div>\n        )}\n\n        {/* Collaborators List */}\n        <div className=\"space-y-4\">\n          {collaborators.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z\" />\n                </svg>\n              </div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No collaborators yet</h3>\n              <p className=\"text-gray-600\">Invite friends to collaborate on this trip!</p>\n            </div>\n          ) : (\n            collaborators.map((collaborator) => (\n              <div key={collaborator.id} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-xl\">\n                <div className=\"flex items-center space-x-4\">\n                  <div className=\"w-10 h-10 bg-gradient-to-br from-purple-400 to-blue-400 rounded-full flex items-center justify-center\">\n                    <span className=\"text-white font-semibold text-sm\">\n                      {collaborator.user_profile?.full_name?.charAt(0) || \n                       collaborator.user_profile?.email?.charAt(0) || '?'}\n                    </span>\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-gray-900\">\n                      {collaborator.user_profile?.full_name || 'Unknown User'}\n                    </h4>\n                    <p className=\"text-sm text-gray-600\">{collaborator.user_profile?.email}</p>\n                  </div>\n                </div>\n                \n                <div className=\"flex items-center space-x-3\">\n                  {/* Role Badge/Selector */}\n                  {isOwner && collaborator.role !== 'owner' ? (\n                    <select\n                      value={collaborator.role}\n                      onChange={(e) => handleUpdateRole(collaborator.user_id, e.target.value as 'editor' | 'viewer')}\n                      className=\"text-sm px-3 py-1 rounded-full border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                    >\n                      <option value=\"viewer\">Viewer</option>\n                      <option value=\"editor\">Editor</option>\n                    </select>\n                  ) : (\n                    <span className={`px-3 py-1 rounded-full text-sm font-medium ${getRoleColor(collaborator.role)}`}>\n                      {collaborator.role.charAt(0).toUpperCase() + collaborator.role.slice(1)}\n                    </span>\n                  )}\n                  \n                  {/* Remove Button */}\n                  {isOwner && collaborator.role !== 'owner' && (\n                    <button\n                      onClick={() => handleRemoveCollaborator(collaborator.user_id)}\n                      className=\"text-red-500 hover:text-red-700 p-1 rounded transition-colors\"\n                      title=\"Remove collaborator\"\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                      </svg>\n                    </button>\n                  )}\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n\n        {/* Invite Modal */}\n        {showInviteModal && (\n          <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-60\">\n            <div className=\"bg-white rounded-xl p-6 w-full max-w-md mx-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Invite Friend</h3>\n              \n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Select Friend\n                  </label>\n                  <select\n                    value={selectedFriend}\n                    onChange={(e) => setSelectedFriend(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  >\n                    <option value=\"\">Choose a friend...</option>\n                    {friends.map((friend) => (\n                      <option key={friend.id} value={friend.friend_id}>\n                        {friend.friend_profile?.full_name || friend.friend_profile?.email}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Role\n                  </label>\n                  <select\n                    value={selectedRole}\n                    onChange={(e) => setSelectedRole(e.target.value as 'editor' | 'viewer')}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  >\n                    <option value=\"viewer\">Viewer - Can view the trip</option>\n                    <option value=\"editor\">Editor - Can view and edit the trip</option>\n                  </select>\n                </div>\n              </div>\n              \n              <div className=\"flex space-x-3 mt-6\">\n                <button\n                  onClick={() => setShowInviteModal(false)}\n                  className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleInviteFriend}\n                  disabled={!selectedFriend}\n                  className=\"flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Send Invite\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6083, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/components/TripOverview.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Trip } from '@/types/itinerary';\nimport { format, differenceInDays } from 'date-fns';\nimport TripCollaborators from './TripCollaborators';\n\ninterface TripOverviewProps {\n  trip: Trip;\n  onUpdateTrip: (updatedTrip: Partial<Trip>) => void;\n}\n\nexport default function TripOverview({ trip, onUpdateTrip }: TripOverviewProps) {\n  const [isEditing, setIsEditing] = useState(false);\n  const [showCollaborators, setShowCollaborators] = useState(false);\n  const [editData, setEditData] = useState({\n    title: trip.title,\n    description: trip.description || '',\n    budget: trip.budget || 0,\n  });\n\n  const duration = differenceInDays(new Date(trip.end_date), new Date(trip.start_date)) + 1;\n  const totalExpenses = trip.expenses.reduce((sum, expense) => sum + expense.amount, 0);\n  const remainingBudget = (trip.budget || 0) - totalExpenses;\n  const packedItems = trip.packingList.filter(item => item.packed).length;\n  const totalItems = trip.packingList.length;\n  const completedActivities = trip.itinerary.reduce((count, day) => \n    count + day.activities.filter(activity => activity.completed).length, 0\n  );\n  const totalActivities = trip.itinerary.reduce((count, day) => count + day.activities.length, 0);\n\n  const handleSave = () => {\n    onUpdateTrip(editData);\n    setIsEditing(false);\n  };\n\n  const getBudgetStatus = () => {\n    const percentage = totalExpenses / (trip.budget || 1) * 100;\n    if (percentage > 100) return { color: 'text-red-600', bg: 'bg-red-100', status: 'Over Budget!' };\n    if (percentage > 80) return { color: 'text-yellow-600', bg: 'bg-yellow-100', status: 'Close to Limit' };\n    return { color: 'text-green-600', bg: 'bg-green-100', status: 'On Track' };\n  };\n\n  const budgetStatus = getBudgetStatus();\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Trip Header Card */}\n      <div className=\"bg-white/90 backdrop-blur-sm rounded-3xl p-8 shadow-2xl border border-white/20\">\n        {isEditing ? (\n          <div className=\"space-y-6\">\n            <input\n              type=\"text\"\n              value={editData.title}\n              onChange={(e) => setEditData({ ...editData, title: e.target.value })}\n              className=\"w-full text-3xl font-bold text-gray-900 bg-transparent border-b-2 border-purple-300 focus:border-purple-500 outline-none pb-2\"\n              placeholder=\"Trip title\"\n            />\n            <textarea\n              value={editData.description}\n              onChange={(e) => setEditData({ ...editData, description: e.target.value })}\n              className=\"w-full text-gray-600 bg-transparent border border-gray-300 rounded-xl p-4 focus:border-purple-500 outline-none resize-none\"\n              rows={3}\n              placeholder=\"Trip description\"\n            />\n            <div className=\"flex items-center space-x-4\">\n              <label className=\"text-sm font-semibold text-gray-700\">Budget:</label>\n              <input\n                type=\"number\"\n                value={editData.budget}\n                onChange={(e) => setEditData({ ...editData, budget: Number(e.target.value) })}\n                className=\"px-4 py-2 border border-gray-300 rounded-xl focus:border-purple-500 outline-none\"\n                placeholder=\"0\"\n              />\n              <span className=\"text-gray-600\">{trip.currency}</span>\n            </div>\n            <div className=\"flex space-x-4\">\n              <button\n                onClick={handleSave}\n                className=\"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-2 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-200\"\n              >\n                Save Changes\n              </button>\n              <button\n                onClick={() => setIsEditing(false)}\n                className=\"bg-gray-500 text-white px-6 py-2 rounded-xl font-semibold hover:bg-gray-600 transition-all duration-200\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        ) : (\n          <div>\n            <div className=\"flex justify-between items-start mb-4\">\n              <div>\n                <h2 className=\"text-3xl font-bold text-gray-900 mb-2\">{trip.title}</h2>\n                <p className=\"text-gray-600 text-lg leading-relaxed\">{trip.description}</p>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <button\n                  onClick={() => setShowCollaborators(true)}\n                  className=\"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-colors\"\n                  title=\"Manage collaborators\"\n                >\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z\" />\n                  </svg>\n                </button>\n                <button\n                  onClick={() => setIsEditing(true)}\n                  className=\"p-2 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-xl transition-colors\"\n                >\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                  </svg>\n                </button>\n              </div>\n            </div>\n            \n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6\">\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-purple-600\">{duration}</div>\n                <div className=\"text-sm text-gray-600\">Days</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-blue-600\">{trip.travelers}</div>\n                <div className=\"text-sm text-gray-600\">Travelers</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-green-600\">{format(new Date(trip.start_date), 'EEE, MMM d')}</div>\n                <div className=\"text-sm text-gray-600\">Start Date</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-orange-600\">{format(new Date(trip.end_date), 'EEE, MMM d')}</div>\n                <div className=\"text-sm text-gray-600\">End Date</div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        {/* Budget Card */}\n        <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold text-gray-900\">Budget</h3>\n            <div className={`px-3 py-1 rounded-full text-xs font-medium ${budgetStatus.bg} ${budgetStatus.color}`}>\n              {budgetStatus.status}\n            </div>\n          </div>\n          <div className=\"space-y-2\">\n            <div className=\"flex justify-between\">\n              <span className=\"text-sm text-gray-600\">Total Budget</span>\n              <span className=\"font-semibold\">{trip.budget?.toLocaleString()} {trip.currency}</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-sm text-gray-600\">Spent</span>\n              <span className=\"font-semibold text-red-600\">{totalExpenses.toLocaleString()} {trip.currency}</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-sm text-gray-600\">Remaining</span>\n              <span className={`font-semibold ${remainingBudget >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                {remainingBudget.toLocaleString()} {trip.currency}\n              </span>\n            </div>\n            <div className=\"w-full bg-gray-200 rounded-full h-2 mt-3\">\n              <div \n                className={`h-2 rounded-full transition-all duration-300 ${\n                  totalExpenses > (trip.budget || 0) ? 'bg-red-500' : 'bg-gradient-to-r from-green-500 to-emerald-500'\n                }`}\n                style={{ width: `${Math.min((totalExpenses / (trip.budget || 1)) * 100, 100)}%` }}\n              ></div>\n            </div>\n          </div>\n        </div>\n\n        {/* Packing Progress */}\n        <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold text-gray-900\">Packing</h3>\n            <span className=\"text-2xl\">üß≥</span>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-3xl font-bold text-purple-600 mb-2\">\n              {packedItems}/{totalItems}\n            </div>\n            <div className=\"text-sm text-gray-600 mb-3\">Items Packed</div>\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\n              <div \n                className=\"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-300\"\n                style={{ width: `${totalItems > 0 ? (packedItems / totalItems) * 100 : 0}%` }}\n              ></div>\n            </div>\n            <div className=\"text-xs text-gray-500 mt-2\">\n              {totalItems > 0 ? Math.round((packedItems / totalItems) * 100) : 0}% Complete\n            </div>\n          </div>\n        </div>\n\n        {/* Activities Progress */}\n        <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold text-gray-900\">Activities</h3>\n            <span className=\"text-2xl\">üóìÔ∏è</span>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-3xl font-bold text-blue-600 mb-2\">\n              {completedActivities}/{totalActivities}\n            </div>\n            <div className=\"text-sm text-gray-600 mb-3\">Completed</div>\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\n              <div \n                className=\"bg-gradient-to-r from-blue-500 to-indigo-500 h-2 rounded-full transition-all duration-300\"\n                style={{ width: `${totalActivities > 0 ? (completedActivities / totalActivities) * 100 : 0}%` }}\n              ></div>\n            </div>\n            <div className=\"text-xs text-gray-500 mt-2\">\n              {totalActivities > 0 ? Math.round((completedActivities / totalActivities) * 100) : 0}% Complete\n            </div>\n          </div>\n        </div>\n\n      </div>\n\n      {/* Recent Activity */}\n      <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n        <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">Recent Updates</h3>\n        <div className=\"text-center py-8\">\n          <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n          </div>\n          <p className=\"text-gray-600 text-sm\">No recent activity</p>\n          <p className=\"text-gray-500 text-xs mt-1\">Activity will appear here as you update your trip</p>\n        </div>\n      </div>\n\n      {/* Collaborators Modal */}\n      {showCollaborators && (\n        <TripCollaborators \n          tripId={trip.id} \n          isOwner={true}\n          onClose={() => setShowCollaborators(false)}\n        />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6890, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/app/itinerary/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useAuth } from '@/components/AuthProvider';\nimport { useRouter } from 'next/navigation';\nimport { useEffect, useState, use } from 'react';\nimport DashboardHeader from '@/components/DashboardHeader';\nimport VerticalItinerary from '@/components/VerticalItinerary';\nimport PackingList from '@/components/PackingList';\nimport ExpenseTracker from '@/components/ExpenseTracker';\nimport AccommodationManager from '@/components/AccommodationManager';\nimport TripOverview from '@/components/TripOverview';\nimport { Trip, ItineraryDay, Activity, ActivityInput, PackingItem, Expense, Accommodation } from '@/types/itinerary';\n\nexport default function ItineraryPage({ params }: { params: Promise<{ id: string }> }) {\n  const { user, loading } = useAuth();\n  const router = useRouter();\n  const resolvedParams = use(params);\n  const [trip, setTrip] = useState<Trip | null>(null);\n  const [activeTab, setActiveTab] = useState<'overview' | 'itinerary' | 'packing' | 'expenses' | 'accommodation'>('itinerary');\n\n  useEffect(() => {\n    if (!loading && !user) {\n      router.push('/auth/login');\n    }\n  }, [user, loading, router]);\n\n  // Load trip data from database\n  useEffect(() => {\n    async function loadTrip() {\n      if (!resolvedParams.id) return;\n      \n      try {\n        const { getTrip } = await import('@/lib/trip-service');\n        const tripData = await getTrip(resolvedParams.id);\n        \n        if (tripData) {\n          // Apply any localStorage edits to the trip data\n          try {\n            const tripKey = `trip_${resolvedParams.id}_edits`;\n            const savedEdits = JSON.parse(localStorage.getItem(tripKey) || '{}');\n            \n            if (Object.keys(savedEdits).length > 0) {\n              const updatedItinerary = [...tripData.itinerary];\n              \n              Object.entries(savedEdits).forEach(([key, edits]) => {\n                if (key.startsWith('day_')) {\n                  const dayIndex = parseInt(key.replace('day_', ''));\n                  if (updatedItinerary[dayIndex] && typeof edits === 'object') {\n                    updatedItinerary[dayIndex] = { ...updatedItinerary[dayIndex], ...(edits as Partial<ItineraryDay>) };\n                  }\n                }\n              });\n              \n              tripData.itinerary = updatedItinerary;\n            }\n          } catch (error) {\n            console.warn('Could not load edits from localStorage:', error);\n          }\n          \n          setTrip(tripData);\n        } else {\n          // Trip not found, create empty structure\n          const emptyTrip: Trip = {\n            id: resolvedParams.id,\n            title: 'My Trip',\n            destination: 'Destination',\n            start_date: new Date().toISOString().split('T')[0],\n            end_date: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\n            description: 'Plan your amazing journey',\n            budget: 0,\n            currency: 'USD',\n            travelers: 1,\n            packingList: [],\n            expenses: [],\n            itinerary: [],\n            created_at: new Date().toISOString(),\n            updated_at: new Date().toISOString()\n          };\n          setTrip(emptyTrip);\n        }\n      } catch (error) {\n        console.error('Error loading trip:', error);\n        // Fallback to empty trip\n        const emptyTrip: Trip = {\n          id: resolvedParams.id,\n          title: 'My Trip',\n          destination: 'Destination',\n          start_date: new Date().toISOString().split('T')[0],\n          end_date: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\n          description: 'Plan your amazing journey',\n          budget: 0,\n          currency: 'USD',\n          travelers: 1,\n          packingList: [],\n          expenses: [],\n          itinerary: [],\n          created_at: new Date().toISOString(),\n          updated_at: new Date().toISOString()\n        };\n        setTrip(emptyTrip);\n      }\n    }\n\n    if (user) {\n      loadTrip();\n    }\n  }, [resolvedParams.id, user]);\n\n  const updateTrip = async (updatedTrip: Partial<Trip>) => {\n    if (trip) {\n      setTrip({ ...trip, ...updatedTrip });\n      \n      // Save to database\n      try {\n        const { updateTrip: updateTripDB } = await import('@/lib/trip-service');\n        await updateTripDB(trip.id, updatedTrip);\n      } catch (error) {\n        console.error('Error updating trip:', error);\n      }\n    }\n  };\n\n  const addNewDay = () => {\n    if (!trip) return;\n    \n    const newDayNumber = trip.itinerary.length + 1;\n    const tripStartDate = new Date(trip.start_date);\n    const newDayDate = new Date(tripStartDate);\n    newDayDate.setDate(tripStartDate.getDate() + newDayNumber - 1);\n    \n    const newDay: ItineraryDay = {\n      day: newDayNumber,\n      date: newDayDate.toISOString().split('T')[0],\n      activities: [],\n      notes: '',\n      actualSpent: 0\n    };\n    \n    const updatedItinerary = [...trip.itinerary, newDay];\n    updateTrip({ itinerary: updatedItinerary });\n  };\n\n  const tabs = [\n    { id: 'overview', name: 'Overview', icon: 'üìä' },\n    { id: 'itinerary', name: 'Itinerary', icon: 'üóìÔ∏è' },\n    { id: 'packing', name: 'Packing', icon: 'üß≥' },\n    { id: 'expenses', name: 'Expenses', icon: 'üí∞' },\n    { id: 'accommodation', name: 'Hotels', icon: 'üè®' },\n  ] as const;\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading itinerary...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user || !trip) {\n    return null;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50\">\n      <DashboardHeader user={user} />\n      \n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Header */}\n        <div className=\"mb-8 text-center\">\n          <div className=\"inline-block bg-yellow-300/80 backdrop-blur-sm px-6 py-2 rounded-full text-sm font-bold text-gray-800 mb-4 shadow-lg border border-yellow-400/30\">\n            {trip?.destination.toUpperCase()}\n          </div>\n          <div className=\"border-2 border-purple-400 bg-white/90 backdrop-blur-sm rounded-3xl p-6 max-w-2xl mx-auto shadow-2xl\">\n            <h1 className=\"text-4xl font-bold text-gray-900 tracking-wider mb-2\">\n              {trip?.title || 'TRIP PLANNER'}\n            </h1>\n            <p className=\"text-gray-600\">{trip?.description}</p>\n          </div>\n        </div>\n\n        {/* Navigation Tabs */}\n        <div className=\"mb-8\">\n          <div className=\"bg-white/80 backdrop-blur-sm rounded-2xl p-2 shadow-lg border border-white/20 max-w-4xl mx-auto\">\n            <nav className=\"flex space-x-2\" aria-label=\"Tabs\">\n              {tabs.map((tab) => (\n                <button\n                  key={tab.id}\n                  onClick={() => setActiveTab(tab.id)}\n                  className={`\n                    flex-1 flex items-center justify-center px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200\n                    ${activeTab === tab.id\n                      ? 'bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg transform scale-105'\n                      : 'text-gray-600 hover:text-gray-900 hover:bg-gray-100'\n                    }\n                  `}\n                >\n                  <span className=\"mr-2 text-lg\">{tab.icon}</span>\n                  <span className=\"hidden sm:inline\">{tab.name}</span>\n                </button>\n              ))}\n            </nav>\n          </div>\n        </div>\n\n        {/* Tab Content */}\n        <div className=\"mb-8\">\n          {activeTab === 'overview' && trip && (\n            <TripOverview trip={trip} onUpdateTrip={updateTrip} />\n          )}\n          \n          {activeTab === 'itinerary' && trip && (\n            <VerticalItinerary \n              itinerary={trip.itinerary}\n              tripId={trip.id}\n              onAddActivity={async (dayIndex: number, activityInput: ActivityInput) => {\n                try {\n                  const { addActivity } = await import('@/lib/trip-service');\n                  const created = await addActivity(trip.id, dayIndex + 1, activityInput);\n\n                  const updatedItinerary = [...trip.itinerary];\n                  if (!updatedItinerary[dayIndex].activities) {\n                    updatedItinerary[dayIndex].activities = [];\n                  }\n                  updatedItinerary[dayIndex].activities.push(created);\n                  updateTrip({ itinerary: updatedItinerary });\n                } catch (error) {\n                  console.error('Error adding activity:', error);\n                }\n              }}\n              onEditActivity={async (dayIndex: number, activityId: string, activityInput: ActivityInput) => {\n                try {\n                  const { updateActivity } = await import('@/lib/trip-service');\n                  const updated = await updateActivity(trip.id, dayIndex + 1, activityId, activityInput);\n\n                  const itineraryCopy = [...trip.itinerary];\n                  const activityIndex = itineraryCopy[dayIndex].activities.findIndex(a => a.id === activityId);\n                  if (activityIndex !== -1) {\n                    itineraryCopy[dayIndex].activities[activityIndex] = updated;\n                    updateTrip({ itinerary: itineraryCopy });\n                  }\n                } catch (error) {\n                  console.error('Error updating activity:', error);\n                }\n              }}\n              onDeleteActivity={async (dayIndex: number, activityId: string) => {\n                try {\n                  const { deleteActivity } = await import('@/lib/trip-service');\n                  await deleteActivity(trip.id, dayIndex + 1, activityId);\n\n                  const itineraryCopy = [...trip.itinerary];\n                  itineraryCopy[dayIndex].activities = itineraryCopy[dayIndex].activities.filter(a => a.id !== activityId);\n                  updateTrip({ itinerary: itineraryCopy });\n                } catch (error) {\n                  console.error('Error deleting activity:', error);\n                }\n              }}\n              onSaveNotes={async (dayIndex: number, notes: string) => {\n                try {\n                  const { updateTripDay } = await import('@/lib/trip-service');\n                  await updateTripDay(trip.id, dayIndex + 1, { notes });\n                  \n                  const updatedItinerary = [...trip.itinerary];\n                  updatedItinerary[dayIndex] = { ...updatedItinerary[dayIndex], notes };\n                  updateTrip({ itinerary: updatedItinerary });\n                } catch (error) {\n                  console.error('Error saving notes:', error);\n                  if (error instanceof Error) {\n                    console.error('Error message:', error.message);\n                    console.error('Error stack:', error.stack);\n                  }\n                }\n              }}\n              onSaveExpense={async (dayIndex: number, expense) => {\n                try {\n                  const expenseData = {\n                    id: crypto.randomUUID(),\n                    title: expense.title,\n                    amount: expense.amount,\n                    currency: expense.currency,\n                    category: expense.category as any,\n                    date: expense.date,\n                    description: '',\n                    shared: false\n                  };\n                  const { addExpense, getTrip } = await import('@/lib/trip-service');\n                  await addExpense(trip.id, expenseData);\n                  \n                  // Refresh trip data to show updated expenses\n                  const updatedTrip = await getTrip(trip.id);\n                  if (updatedTrip) {\n                    updateTrip(updatedTrip);\n                  }\n                } catch (error) {\n                  console.error('Error saving expense:', error);\n                  if (error instanceof Error) {\n                    console.error('Error message:', error.message);\n                  }\n                }\n              }}\n              onUpdateDay={async (dayIndex: number, updatedDay: Partial<ItineraryDay>) => {\n                \n                // Update local state immediately for better UX\n                const updatedItinerary = [...trip.itinerary];\n                updatedItinerary[dayIndex] = { ...updatedItinerary[dayIndex], ...updatedDay };\n                updateTrip({ itinerary: updatedItinerary });\n                \n                // Save to database\n                try {\n                  const { updateTripDay } = await import('@/lib/trip-service');\n                  await updateTripDay(trip.id, dayIndex + 1, updatedDay);\n                } catch (error) {\n                  console.error('Error updating day in database:', error);\n                }\n              }}\n              onAddDay={addNewDay}\n              onDeleteDay={async (dayIndex: number) => {\n                try {\n                  const dayToDelete = trip.itinerary[dayIndex];\n                  \n                  // Delete from database first\n                  const { deleteTripDay } = await import('@/lib/trip-service');\n                  await deleteTripDay(trip.id, dayToDelete.day);\n                  \n                  // Remove from local state\n                  const updatedItinerary = [...trip.itinerary];\n                  updatedItinerary.splice(dayIndex, 1);\n                  \n                  // Renumber the remaining days\n                  const renumberedItinerary = updatedItinerary.map((day, index) => ({\n                    ...day,\n                    day: index + 1\n                  }));\n                  \n                  updateTrip({ itinerary: renumberedItinerary });\n                } catch (error) {\n                  console.error('Error deleting day:', error);\n                }\n              }}\n            />\n          )}\n          \n          {activeTab === 'packing' && trip && (\n            <PackingList \n              packingList={trip.packingList}\n              onUpdatePackingList={async (packingList) => {\n                setTrip({ ...trip, packingList });\n                try {\n                  const { savePackingList } = await import('@/lib/trip-service');\n                  await savePackingList(trip.id, packingList);\n                } catch (error) {\n                  console.error('Error saving packing list:', error);\n                }\n              }} \n            />\n          )}\n          \n          {activeTab === 'expenses' && trip && (\n            <ExpenseTracker \n              expenses={trip.expenses} \n              budget={trip.budget || 0}\n              currency={trip.currency}\n              onUpdateExpenses={(expenses) => updateTrip({ expenses })} \n            />\n          )}\n          \n          {activeTab === 'accommodation' && trip && (\n            <AccommodationManager \n              itinerary={trip.itinerary}\n              onUpdateItinerary={(itinerary) => updateTrip({ itinerary })} \n            />\n          )}\n        </div>\n\n        {/* Back Button */}\n        <div className=\"text-center\">\n          <button\n            onClick={() => router.push('/dashboard')}\n            className=\"bg-gradient-to-r from-gray-600 to-gray-700 text-white px-8 py-3 rounded-xl font-semibold hover:from-gray-700 hover:to-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n          >\n            ‚Üê Back to Dashboard\n          </button>\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}