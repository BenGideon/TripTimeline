{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/components/TripCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { format, differenceInDays, parseISO } from \"date-fns\";\nimport { useState, useEffect, useRef } from \"react\";\n\ninterface Trip {\n  id: string;\n  title: string;\n  destination: string;\n  start_date: string;\n  end_date: string;\n  description?: string;\n  created_at: string;\n  cover_image?: string;\n}\n\ninterface TripCardProps {\n  trip: Trip;\n  onDelete?: (tripId: string) => void;\n  onManageCollaborators?: (tripId: string) => void;\n  onEdit?: (tripId: string) => void;\n}\n\nexport default function TripCard({\n  trip,\n  onDelete,\n  onManageCollaborators,\n  onEdit,\n}: TripCardProps) {\n  const [showDropdown, setShowDropdown] = useState(false);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  const startDate = parseISO(trip.start_date);\n  const endDate = parseISO(trip.end_date);\n  const duration = differenceInDays(endDate, startDate) + 1;\n  const isUpcoming = startDate > new Date();\n  const isOngoing = startDate <= new Date() && endDate >= new Date();\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (\n        dropdownRef.current &&\n        !dropdownRef.current.contains(event.target as Node)\n      ) {\n        setShowDropdown(false);\n      }\n    }\n\n    if (showDropdown) {\n      document.addEventListener(\"mousedown\", handleClickOutside);\n      return () =>\n        document.removeEventListener(\"mousedown\", handleClickOutside);\n    }\n  }, [showDropdown]);\n\n  const getStatusBadge = () => {\n    if (isOngoing) {\n      return (\n        <span className=\"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-white/90 text-secondary border-2 border-secondary shadow-lg backdrop-blur-sm\">\n          <div className=\"w-1.5 h-1.5 bg-secondary rounded-full mr-1.5 animate-pulse\"></div>\n          Ongoing\n        </span>\n      );\n    } else if (isUpcoming) {\n      return (\n        <span className=\"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-white/90 text-accent border-2 border-accent shadow-lg backdrop-blur-sm\">\n          <svg\n            className=\"w-3 h-3 mr-1\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n            />\n          </svg>\n          Upcoming\n        </span>\n      );\n    } else {\n      return (\n        <span className=\"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-white/90 text-primary border-2 border-primary shadow-lg backdrop-blur-sm\">\n          <svg\n            className=\"w-3 h-3 mr-1\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M5 13l4 4L19 7\"\n            />\n          </svg>\n          Completed\n        </span>\n      );\n    }\n  };\n\n  return (\n    <div className=\"glass rounded-xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 hover:scale-105 group overflow-visible relative border border-transparent hover:border-primary hover:border-opacity-30\">\n      {/* Card Header with Cover Image */}\n      <div className=\"h-48 travel-gradient relative overflow-hidden rounded-t-xl\">\n        {trip.cover_image ? (\n          <img\n            src={trip.cover_image}\n            alt={trip.title}\n            className=\"w-full h-full object-cover\"\n          />\n        ) : null}\n        <div className=\"absolute inset-0 bg-black/10\"></div>\n        <div className=\"absolute top-4 left-4 right-4 flex justify-between items-start\">\n          {getStatusBadge()}\n          <button className=\"p-2 bg-white/20 backdrop-blur-sm rounded-full hover:bg-white/40 hover:scale-110 transition-all duration-200 shadow-md hover:shadow-lg\">\n            <svg\n              className=\"w-4 h-4 text-white\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n              />\n            </svg>\n          </button>\n        </div>\n        <div className=\"absolute bottom-4 left-4 right-4\">\n          <h3 className=\"text-xl font-bold text-white mb-1 group-hover:text-accent transition-all duration-200\">\n            {trip.title}\n          </h3>\n          <div className=\"flex items-center text-white/90\">\n            <svg\n              className=\"w-4 h-4 mr-1\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"\n              />\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\n              />\n            </svg>\n            <span className=\"text-sm\">{trip.destination}</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Card Content */}\n      <div className=\"p-6 overflow-visible\">\n        {trip.description && (\n          <p className=\"text-secondary text-sm mb-4 line-clamp-2\">\n            {trip.description}\n          </p>\n        )}\n\n        {/* Trip Details */}\n        <div className=\"space-y-3 mb-6\">\n          <div className=\"flex items-center justify-between text-sm\">\n            <div className=\"flex items-center text-secondary\">\n              <svg\n                className=\"w-4 h-4 mr-2\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                />\n              </svg>\n              <span>Duration</span>\n            </div>\n            <span className=\"font-medium text-primary\">\n              {duration} {duration === 1 ? \"day\" : \"days\"}\n            </span>\n          </div>\n\n          <div className=\"flex items-center justify-between text-sm\">\n            <div className=\"flex items-center text-secondary\">\n              <svg\n                className=\"w-4 h-4 mr-2\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n                />\n              </svg>\n              <span>Dates</span>\n            </div>\n            <span className=\"font-medium text-primary\">\n              {format(startDate, \"MMM d\")} - {format(endDate, \"MMM d, yyyy\")}\n            </span>\n          </div>\n        </div>\n\n        {/* Action Buttons */}\n        <div className=\"flex space-x-3\">\n          <a\n            href={`/itinerary/${trip.id}`}\n            className=\"flex-1 btn-primary py-2.5 px-4 rounded-lg font-medium focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 shadow-md hover:shadow-xl transform hover:-translate-y-1 hover:scale-105 text-center\"\n          >\n            View Itinerary\n          </a>\n          <div className=\"relative\" ref={dropdownRef}>\n            <button\n              onClick={() => setShowDropdown(!showDropdown)}\n              className=\"p-2.5 bg-accent bg-opacity-20 hover:bg-opacity-40 hover:scale-110 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 shadow-sm hover:shadow-md\"\n            >\n              <svg\n                className=\"w-5 h-5 text-accent\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\"\n                />\n              </svg>\n            </button>\n\n            {showDropdown && (\n              <div className=\"absolute right-0 top-12 w-48 bg-white/95 backdrop-blur-sm rounded-lg shadow-xl border border-primary border-opacity-20 py-2 z-50\">\n                <button\n                  onClick={() => {\n                    setShowDropdown(false);\n                    if (onEdit) onEdit(trip.id);\n                  }}\n                  className=\"w-full text-left px-4 py-2 text-sm font-medium text-primary hover:bg-accent hover:bg-opacity-20 hover:text-primary transition-all duration-200 flex items-center rounded-md mx-1\"\n                >\n                  <svg\n                    className=\"w-4 h-4 mr-2\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\n                    />\n                  </svg>\n                  Edit Trip\n                </button>\n                {onManageCollaborators && (\n                  <button\n                    onClick={() => {\n                      setShowDropdown(false);\n                      onManageCollaborators(trip.id);\n                    }}\n                    className=\"w-full text-left px-4 py-2 text-sm font-medium text-primary hover:bg-accent hover:bg-opacity-20 hover:text-primary transition-all duration-200 flex items-center rounded-md mx-1\"\n                  >\n                    <svg\n                      className=\"w-4 h-4 mr-2\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        strokeWidth={2}\n                        d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z\"\n                      />\n                    </svg>\n                    Manage Collaborators\n                  </button>\n                )}\n                {onDelete && (\n                  <button\n                    onClick={() => {\n                      setShowDropdown(false);\n                      if (\n                        window.confirm(\n                          `Are you sure you want to delete \"${trip.title}\"? This action cannot be undone.`\n                        )\n                      ) {\n                        onDelete(trip.id);\n                      }\n                    }}\n                    className=\"w-full text-left px-4 py-2 text-sm font-medium text-red-600 hover:bg-red-50 hover:text-red-700 transition-all duration-200 flex items-center rounded-md mx-1\"\n                  >\n                    <svg\n                      className=\"w-4 h-4 mr-2\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        strokeWidth={2}\n                        d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n                      />\n                    </svg>\n                    Delete Trip\n                  </button>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 591, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/components/CreateTripModal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\n\ninterface Trip {\n  id: string;\n  title: string;\n  destination: string;\n  start_date: string;\n  end_date: string;\n  description?: string;\n  created_at: string;\n}\n\ninterface CreateTripModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onTripCreated: (trip: Trip) => void;\n}\n\nexport default function CreateTripModal({\n  isOpen,\n  onClose,\n  onTripCreated,\n}: CreateTripModalProps) {\n  const [formData, setFormData] = useState({\n    title: \"\",\n    destination: \"\",\n    start_date: \"\",\n    end_date: \"\",\n    description: \"\",\n  });\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      const { createTrip } = await import(\"@/lib/trip-service\");\n      const tripId = await createTrip({\n        title: formData.title,\n        destination: formData.destination,\n        start_date: formData.start_date,\n        end_date: formData.end_date,\n        description: formData.description || \"\",\n        currency: \"USD\",\n        travelers: 1,\n      });\n\n      // Create the trip object to return to the dashboard\n      const newTrip: Trip = {\n        id: tripId,\n        ...formData,\n        created_at: new Date().toISOString(),\n      };\n\n      onTripCreated(newTrip);\n      setFormData({\n        title: \"\",\n        destination: \"\",\n        start_date: \"\",\n        end_date: \"\",\n        description: \"\",\n      });\n    } catch (error) {\n      console.error(\"Error creating trip:\", error);\n      // Show more detailed error message\n      const errorMessage =\n        error instanceof Error ? error.message : \"Unknown error occurred\";\n      alert(`Failed to create trip: ${errorMessage}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n  ) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 backdrop-blur-sm flex items-center justify-center p-4 z-50\" style={{backgroundColor: 'rgba(10, 64, 12, 0.5)'}}>\n      <div className=\"bg-bg rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-accent border-opacity-20\">\n          <h2 className=\"text-2xl font-bold text-primary\">Create New Trip</h2>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-accent hover:bg-opacity-10 rounded-full transition-colors\"\n          >\n            <svg\n              className=\"w-5 h-5 text-secondary\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </button>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          <div>\n            <label\n              htmlFor=\"title\"\n              className=\"block text-sm font-semibold text-primary mb-2\"\n            >\n              Trip Title *\n            </label>\n            <input\n              type=\"text\"\n              id=\"title\"\n              name=\"title\"\n              value={formData.title}\n              onChange={handleChange}\n              required\n              className=\"w-full px-4 py-3 border border-secondary border-opacity-20 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200\"\n              placeholder=\"e.g., Summer in Japan\"\n            />\n          </div>\n\n          <div>\n            <label\n              htmlFor=\"destination\"\n              className=\"block text-sm font-semibold text-primary mb-2\"\n            >\n              Destination *\n            </label>\n            <input\n              type=\"text\"\n              id=\"destination\"\n              name=\"destination\"\n              value={formData.destination}\n              onChange={handleChange}\n              required\n              className=\"w-full px-4 py-3 border border-secondary border-opacity-20 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200\"\n              placeholder=\"e.g., Tokyo, Japan\"\n            />\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label\n                htmlFor=\"start_date\"\n                className=\"block text-sm font-semibold text-primary mb-2\"\n              >\n                Start Date *\n              </label>\n              <input\n                type=\"date\"\n                id=\"start_date\"\n                name=\"start_date\"\n                value={formData.start_date}\n                onChange={handleChange}\n                required\n                className=\"w-full px-4 py-3 border border-secondary border-opacity-20 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200\"\n              />\n            </div>\n\n            <div>\n              <label\n                htmlFor=\"end_date\"\n                className=\"block text-sm font-semibold text-primary mb-2\"\n              >\n                End Date *\n              </label>\n              <input\n                type=\"date\"\n                id=\"end_date\"\n                name=\"end_date\"\n                value={formData.end_date}\n                onChange={handleChange}\n                required\n                min={formData.start_date}\n                className=\"w-full px-4 py-3 border border-secondary border-opacity-20 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <label\n              htmlFor=\"description\"\n              className=\"block text-sm font-semibold text-primary mb-2\"\n            >\n              Description\n            </label>\n            <textarea\n              id=\"description\"\n              name=\"description\"\n              value={formData.description}\n              onChange={handleChange}\n              rows={3}\n              className=\"w-full px-4 py-3 border border-secondary border-opacity-20 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 resize-none\"\n              placeholder=\"Tell us about your trip...\"\n            />\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex space-x-3 pt-4\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 px-4 py-3 border border-secondary border-opacity-30 text-secondary rounded-lg font-semibold hover:bg-secondary hover:bg-opacity-5 focus:outline-none focus:ring-2 focus:ring-secondary focus:ring-offset-2 transition-all duration-200\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"flex-1 btn-primary py-3 px-4 rounded-lg font-semibold focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n            >\n              {loading ? (\n                <div className=\"flex items-center justify-center\">\n                  <svg\n                    className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <circle\n                      className=\"opacity-25\"\n                      cx=\"12\"\n                      cy=\"12\"\n                      r=\"10\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"4\"\n                    ></circle>\n                    <path\n                      className=\"opacity-75\"\n                      fill=\"currentColor\"\n                      d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                    ></path>\n                  </svg>\n                  Creating...\n                </div>\n              ) : (\n                \"Create Trip\"\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 965, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/lib/friend-service.ts"],"sourcesContent":["import { createClient } from './auth';\nimport { UserProfile, Friend, TripCollaborator, FriendRequest, TripInvitation } from '@/types/friends';\n\nconst supabase = createClient();\n\n// User Profile Functions\nexport async function getCurrentUserProfile(): Promise<UserProfile | null> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return null;\n\n  const { data, error } = await (supabase as any)\n    .from('user_profiles')\n    .select('*')\n    .eq('id', user.id)\n    .single();\n\n  if (error) {\n    return null;\n  }\n\n  return data;\n}\n\nexport async function updateUserProfile(updates: Partial<UserProfile>): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('user_profiles')\n    .update(updates)\n    .eq('id', user.id);\n\n  if (error) {\n    throw new Error(`Failed to update profile: ${error.message}`);\n  }\n}\n\nexport async function searchUsers(query: string): Promise<UserProfile[]> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return [];\n\n  const { data, error } = await (supabase as any)\n    .from('user_profiles')\n    .select('*')\n    .or(`full_name.ilike.%${query}%,email.ilike.%${query}%,username.ilike.%${query}%`)\n    .neq('id', user.id)\n    .limit(10);\n\n  if (error) {\n    return [];\n  }\n\n  return data || [];\n}\n\n// Friend Functions\nexport async function sendFriendRequest(friendId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('friends')\n    .insert({\n      user_id: user.id,\n      friend_id: friendId,\n      status: 'pending'\n    });\n\n  if (error) {\n    if ((error as any).code === '23505' || error.message?.includes('friends_user_id_friend_id_key')) {\n      const duplicateError = new Error('FRIEND_REQUEST_ALREADY_EXISTS');\n      (duplicateError as any).code = 'FRIEND_REQUEST_ALREADY_EXISTS';\n      throw duplicateError;\n    }\n    throw new Error(`Failed to send friend request: ${error.message}`);\n  }\n}\n\nexport async function acceptFriendRequest(requestId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  // Update the original request to accepted\n  const { error: updateError } = await (supabase as any)\n    .from('friends')\n    .update({ status: 'accepted' })\n    .eq('id', requestId)\n    .eq('friend_id', user.id);\n\n  if (updateError) {\n    throw new Error(`Failed to accept friend request: ${updateError.message}`);\n  }\n\n  // Create the reciprocal friendship\n  const { data: originalRequest } = await (supabase as any)\n    .from('friends')\n    .select('user_id, friend_id')\n    .eq('id', requestId)\n    .single();\n\n  if (originalRequest) {\n    const { error: reciprocalError } = await (supabase as any)\n      .from('friends')\n      .insert({\n        user_id: user.id,\n        friend_id: originalRequest.user_id,\n        status: 'accepted'\n      });\n\n    if (reciprocalError && !reciprocalError.message.includes('duplicate')) {\n      // Could not create reciprocal friendship\n    }\n  }\n}\n\nexport async function declineFriendRequest(requestId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('friends')\n    .delete()\n    .eq('id', requestId)\n    .eq('friend_id', user.id);\n\n  if (error) {\n    throw new Error(`Failed to decline friend request: ${error.message}`);\n  }\n}\n\nexport async function removeFriend(friendId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  // Remove both directions of the friendship\n  const { error: error1 } = await (supabase as any)\n    .from('friends')\n    .delete()\n    .eq('user_id', user.id)\n    .eq('friend_id', friendId);\n\n  const { error: error2 } = await (supabase as any)\n    .from('friends')\n    .delete()\n    .eq('user_id', friendId)\n    .eq('friend_id', user.id);\n\n  if (error1 || error2) {\n    throw new Error('Failed to remove friend');\n  }\n}\n\nexport async function getFriends(): Promise<Friend[]> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return [];\n\n  try {\n    const { data, error } = await (supabase as any)\n      .from('friends')\n      .select(`\n        *,\n        friend_profile:user_profiles!friends_friend_id_fkey(*)\n      `)\n      .eq('user_id', user.id)\n      .eq('status', 'accepted');\n\n    if (error) {\n      // Check if it's a missing table error\n      if (error.message?.includes('relation \"public.friends\" does not exist') || \n          error.message?.includes('relation \"public.user_profiles\" does not exist')) {\n        return [];\n      }\n      return [];\n    }\n\n    return data || [];\n  } catch (error) {\n    return [];\n  }\n}\n\nexport async function getFriendRequests(): Promise<FriendRequest[]> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return [];\n\n  try {\n    const { data, error } = await (supabase as any)\n      .from('friends')\n      .select(`\n        id,\n        status,\n        created_at,\n        from_user:user_profiles!friends_user_id_fkey(*),\n        to_user:user_profiles!friends_friend_id_fkey(*)\n      `)\n      .eq('friend_id', user.id)\n      .eq('status', 'pending');\n\n    if (error) {\n      // Check if it's a missing table error\n      if (error.message?.includes('relation \"public.friends\" does not exist')) {\n        throw new Error('FRIENDS_TABLE_MISSING');\n      }\n      return [];\n    }\n\n    return data || [];\n  } catch (error) {\n    if ((error as Error).message === 'FRIENDS_TABLE_MISSING') {\n      throw error; // Re-throw so NotificationBell can detect it\n    }\n    return [];\n  }\n}\n\n// Trip Collaboration Functions\nexport async function inviteToTrip(tripId: string, userId: string, role: 'editor' | 'viewer' = 'viewer'): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('trip_collaborators')\n    .insert({\n      trip_id: tripId,\n      user_id: userId,\n      role: role,\n      invited_by: user.id,\n      status: 'pending'\n    });\n\n  if (error) {\n    if ((error as any).code === '23505' || error.message?.includes('trip_collaborators_trip_id_user_id_key')) {\n      const duplicateError = new Error('TRIP_COLLABORATOR_ALREADY_INVITED');\n      (duplicateError as any).code = 'TRIP_COLLABORATOR_ALREADY_INVITED';\n      throw duplicateError;\n    }\n    throw new Error(`Failed to invite user to trip: ${error.message}`);\n  }\n}\n\nexport async function acceptTripInvitation(invitationId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { data, error } = await (supabase as any)\n    .from('trip_collaborators')\n    .update({ status: 'accepted' })\n    .eq('id', invitationId)\n    .eq('user_id', user.id);\n\n  if (error) {\n    throw new Error(`Failed to accept trip invitation: ${error.message}`);\n  }\n}\n\nexport async function declineTripInvitation(invitationId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('trip_collaborators')\n    .update({ status: 'declined' })\n    .eq('id', invitationId)\n    .eq('user_id', user.id);\n\n  if (error) {\n    throw new Error(`Failed to decline trip invitation: ${error.message}`);\n  }\n}\n\nexport async function removeFromTrip(tripId: string, userId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('trip_collaborators')\n    .delete()\n    .eq('trip_id', tripId)\n    .eq('user_id', userId);\n\n  if (error) {\n    throw new Error(`Failed to remove user from trip: ${error.message}`);\n  }\n}\n\nexport async function getTripCollaborators(tripId: string): Promise<TripCollaborator[]> {\n  const { data, error } = await (supabase as any)\n    .from('trip_collaborators')\n    .select(`\n      *,\n      user_profile:user_profiles!trip_collaborators_user_id_fkey(*),\n      inviter_profile:user_profiles!trip_collaborators_invited_by_fkey(*)\n    `)\n    .eq('trip_id', tripId)\n    .eq('status', 'accepted');\n\n  if (error) {\n    return [];\n  }\n\n  return data || [];\n}\n\nexport async function getTripInvitations(): Promise<TripInvitation[]> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return [];\n\n  try {\n    const { data, error } = await (supabase as any)\n      .from('trip_collaborators')\n      .select(`\n        id,\n        role,\n        status,\n        created_at,\n        trip:trips(id, title, destination, start_date, end_date)\n      `)\n      .eq('user_id', user.id)\n      .eq('status', 'pending');\n\n    if (error) {\n      // Check if it's a missing table error\n      if (error.message?.includes('relation \"public.trip_collaborators\" does not exist') || \n          error.message?.includes('relation \"public.user_profiles\" does not exist')) {\n        throw new Error('FRIENDS_TABLE_MISSING');\n      }\n      return [];\n    }\n\n    return data || [];\n  } catch (error) {\n    if ((error as Error).message === 'FRIENDS_TABLE_MISSING') {\n      throw error; // Re-throw so NotificationBell can detect it\n    }\n    return [];\n  }\n}\n\nexport async function updateCollaboratorRole(tripId: string, userId: string, role: 'editor' | 'viewer'): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('trip_collaborators')\n    .update({ role })\n    .eq('trip_id', tripId)\n    .eq('user_id', userId);\n\n  if (error) {\n    throw new Error(`Failed to update collaborator role: ${error.message}`);\n  }\n}\n\n// Check if user can edit trip\nexport async function canEditTrip(tripId: string): Promise<boolean> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return false;\n\n  // Check if user is the owner\n  const { data: trip } = await (supabase as any)\n    .from('trips')\n    .select('user_id')\n    .eq('id', tripId)\n    .single();\n\n  if (trip && trip.user_id === user.id) return true;\n\n  // Check if user is a collaborator with editor role\n  const { data: collaborator } = await (supabase as any)\n    .from('trip_collaborators')\n    .select('role')\n    .eq('trip_id', tripId)\n    .eq('user_id', user.id)\n    .eq('status', 'accepted')\n    .single();\n\n  return collaborator && (collaborator.role === 'editor' || collaborator.role === 'owner');\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1242, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/components/TripCollaborators.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { \n  getTripCollaborators, \n  getFriends, \n  inviteToTrip, \n  removeFromTrip, \n  updateCollaboratorRole \n} from '@/lib/friend-service';\nimport { TripCollaborator, Friend } from '@/types/friends';\n\ninterface TripCollaboratorsProps {\n  tripId: string;\n  isOwner: boolean;\n  onClose: () => void;\n}\n\nexport default function TripCollaborators({ tripId, isOwner, onClose }: TripCollaboratorsProps) {\n  const [collaborators, setCollaborators] = useState<TripCollaborator[]>([]);\n  const [friends, setFriends] = useState<Friend[]>([]);\n  const [showInviteModal, setShowInviteModal] = useState(false);\n  const [selectedFriend, setSelectedFriend] = useState<string>('');\n  const [selectedRole, setSelectedRole] = useState<'editor' | 'viewer'>('viewer');\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    loadData();\n  }, [tripId]);\n\n  const loadData = async () => {\n    try {\n      const [collaboratorsData, friendsData] = await Promise.all([\n        getTripCollaborators(tripId),\n        getFriends()\n      ]);\n      setCollaborators(collaboratorsData);\n      \n      // Filter out friends who are already collaborators\n      const collaboratorIds = collaboratorsData.map(c => c.user_id);\n      const availableFriends = friendsData.filter(f => !collaboratorIds.includes(f.friend_id));\n      setFriends(availableFriends);\n    } catch (error) {\n      console.error('Error loading collaborators:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleInviteFriend = async () => {\n    if (!selectedFriend) return;\n\n    try {\n      await inviteToTrip(tripId, selectedFriend, selectedRole);\n      setShowInviteModal(false);\n      setSelectedFriend('');\n      setSelectedRole('viewer');\n      await loadData();\n      alert('Invitation sent!');\n    } catch (error) {\n      console.error('Error inviting friend:', error);\n      if ((error as any)?.code === 'TRIP_COLLABORATOR_ALREADY_INVITED') {\n        alert('This user has already been invited to the trip.');\n      } else {\n        alert('Failed to send invitation');\n      }\n    }\n  };\n\n  const handleRemoveCollaborator = async (userId: string) => {\n    if (window.confirm('Are you sure you want to remove this collaborator?')) {\n      try {\n        await removeFromTrip(tripId, userId);\n        await loadData();\n      } catch (error) {\n        console.error('Error removing collaborator:', error);\n        alert('Failed to remove collaborator');\n      }\n    }\n  };\n\n  const handleUpdateRole = async (userId: string, newRole: 'editor' | 'viewer') => {\n    try {\n      await updateCollaboratorRole(tripId, userId, newRole);\n      setCollaborators(collaborators.map(c => \n        c.user_id === userId ? { ...c, role: newRole } : c\n      ));\n    } catch (error) {\n      console.error('Error updating role:', error);\n      alert('Failed to update role');\n    }\n  };\n\n  const getRoleColor = (role: string) => {\n    switch (role) {\n      case 'owner': return 'bg-primary bg-opacity-10 text-primary';\n      case 'editor': return 'bg-secondary bg-opacity-10 text-secondary';\n      case 'viewer': return 'bg-gray-100 text-gray-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n        <div className=\"bg-white rounded-2xl p-6 w-full max-w-2xl mx-4\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4\"></div>\n            <p className=\"text-gray-600\">Loading collaborators...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-2xl p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">Trip Collaborators</h2>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        {/* Invite Button */}\n        {isOwner && friends.length > 0 && (\n          <div className=\"mb-6\">\n            <button\n              onClick={() => setShowInviteModal(true)}\n              className=\"bg-gradient-to-r from-primary to-secondary text-white px-4 py-2 rounded-lg font-medium hover:opacity-90 transition-all\"\n            >\n              + Invite Friends\n            </button>\n          </div>\n        )}\n\n        {/* Collaborators List */}\n        <div className=\"space-y-4\">\n          {collaborators.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z\" />\n                </svg>\n              </div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No collaborators yet</h3>\n              <p className=\"text-gray-600\">Invite friends to collaborate on this trip!</p>\n            </div>\n          ) : (\n            collaborators.map((collaborator) => (\n              <div key={collaborator.id} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-xl\">\n                <div className=\"flex items-center space-x-4\">\n                  <div className=\"w-10 h-10 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center\">\n                    <span className=\"text-white font-semibold text-sm\">\n                      {collaborator.user_profile?.full_name?.charAt(0) || \n                       collaborator.user_profile?.email?.charAt(0) || '?'}\n                    </span>\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-gray-900\">\n                      {collaborator.user_profile?.full_name || 'Unknown User'}\n                    </h4>\n                    <p className=\"text-sm text-gray-600\">{collaborator.user_profile?.email}</p>\n                  </div>\n                </div>\n                \n                <div className=\"flex items-center space-x-3\">\n                  {/* Role Badge/Selector */}\n                  {isOwner && collaborator.role !== 'owner' ? (\n                    <select\n                      value={collaborator.role}\n                      onChange={(e) => handleUpdateRole(collaborator.user_id, e.target.value as 'editor' | 'viewer')}\n                      className=\"text-sm px-3 py-1 rounded-full border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                    >\n                      <option value=\"viewer\">Viewer</option>\n                      <option value=\"editor\">Editor</option>\n                    </select>\n                  ) : (\n                    <span className={`px-3 py-1 rounded-full text-sm font-medium ${getRoleColor(collaborator.role)}`}>\n                      {collaborator.role.charAt(0).toUpperCase() + collaborator.role.slice(1)}\n                    </span>\n                  )}\n                  \n                  {/* Remove Button */}\n                  {isOwner && collaborator.role !== 'owner' && (\n                    <button\n                      onClick={() => handleRemoveCollaborator(collaborator.user_id)}\n                      className=\"p-1 rounded transition-colors\"\n                      style={{color: '#b1ab86'}}\n                      onMouseEnter={(e) => (e.target as HTMLElement).style.color = '#0a400c'}\n                      onMouseLeave={(e) => (e.target as HTMLElement).style.color = '#b1ab86'}\n                      title=\"Remove collaborator\"\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                      </svg>\n                    </button>\n                  )}\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n\n        {/* Invite Modal */}\n        {showInviteModal && (\n          <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-60\">\n            <div className=\"bg-white rounded-xl p-6 w-full max-w-md mx-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Invite Friend</h3>\n              \n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Select Friend\n                  </label>\n                  <select\n                    value={selectedFriend}\n                    onChange={(e) => setSelectedFriend(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  >\n                    <option value=\"\">Choose a friend...</option>\n                    {friends.map((friend) => (\n                      <option key={friend.id} value={friend.friend_id}>\n                        {friend.friend_profile?.full_name || friend.friend_profile?.email}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Role\n                  </label>\n                  <select\n                    value={selectedRole}\n                    onChange={(e) => setSelectedRole(e.target.value as 'editor' | 'viewer')}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  >\n                    <option value=\"viewer\">Viewer - Can view the trip</option>\n                    <option value=\"editor\">Editor - Can view and edit the trip</option>\n                  </select>\n                </div>\n              </div>\n              \n              <div className=\"flex space-x-3 mt-6\">\n                <button\n                  onClick={() => setShowInviteModal(false)}\n                  className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleInviteFriend}\n                  disabled={!selectedFriend}\n                  className=\"flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Send Invite\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1796, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/components/DashboardHeader.tsx"],"sourcesContent":["\"use client\";\n\nimport { useAuth } from \"@/components/AuthProvider\";\nimport { useState } from \"react\";\nimport { User } from \"@supabase/supabase-js\";\n\ninterface DashboardHeaderProps {\n  user: User;\n}\n\nexport default function DashboardHeader({ user }: DashboardHeaderProps) {\n  const { signOut } = useAuth();\n  const [showUserMenu, setShowUserMenu] = useState(false);\n\n  const handleSignOut = async () => {\n    await signOut();\n  };\n\n  const userInitials = user.user_metadata?.display_name\n    ? user.user_metadata.display_name\n        .split(\" \")\n        .map((n: string) => n[0])\n        .join(\"\")\n        .toUpperCase()\n    : user.email?.charAt(0).toUpperCase() || \"U\";\n\n  return (\n    <header className=\"glass sticky top-0 z-50 border-b border-opacity-20 border-secondary\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between items-center h-16\">\n          {/* Logo */}\n          <a\n            href=\"/dashboard\"\n            className=\"flex items-center hover:opacity-80 transition-opacity\"\n          >\n            <div className=\"flex-shrink-0\">\n              <h1 className=\"text-2xl font-bold travel-gradient bg-clip-text text-transparent cursor-pointer\">\n                 TripTimeline\n              </h1>\n            </div>\n          </a>\n\n          {/* Navigation */}\n          <nav className=\"hidden md:flex space-x-8\">\n            <a\n              href=\"/dashboard\"\n              className=\"text-primary hover:text-secondary px-3 py-2 rounded-md text-sm font-medium transition-colors\"\n            >\n              Dashboard\n            </a>\n          </nav>\n\n          {/* User Menu */}\n          <div className=\"relative\">\n            <button\n              onClick={() => setShowUserMenu(!showUserMenu)}\n              className=\"flex items-center space-x-3 text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 hover:bg-accent hover:bg-opacity-20 p-1 transition-colors cursor-pointer\"\n            >\n              <div className=\"w-10 h-10 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center text-white font-semibold\">\n                {userInitials}\n              </div>\n              <div className=\"hidden md:block text-left\">\n                <p className=\"text-sm font-medium text-primary\">\n                  {user.user_metadata?.display_name || \"User\"}\n                </p>\n                <p className=\"text-xs text-secondary\">{user.email}</p>\n              </div>\n              <svg\n                className={`w-4 h-4 text-secondary transition-transform ${\n                  showUserMenu ? \"rotate-180\" : \"\"\n                }`}\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M19 9l-7 7-7-7\"\n                />\n              </svg>\n            </button>\n\n            {/* Dropdown Menu */}\n            {showUserMenu && (\n              <div className=\"absolute right-0 mt-2 w-56 glass rounded-xl shadow-lg py-2 z-50\">\n                <div className=\"px-4 py-3 border-b border-opacity-20 border-secondary\">\n                  <p className=\"text-sm font-medium text-primary\">\n                    {user.user_metadata?.display_name || \"User\"}\n                  </p>\n                  <p className=\"text-xs text-secondary truncate\">\n                    {user.email}\n                  </p>\n                </div>\n\n                <div className=\"py-1\">\n                  <a\n                    href=\"/dashboard/profile\"\n                    className=\"flex items-center px-4 py-2 text-sm text-primary hover:bg-accent hover:bg-opacity-10 transition-colors\"\n                  >\n                    <svg\n                      className=\"w-4 h-4 mr-3 text-secondary\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        strokeWidth={2}\n                        d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n                      />\n                    </svg>\n                    Profile Settings\n                  </a>\n                </div>\n\n                <div className=\"border-t border-opacity-20 border-secondary py-1\">\n                  <button\n                    onClick={handleSignOut}\n                    className=\"flex items-center w-full px-4 py-2 text-sm text-primary hover:bg-accent hover:bg-opacity-10 transition-colors\"\n                  >\n                    <svg\n                      className=\"w-4 h-4 mr-3\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        strokeWidth={2}\n                        d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\n                      />\n                    </svg>\n                    Sign Out\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAUe,SAAS,gBAAgB,EAAE,IAAI,EAAwB;IACpE,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,oMAAO;IAC3B,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wQAAQ,EAAC;IAEjD,MAAM,gBAAgB;QACpB,MAAM;IACR;IAEA,MAAM,eAAe,KAAK,aAAa,EAAE,eACrC,KAAK,aAAa,CAAC,YAAY,CAC5B,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,IAAc,CAAC,CAAC,EAAE,EACvB,IAAI,CAAC,IACL,WAAW,KACd,KAAK,KAAK,EAAE,OAAO,GAAG,iBAAiB;IAE3C,qBACE,qSAAC;QAAO,WAAU;kBAChB,cAAA,qSAAC;YAAI,WAAU;sBACb,cAAA,qSAAC;gBAAI,WAAU;;kCAEb,qSAAC;wBACC,MAAK;wBACL,WAAU;kCAEV,cAAA,qSAAC;4BAAI,WAAU;sCACb,cAAA,qSAAC;gCAAG,WAAU;0CAAkF;;;;;;;;;;;;;;;;kCAOpG,qSAAC;wBAAI,WAAU;kCACb,cAAA,qSAAC;4BACC,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;kCAMH,qSAAC;wBAAI,WAAU;;0CACb,qSAAC;gCACC,SAAS,IAAM,gBAAgB,CAAC;gCAChC,WAAU;;kDAEV,qSAAC;wCAAI,WAAU;kDACZ;;;;;;kDAEH,qSAAC;wCAAI,WAAU;;0DACb,qSAAC;gDAAE,WAAU;0DACV,KAAK,aAAa,EAAE,gBAAgB;;;;;;0DAEvC,qSAAC;gDAAE,WAAU;0DAA0B,KAAK,KAAK;;;;;;;;;;;;kDAEnD,qSAAC;wCACC,WAAW,CAAC,4CAA4C,EACtD,eAAe,eAAe,IAC9B;wCACF,MAAK;wCACL,QAAO;wCACP,SAAQ;kDAER,cAAA,qSAAC;4CACC,eAAc;4CACd,gBAAe;4CACf,aAAa;4CACb,GAAE;;;;;;;;;;;;;;;;;4BAMP,8BACC,qSAAC;gCAAI,WAAU;;kDACb,qSAAC;wCAAI,WAAU;;0DACb,qSAAC;gDAAE,WAAU;0DACV,KAAK,aAAa,EAAE,gBAAgB;;;;;;0DAEvC,qSAAC;gDAAE,WAAU;0DACV,KAAK,KAAK;;;;;;;;;;;;kDAIf,qSAAC;wCAAI,WAAU;kDACb,cAAA,qSAAC;4CACC,MAAK;4CACL,WAAU;;8DAEV,qSAAC;oDACC,WAAU;oDACV,MAAK;oDACL,QAAO;oDACP,SAAQ;8DAER,cAAA,qSAAC;wDACC,eAAc;wDACd,gBAAe;wDACf,aAAa;wDACb,GAAE;;;;;;;;;;;gDAEA;;;;;;;;;;;;kDAKV,qSAAC;wCAAI,WAAU;kDACb,cAAA,qSAAC;4CACC,SAAS;4CACT,WAAU;;8DAEV,qSAAC;oDACC,WAAU;oDACV,MAAK;oDACL,QAAO;oDACP,SAAQ;8DAER,cAAA,qSAAC;wDACC,eAAc;wDACd,gBAAe;wDACf,aAAa;wDACb,GAAE;;;;;;;;;;;gDAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAW1B"}},
    {"offset": {"line": 2063, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useAuth } from \"@/components/AuthProvider\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport { parseISO } from \"date-fns\";\nimport TripCard from \"@/components/TripCard\";\nimport CreateTripModal from \"@/components/CreateTripModal\";\nimport TripCollaborators from \"@/components/TripCollaborators\";\nimport NotificationBell from \"@/components/NotificationBell\";\nimport DashboardHeader from \"@/components/DashboardHeader\";\n\ninterface Trip {\n  id: string;\n  title: string;\n  destination: string;\n  start_date: string;\n  end_date: string;\n  description?: string;\n  created_at: string;\n}\n\nexport default function DashboardPage() {\n  const { user, loading, signOut } = useAuth();\n  const router = useRouter();\n  const [trips, setTrips] = useState<Trip[]>([]);\n  const [tripsLoading, setTripsLoading] = useState(true);\n  const [pendingInvitations, setPendingInvitations] = useState<any[]>([]);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showCollaborators, setShowCollaborators] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [selectedTripId, setSelectedTripId] = useState<string>(\"\");\n  const [editingTrip, setEditingTrip] = useState<Trip | null>(null);\n  const [editFormData, setEditFormData] = useState({\n    title: \"\",\n    description: \"\",\n    start_date: \"\",\n    end_date: \"\",\n  });\n\n  useEffect(() => {\n    if (!loading && !user) {\n      router.push(\"/auth/login\");\n    }\n  }, [user, loading, router]);\n\n  // Load trips and pending invitations from database\n  useEffect(() => {\n    async function loadData() {\n      if (user) {\n        setTripsLoading(true);\n        try {\n          const { getUserTrips } = await import(\"@/lib/trip-service\");\n          const { getTripInvitations } = await import(\"@/lib/friend-service\");\n\n          const [userTrips, invitations] = await Promise.all([\n            getUserTrips(),\n            getTripInvitations(),\n          ]);\n\n          setTrips(userTrips);\n          setPendingInvitations(invitations);\n        } catch (error) {\n          setTrips([]);\n          setPendingInvitations([]);\n        } finally {\n          setTripsLoading(false);\n        }\n      }\n    }\n\n    loadData();\n  }, [user]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\" style={{backgroundColor: '#fefae0'}}>\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4\" style={{borderBottomColor: '#0a400c'}}></div>\n          <p style={{color: '#819067'}}>Loading your dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return null;\n  }\n\n  const handleSignOut = async () => {\n    try {\n      await signOut();\n      router.push(\"/auth/login\");\n    } catch (error) {\n      // Error signing out\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-bg\">\n      <DashboardHeader user={user} />\n\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Hero Section with Gradient */}\n        <div className=\"subtle-green-gradient rounded-2xl p-12 text-white mb-12 shadow-lg\">\n          <h1 className=\"text-4xl md:text-5xl font-bold mb-3\">\n            Welcome back,{\" \"}\n            {user.user_metadata?.display_name || user.email?.split(\"@\")[0]}! \n          </h1>\n          <p className=\"text-lg opacity-90\">\n            Ready to plan your next adventure?\n          </p>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n          <div className=\"glass rounded-xl p-6 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-200 cursor-pointer border border-transparent hover:border-primary hover:border-opacity-30\">\n            <div className=\"flex items-center\">\n              <div className=\"p-3 bg-primary bg-opacity-10 rounded-full hover:bg-opacity-20 transition-all duration-200\">\n                <svg\n                  className=\"w-6 h-6 text-primary\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"\n                  />\n                </svg>\n              </div>\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-secondary\">\n                  Total Trips\n                </p>\n                <p className=\"text-2xl font-bold text-primary\">\n                  {trips.length}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"glass rounded-xl p-6 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-200 cursor-pointer border border-transparent hover:border-secondary hover:border-opacity-30\">\n            <div className=\"flex items-center\">\n              <div className=\"p-3 bg-secondary bg-opacity-10 rounded-full hover:bg-opacity-20 transition-all duration-200\">\n                <svg\n                  className=\"w-6 h-6 text-secondary\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                  />\n                </svg>\n              </div>\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-secondary\">\n                  Upcoming Trips\n                </p>\n                <p className=\"text-2xl font-bold text-primary\">\n                  {\n                    trips.filter((t) => parseISO(t.start_date) > new Date())\n                      .length\n                  }\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Pending Invitations Section */}\n        {pendingInvitations.length > 0 && (\n          <div className=\"mb-8\">\n            <h2 className=\"text-2xl font-bold text-primary mb-4\">\n              Trip Invitations\n            </h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {pendingInvitations.map((invitation) => (\n                <div\n                  key={invitation.id}\n                  className=\"glass rounded-xl p-6 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-200 border border-transparent hover:border-accent hover:border-opacity-30\"\n                >\n                  <div className=\"mb-4\">\n                    <h3 className=\"text-lg font-semibold text-primary mb-2\">\n                      {invitation.trip?.title || \"Trip\"}\n                    </h3>\n                    <p className=\"text-sm text-secondary mb-1\">\n                       {invitation.trip?.destination || \"Destination\"}\n                    </p>\n                    <p className=\"text-sm text-secondary\">\n                      {\" \"}\n                      {invitation.trip?.start_date\n                        ? parseISO(\n                            invitation.trip.start_date\n                          ).toLocaleDateString()\n                        : \"Date\"}\n                    </p>\n                    {invitation.inviter_profile && (\n                      <p className=\"text-xs text-gray-500 mt-2\">\n                        Invited by:{\" \"}\n                        {invitation.inviter_profile.full_name ||\n                          invitation.inviter_profile.email ||\n                          \"Someone\"}\n                      </p>\n                    )}\n                  </div>\n                  <div className=\"flex space-x-2\">\n                    <button\n                      type=\"button\"\n                      onClick={async () => {\n                        try {\n                          const { acceptTripInvitation, getTripInvitations } =\n                            await import(\"@/lib/friend-service\");\n                          const { getUserTrips } = await import(\n                            \"@/lib/trip-service\"\n                          );\n\n                          await acceptTripInvitation(invitation.id);\n\n                          // Reload both trips and invitations\n                          const [userTrips, updatedInvitations] =\n                            await Promise.all([\n                              getUserTrips(),\n                              getTripInvitations(),\n                            ]);\n\n                          setTrips(userTrips);\n                          setPendingInvitations(updatedInvitations);\n                        } catch (error) {\n                          alert(\"Failed to accept invitation\");\n                        }\n                      }}\n                      className=\"flex-1 btn-primary px-4 py-2 rounded-lg font-medium transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5\"\n                    >\n                      Accept\n                    </button>\n                    <button\n                      type=\"button\"\n                      onClick={async () => {\n                        try {\n                          const { declineTripInvitation } = await import(\n                            \"@/lib/friend-service\"\n                          );\n                          await declineTripInvitation(invitation.id);\n                          setPendingInvitations(\n                            pendingInvitations.filter(\n                              (inv) => inv.id !== invitation.id\n                            )\n                          );\n                        } catch (error) {\n                          alert(\"Failed to decline invitation\");\n                        }\n                      }}\n                      className=\"flex-1 glass text-secondary px-4 py-2 rounded-lg font-medium transition-all duration-200 hover:bg-accent hover:bg-opacity-20 hover:text-primary shadow-md hover:shadow-lg transform hover:-translate-y-0.5\"\n                    >\n                      Decline\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Trips Section */}\n        <div className=\"flex justify-between items-center mb-6\">\n          <h2 className=\"text-2xl font-bold text-primary\">Your Trips</h2>\n          <div className=\"flex items-center space-x-4\">\n            {/* <NotificationBell /> - Temporarily disabled until friend tables are set up */}\n            <a\n              href=\"/friends\"\n              className=\"glass text-primary px-6 py-3 rounded-lg font-semibold hover:bg-accent hover:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 border border-transparent hover:border-accent hover:border-opacity-30\"\n            >\n               Friends\n            </a>\n            <button\n              onClick={() => setShowCreateModal(true)}\n              className=\"btn-primary px-6 py-3 rounded-lg font-semibold focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1 hover:scale-105\"\n            >\n              + Create New Trip\n            </button>\n          </div>\n        </div>\n\n        {/* Trips Grid */}\n        {tripsLoading ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {[1, 2, 3].map((i) => (\n              <div\n                key={i}\n                className=\"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse\"\n              >\n                <div className=\"h-32 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg mb-4\"></div>\n                <div className=\"h-6 bg-gray-200 rounded mb-3\"></div>\n                <div className=\"h-4 bg-gray-200 rounded mb-2\"></div>\n                <div className=\"h-4 bg-gray-200 rounded mb-4\"></div>\n                <div className=\"h-10 bg-gray-200 rounded\"></div>\n              </div>\n            ))}\n          </div>\n        ) : trips.length > 0 ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {trips.map((trip) => (\n              <TripCard\n                key={trip.id}\n                trip={trip}\n                onEdit={(tripId: string) => {\n                  const tripToEdit = trips.find((t) => t.id === tripId);\n                  if (tripToEdit) {\n                    setEditingTrip(tripToEdit);\n                    const formatDateForInput = (dateStr: string) => {\n                      if (dateStr.includes(\"T\")) {\n                        return dateStr.split(\"T\")[0];\n                      }\n                      return dateStr;\n                    };\n                    setEditFormData({\n                      title: tripToEdit.title,\n                      description: tripToEdit.description || \"\",\n                      start_date: formatDateForInput(tripToEdit.start_date),\n                      end_date: formatDateForInput(tripToEdit.end_date),\n                    });\n                    setShowEditModal(true);\n                  }\n                }}\n                onManageCollaborators={(tripId: string) => {\n                  setSelectedTripId(tripId);\n                  setShowCollaborators(true);\n                }}\n                onDelete={async (tripId: string) => {\n                  try {\n                    const { deleteTrip } = await import(\"@/lib/trip-service\");\n                    await deleteTrip(tripId);\n\n                    // Remove from local state\n                    setTrips(trips.filter((t) => t.id !== tripId));\n\n                    // Also remove from localStorage if it exists\n                    try {\n                      localStorage.removeItem(`trip_${tripId}_edits`);\n                    } catch (error) {\n                      // Could not remove trip edits from localStorage\n                    }\n                  } catch (error) {\n                    alert(\"Failed to delete trip. Please try again.\");\n                  }\n                }}\n              />\n            ))}\n          </div>\n        ) : (\n          <div className=\"text-center py-12\">\n            <div className=\"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <svg\n                className=\"w-12 h-12 text-gray-400\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"\n                />\n              </svg>\n            </div>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n              No trips yet\n            </h3>\n            <p className=\"text-gray-600 mb-6\">\n              Start planning your first adventure!\n            </p>\n            <button\n              onClick={() => setShowCreateModal(true)}\n              className=\"btn-primary px-6 py-3 rounded-lg font-semibold focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n            >\n              Create Your First Trip\n            </button>\n          </div>\n        )}\n      </main>\n\n      {/* Create Trip Modal */}\n      {showCreateModal && (\n        <CreateTripModal\n          isOpen={showCreateModal}\n          onClose={() => setShowCreateModal(false)}\n          onTripCreated={(newTrip) => {\n            setTrips([...trips, newTrip]);\n            setShowCreateModal(false);\n          }}\n        />\n      )}\n\n      {/* Edit Trip Modal */}\n      {showEditModal && editingTrip && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-2xl p-6 w-full max-w-md mx-4 shadow-xl\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">Edit Trip</h2>\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Trip Title\n                </label>\n                <input\n                  type=\"text\"\n                  value={editFormData.title}\n                  onChange={(e) =>\n                    setEditFormData({ ...editFormData, title: e.target.value })\n                  }\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Description\n                </label>\n                <textarea\n                  value={editFormData.description}\n                  onChange={(e) =>\n                    setEditFormData({\n                      ...editFormData,\n                      description: e.target.value,\n                    })\n                  }\n                  rows={3}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Start Date\n                </label>\n                <input\n                  type=\"date\"\n                  value={editFormData.start_date}\n                  onChange={(e) =>\n                    setEditFormData({\n                      ...editFormData,\n                      start_date: e.target.value,\n                    })\n                  }\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  End Date\n                </label>\n                <input\n                  type=\"date\"\n                  value={editFormData.end_date}\n                  onChange={(e) =>\n                    setEditFormData({\n                      ...editFormData,\n                      end_date: e.target.value,\n                    })\n                  }\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                />\n              </div>\n            </div>\n            <div className=\"flex space-x-3 mt-6\">\n              <button\n                onClick={() => setShowEditModal(false)}\n                className=\"flex-1 px-4 py-2 border border-secondary border-opacity-30 text-secondary rounded-lg hover:bg-secondary hover:bg-opacity-5 transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={async () => {\n                  try {\n                    if (!editFormData.start_date || !editFormData.end_date) {\n                      alert(\"Please fill in all fields\");\n                      return;\n                    }\n                    const { updateTrip } = await import(\"@/lib/trip-service\");\n                    const dataToSave = {\n                      ...editFormData,\n                      start_date: editFormData.start_date,\n                      end_date: editFormData.end_date,\n                    };\n                    await updateTrip(editingTrip.id, dataToSave);\n                    setTrips(\n                      trips.map((t) =>\n                        t.id === editingTrip.id ? { ...t, ...dataToSave } : t\n                      )\n                    );\n                    setShowEditModal(false);\n                  } catch (error) {\n                    alert(\"Failed to update trip\");\n                  }\n                }}\n                className=\"flex-1 btn-primary px-4 py-2 rounded-lg transition-all\"\n              >\n                Save Changes\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Trip Collaborators Modal */}\n      {showCollaborators && selectedTripId && (\n        <TripCollaborators\n          tripId={selectedTripId}\n          isOwner={true} // TODO: Check if current user is owner\n          onClose={() => {\n            setShowCollaborators(false);\n            setSelectedTripId(\"\");\n          }}\n        />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAVA;;;;;;;;;;AAsBe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAA,oMAAO;IAC1C,MAAM,SAAS,IAAA,sMAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wQAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wQAAQ,EAAC;IACjD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,wQAAQ,EAAQ,EAAE;IACtE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,wQAAQ,EAAC;IACvD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,wQAAQ,EAAC;IAC3D,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,wQAAQ,EAAC;IACnD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,wQAAQ,EAAS;IAC7D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,wQAAQ,EAAc;IAC5D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wQAAQ,EAAC;QAC/C,OAAO;QACP,aAAa;QACb,YAAY;QACZ,UAAU;IACZ;IAEA,IAAA,yQAAS,EAAC;QACR,IAAI,CAAC,WAAW,CAAC,MAAM;YACrB,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAM;QAAS;KAAO;IAE1B,mDAAmD;IACnD,IAAA,yQAAS,EAAC;QACR,eAAe;YACb,IAAI,MAAM;gBACR,gBAAgB;gBAChB,IAAI;oBACF,MAAM,EAAE,YAAY,EAAE,GAAG;oBACzB,MAAM,EAAE,kBAAkB,EAAE,GAAG;oBAE/B,MAAM,CAAC,WAAW,YAAY,GAAG,MAAM,QAAQ,GAAG,CAAC;wBACjD;wBACA;qBACD;oBAED,SAAS;oBACT,sBAAsB;gBACxB,EAAE,OAAO,OAAO;oBACd,SAAS,EAAE;oBACX,sBAAsB,EAAE;gBAC1B,SAAU;oBACR,gBAAgB;gBAClB;YACF;QACF;QAEA;IACF,GAAG;QAAC;KAAK;IAET,IAAI,SAAS;QACX,qBACE,qSAAC;YAAI,WAAU;YAAgD,OAAO;gBAAC,iBAAiB;YAAS;sBAC/F,cAAA,qSAAC;gBAAI,WAAU;;kCACb,qSAAC;wBAAI,WAAU;wBAA8D,OAAO;4BAAC,mBAAmB;wBAAS;;;;;;kCACjH,qSAAC;wBAAE,OAAO;4BAAC,OAAO;wBAAS;kCAAG;;;;;;;;;;;;;;;;;IAItC;IAEA,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IAEA,MAAM,gBAAgB;QACpB,IAAI;YACF,MAAM;YACN,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;QACd,oBAAoB;QACtB;IACF;IAEA,qBACE,qSAAC;QAAI,WAAU;;0BACb,qSAAC,uMAAe;gBAAC,MAAM;;;;;;0BAEvB,qSAAC;gBAAK,WAAU;;kCAEd,qSAAC;wBAAI,WAAU;;0CACb,qSAAC;gCAAG,WAAU;;oCAAsC;oCACpC;oCACb,KAAK,aAAa,EAAE,gBAAgB,KAAK,KAAK,EAAE,MAAM,IAAI,CAAC,EAAE;oCAAC;;;;;;;0CAEjE,qSAAC;gCAAE,WAAU;0CAAqB;;;;;;;;;;;;kCAMpC,qSAAC;wBAAI,WAAU;;0CACb,qSAAC;gCAAI,WAAU;0CACb,cAAA,qSAAC;oCAAI,WAAU;;sDACb,qSAAC;4CAAI,WAAU;sDACb,cAAA,qSAAC;gDACC,WAAU;gDACV,MAAK;gDACL,QAAO;gDACP,SAAQ;0DAER,cAAA,qSAAC;oDACC,eAAc;oDACd,gBAAe;oDACf,aAAa;oDACb,GAAE;;;;;;;;;;;;;;;;sDAIR,qSAAC;4CAAI,WAAU;;8DACb,qSAAC;oDAAE,WAAU;8DAAqC;;;;;;8DAGlD,qSAAC;oDAAE,WAAU;8DACV,MAAM,MAAM;;;;;;;;;;;;;;;;;;;;;;;0CAMrB,qSAAC;gCAAI,WAAU;0CACb,cAAA,qSAAC;oCAAI,WAAU;;sDACb,qSAAC;4CAAI,WAAU;sDACb,cAAA,qSAAC;gDACC,WAAU;gDACV,MAAK;gDACL,QAAO;gDACP,SAAQ;0DAER,cAAA,qSAAC;oDACC,eAAc;oDACd,gBAAe;oDACf,aAAa;oDACb,GAAE;;;;;;;;;;;;;;;;sDAIR,qSAAC;4CAAI,WAAU;;8DACb,qSAAC;oDAAE,WAAU;8DAAqC;;;;;;8DAGlD,qSAAC;oDAAE,WAAU;8DAET,MAAM,MAAM,CAAC,CAAC,IAAM,IAAA,0MAAQ,EAAC,EAAE,UAAU,IAAI,IAAI,QAC9C,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBASpB,mBAAmB,MAAM,GAAG,mBAC3B,qSAAC;wBAAI,WAAU;;0CACb,qSAAC;gCAAG,WAAU;0CAAuC;;;;;;0CAGrD,qSAAC;gCAAI,WAAU;0CACZ,mBAAmB,GAAG,CAAC,CAAC,2BACvB,qSAAC;wCAEC,WAAU;;0DAEV,qSAAC;gDAAI,WAAU;;kEACb,qSAAC;wDAAG,WAAU;kEACX,WAAW,IAAI,EAAE,SAAS;;;;;;kEAE7B,qSAAC;wDAAE,WAAU;;4DAA8B;4DACrC,WAAW,IAAI,EAAE,eAAe;;;;;;;kEAEtC,qSAAC;wDAAE,WAAU;;4DAAyB;4DACjC;4DACF,WAAW,IAAI,EAAE,aACd,IAAA,0MAAQ,EACN,WAAW,IAAI,CAAC,UAAU,EAC1B,kBAAkB,KACpB;;;;;;;oDAEL,WAAW,eAAe,kBACzB,qSAAC;wDAAE,WAAU;;4DAA6B;4DAC5B;4DACX,WAAW,eAAe,CAAC,SAAS,IACnC,WAAW,eAAe,CAAC,KAAK,IAChC;;;;;;;;;;;;;0DAIR,qSAAC;gDAAI,WAAU;;kEACb,qSAAC;wDACC,MAAK;wDACL,SAAS;4DACP,IAAI;gEACF,MAAM,EAAE,oBAAoB,EAAE,kBAAkB,EAAE,GAChD;gEACF,MAAM,EAAE,YAAY,EAAE,GAAG;gEAIzB,MAAM,qBAAqB,WAAW,EAAE;gEAExC,oCAAoC;gEACpC,MAAM,CAAC,WAAW,mBAAmB,GACnC,MAAM,QAAQ,GAAG,CAAC;oEAChB;oEACA;iEACD;gEAEH,SAAS;gEACT,sBAAsB;4DACxB,EAAE,OAAO,OAAO;gEACd,MAAM;4DACR;wDACF;wDACA,WAAU;kEACX;;;;;;kEAGD,qSAAC;wDACC,MAAK;wDACL,SAAS;4DACP,IAAI;gEACF,MAAM,EAAE,qBAAqB,EAAE,GAAG;gEAGlC,MAAM,sBAAsB,WAAW,EAAE;gEACzC,sBACE,mBAAmB,MAAM,CACvB,CAAC,MAAQ,IAAI,EAAE,KAAK,WAAW,EAAE;4DAGvC,EAAE,OAAO,OAAO;gEACd,MAAM;4DACR;wDACF;wDACA,WAAU;kEACX;;;;;;;;;;;;;uCA3EE,WAAW,EAAE;;;;;;;;;;;;;;;;kCAsF5B,qSAAC;wBAAI,WAAU;;0CACb,qSAAC;gCAAG,WAAU;0CAAkC;;;;;;0CAChD,qSAAC;gCAAI,WAAU;;kDAEb,qSAAC;wCACC,MAAK;wCACL,WAAU;kDACX;;;;;;kDAGD,qSAAC;wCACC,SAAS,IAAM,mBAAmB;wCAClC,WAAU;kDACX;;;;;;;;;;;;;;;;;;oBAOJ,6BACC,qSAAC;wBAAI,WAAU;kCACZ;4BAAC;4BAAG;4BAAG;yBAAE,CAAC,GAAG,CAAC,CAAC,kBACd,qSAAC;gCAEC,WAAU;;kDAEV,qSAAC;wCAAI,WAAU;;;;;;kDACf,qSAAC;wCAAI,WAAU;;;;;;kDACf,qSAAC;wCAAI,WAAU;;;;;;kDACf,qSAAC;wCAAI,WAAU;;;;;;kDACf,qSAAC;wCAAI,WAAU;;;;;;;+BAPV;;;;;;;;;+BAWT,MAAM,MAAM,GAAG,kBACjB,qSAAC;wBAAI,WAAU;kCACZ,MAAM,GAAG,CAAC,CAAC,qBACV,qSAAC,gMAAQ;gCAEP,MAAM;gCACN,QAAQ,CAAC;oCACP,MAAM,aAAa,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;oCAC9C,IAAI,YAAY;wCACd,eAAe;wCACf,MAAM,qBAAqB,CAAC;4CAC1B,IAAI,QAAQ,QAAQ,CAAC,MAAM;gDACzB,OAAO,QAAQ,KAAK,CAAC,IAAI,CAAC,EAAE;4CAC9B;4CACA,OAAO;wCACT;wCACA,gBAAgB;4CACd,OAAO,WAAW,KAAK;4CACvB,aAAa,WAAW,WAAW,IAAI;4CACvC,YAAY,mBAAmB,WAAW,UAAU;4CACpD,UAAU,mBAAmB,WAAW,QAAQ;wCAClD;wCACA,iBAAiB;oCACnB;gCACF;gCACA,uBAAuB,CAAC;oCACtB,kBAAkB;oCAClB,qBAAqB;gCACvB;gCACA,UAAU,OAAO;oCACf,IAAI;wCACF,MAAM,EAAE,UAAU,EAAE,GAAG;wCACvB,MAAM,WAAW;wCAEjB,0BAA0B;wCAC1B,SAAS,MAAM,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;wCAEtC,6CAA6C;wCAC7C,IAAI;4CACF,aAAa,UAAU,CAAC,CAAC,KAAK,EAAE,OAAO,MAAM,CAAC;wCAChD,EAAE,OAAO,OAAO;wCACd,gDAAgD;wCAClD;oCACF,EAAE,OAAO,OAAO;wCACd,MAAM;oCACR;gCACF;+BA1CK,KAAK,EAAE;;;;;;;;;6CA+ClB,qSAAC;wBAAI,WAAU;;0CACb,qSAAC;gCAAI,WAAU;0CACb,cAAA,qSAAC;oCACC,WAAU;oCACV,MAAK;oCACL,QAAO;oCACP,SAAQ;8CAER,cAAA,qSAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,aAAa;wCACb,GAAE;;;;;;;;;;;;;;;;0CAIR,qSAAC;gCAAG,WAAU;0CAAyC;;;;;;0CAGvD,qSAAC;gCAAE,WAAU;0CAAqB;;;;;;0CAGlC,qSAAC;gCACC,SAAS,IAAM,mBAAmB;gCAClC,WAAU;0CACX;;;;;;;;;;;;;;;;;;YAQN,iCACC,qSAAC,uMAAe;gBACd,QAAQ;gBACR,SAAS,IAAM,mBAAmB;gBAClC,eAAe,CAAC;oBACd,SAAS;2BAAI;wBAAO;qBAAQ;oBAC5B,mBAAmB;gBACrB;;;;;;YAKH,iBAAiB,6BAChB,qSAAC;gBAAI,WAAU;0BACb,cAAA,qSAAC;oBAAI,WAAU;;sCACb,qSAAC;4BAAG,WAAU;sCAAwC;;;;;;sCACtD,qSAAC;4BAAI,WAAU;;8CACb,qSAAC;;sDACC,qSAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,qSAAC;4CACC,MAAK;4CACL,OAAO,aAAa,KAAK;4CACzB,UAAU,CAAC,IACT,gBAAgB;oDAAE,GAAG,YAAY;oDAAE,OAAO,EAAE,MAAM,CAAC,KAAK;gDAAC;4CAE3D,WAAU;;;;;;;;;;;;8CAGd,qSAAC;;sDACC,qSAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,qSAAC;4CACC,OAAO,aAAa,WAAW;4CAC/B,UAAU,CAAC,IACT,gBAAgB;oDACd,GAAG,YAAY;oDACf,aAAa,EAAE,MAAM,CAAC,KAAK;gDAC7B;4CAEF,MAAM;4CACN,WAAU;;;;;;;;;;;;8CAGd,qSAAC;;sDACC,qSAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,qSAAC;4CACC,MAAK;4CACL,OAAO,aAAa,UAAU;4CAC9B,UAAU,CAAC,IACT,gBAAgB;oDACd,GAAG,YAAY;oDACf,YAAY,EAAE,MAAM,CAAC,KAAK;gDAC5B;4CAEF,WAAU;;;;;;;;;;;;8CAGd,qSAAC;;sDACC,qSAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,qSAAC;4CACC,MAAK;4CACL,OAAO,aAAa,QAAQ;4CAC5B,UAAU,CAAC,IACT,gBAAgB;oDACd,GAAG,YAAY;oDACf,UAAU,EAAE,MAAM,CAAC,KAAK;gDAC1B;4CAEF,WAAU;;;;;;;;;;;;;;;;;;sCAIhB,qSAAC;4BAAI,WAAU;;8CACb,qSAAC;oCACC,SAAS,IAAM,iBAAiB;oCAChC,WAAU;8CACX;;;;;;8CAGD,qSAAC;oCACC,SAAS;wCACP,IAAI;4CACF,IAAI,CAAC,aAAa,UAAU,IAAI,CAAC,aAAa,QAAQ,EAAE;gDACtD,MAAM;gDACN;4CACF;4CACA,MAAM,EAAE,UAAU,EAAE,GAAG;4CACvB,MAAM,aAAa;gDACjB,GAAG,YAAY;gDACf,YAAY,aAAa,UAAU;gDACnC,UAAU,aAAa,QAAQ;4CACjC;4CACA,MAAM,WAAW,YAAY,EAAE,EAAE;4CACjC,SACE,MAAM,GAAG,CAAC,CAAC,IACT,EAAE,EAAE,KAAK,YAAY,EAAE,GAAG;oDAAE,GAAG,CAAC;oDAAE,GAAG,UAAU;gDAAC,IAAI;4CAGxD,iBAAiB;wCACnB,EAAE,OAAO,OAAO;4CACd,MAAM;wCACR;oCACF;oCACA,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;YASR,qBAAqB,gCACpB,qSAAC,yMAAiB;gBAChB,QAAQ;gBACR,SAAS;gBACT,SAAS;oBACP,qBAAqB;oBACrB,kBAAkB;gBACpB;;;;;;;;;;;;AAKV"}}]
}