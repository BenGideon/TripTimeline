{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/lib/trip-service.ts"],"sourcesContent":["import { createClient } from './auth';\nimport { DbTrip, DbTripDay, DbEvent, DbPackingItem, DbExpense } from './supabase-client';\nimport { Trip, ItineraryDay, Activity, ActivityInput, PackingItem, Expense } from '@/types/itinerary';\n\n// Create a shared Supabase client instance\nconst supabase = createClient();\n\nconst parseFlexibleTime = (input?: string | null): string | null => {\n  if (!input) return null;\n\n  const trimmed = input.trim().toLowerCase();\n  if (!trimmed) return null;\n\n  const match = trimmed.match(/^(\\d{1,2})(?::(\\d{2}))?\\s*(am|pm)?$/i);\n  if (!match) return null;\n\n  let hours = parseInt(match[1], 10);\n  const minutes = match[2] ? parseInt(match[2], 10) : 0;\n  const meridiem = match[3]?.toLowerCase();\n\n  if (Number.isNaN(hours) || Number.isNaN(minutes) || minutes < 0 || minutes > 59) {\n    return null;\n  }\n\n  if (meridiem === 'am') {\n    hours = hours % 12;\n  } else if (meridiem === 'pm') {\n    hours = (hours % 12) + 12;\n  }\n\n  if (hours < 0 || hours > 23) {\n    return null;\n  }\n\n  return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`;\n};\n\nconst inferActivityType = (time?: string | null): Activity['type'] => {\n  if (!time) return 'morning';\n\n  const [hoursString] = time.split(':');\n  const hours = parseInt(hoursString, 10);\n  if (Number.isNaN(hours)) return 'morning';\n\n  if (hours >= 17) return 'evening';\n  if (hours >= 12) return 'afternoon';\n  return 'morning';\n};\n\n// Helper function to create trip days\nasync function createTripDays(tripId: string, startDate: string, endDate: string): Promise<void> {\n  const start = new Date(startDate);\n  const end = new Date(endDate);\n  const dayCount = Math.ceil((end.getTime() - start.getTime()) / (1000 * 60 * 60 * 24)) + 1;\n  \n  const tripDays = [];\n  for (let i = 0; i < dayCount; i++) {\n    const dayDate = new Date(start);\n    dayDate.setDate(start.getDate() + i);\n    \n    const title = i === 0 ? 'Arrival Day' : \n                  i === dayCount - 1 ? 'Departure Day' : \n                  `Day ${i + 1}`;\n    \n    tripDays.push({\n      trip_id: tripId,\n      date: dayDate.toISOString().split('T')[0],\n      day_index: i + 1,\n      title: title\n    });\n  }\n  \n  const { error } = await (supabase as any)\n    .from('trip_days')\n    .insert(tripDays);\n  \n  if (error) {\n    if (error.message && error.message.includes('duplicate key')) {\n      return;\n    }\n    throw new Error(`Failed to create trip days: ${error.message}`);\n  }\n}\n\n// Convert database types to app types\nfunction dbTripToTrip(dbTrip: DbTrip, days: ItineraryDay[], packingList: PackingItem[], expenses: Expense[]): Trip {\n  return {\n    id: dbTrip.id,\n    title: dbTrip.title,\n    destination: dbTrip.destination,\n    start_date: dbTrip.start_date,\n    end_date: dbTrip.end_date,\n    description: dbTrip.description || '',\n    budget: dbTrip.budget || 0,\n    currency: dbTrip.currency,\n    travelers: 1, // Default, can be added to DB later\n    packingList,\n    expenses,\n    itinerary: days,\n    created_at: dbTrip.created_at,\n    updated_at: dbTrip.updated_at\n  };\n}\n\nfunction dbEventToActivity(dbEvent: DbEvent): Activity {\n  const normalizedTime = parseFlexibleTime(dbEvent.start_time) ?? dbEvent.start_time ?? '';\n\n  return {\n    id: dbEvent.id,\n    title: dbEvent.title,\n    time: normalizedTime,\n    description: dbEvent.notes ?? undefined,\n    location: dbEvent.location_name ?? undefined,\n    type: inferActivityType(normalizedTime),\n    category: (dbEvent.category as Activity['category']) || 'other',\n    cost: dbEvent.cost_amount ?? undefined,\n    duration: 60,\n    notes: dbEvent.notes ?? undefined,\n    completed: false\n  };\n}\n\nfunction dbPackingItemToPackingItem(dbItem: DbPackingItem): PackingItem {\n  return {\n    id: dbItem.id,\n    name: dbItem.name,\n    category: (dbItem.category as any) || 'other',\n    quantity: 1,\n    packed: dbItem.is_checked,\n    essential: dbItem.priority === 1,\n    notes: ''\n  };\n}\n\nfunction dbExpenseToExpense(dbExpense: DbExpense): Expense {\n  return {\n    id: dbExpense.id,\n    title: dbExpense.label,\n    amount: dbExpense.amount,\n    currency: dbExpense.currency,\n    category: (dbExpense.category as any) || 'other',\n    date: dbExpense.created_at.split('T')[0],\n    description: '',\n    shared: false\n  };\n}\n\n// Trip CRUD operations\nexport async function createTrip(tripData: Omit<Trip, 'id' | 'created_at' | 'updated_at' | 'itinerary' | 'packingList' | 'expenses'>): Promise<string> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) {\n    throw new Error('User not authenticated - please log in again');\n  }\n\n  const { data, error } = await (supabase as any)\n    .from('trips')\n    .insert({\n      user_id: user.id,\n      title: tripData.title,\n      destination: tripData.destination,\n      start_date: tripData.start_date,\n      end_date: tripData.end_date,\n      description: tripData.description,\n      currency: tripData.currency\n      // Note: budget and travelers fields may not exist in DB yet\n    })\n    .select()\n    .single();\n\n  if (error) {\n    throw new Error(`Database error: ${error.message}`);\n  }\n  \n  if (!data) {\n    throw new Error('No data returned from trip creation');\n  }\n  \n  // Manually create trip days since the database trigger might not exist\n  try {\n    await createTripDays(data.id, tripData.start_date, tripData.end_date);\n  } catch (dayError) {\n    // Don't fail the entire trip creation if day creation fails\n    // Trip days will be created on-demand when needed\n  }\n  \n  return data.id;\n}\n\nexport async function getTrip(tripId: string): Promise<Trip | null> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) {\n    return null;\n  }\n\n  // Get trip - check if user is owner OR collaborator\n  const { data: trip, error: tripError } = await (supabase as any)\n    .from('trips')\n    .select('*')\n    .eq('id', tripId)\n    .single();\n\n  if (tripError || !trip) return null;\n\n  // Check if user is owner or accepted collaborator\n  if (trip.user_id !== user.id) {\n    const { data: collaborator } = await (supabase as any)\n      .from('trip_collaborators')\n      .select('id')\n      .eq('trip_id', tripId)\n      .eq('user_id', user.id)\n      .eq('status', 'accepted')\n      .single();\n    \n    if (!collaborator) return null; // User is not owner or collaborator\n  }\n\n  // Get trip days\n  const { data: dbDays, error: daysError } = await (supabase as any)\n    .from('trip_days')\n    .select('*')\n    .eq('trip_id', tripId)\n    .order('day_index');\n\n  if (daysError) throw daysError;\n\n  // Get events for each day\n  const days: ItineraryDay[] = [];\n  for (const dbDay of dbDays || []) {\n    const { data: dbEvents, error: eventsError } = await (supabase as any)\n      .from('events')\n      .select('*')\n      .eq('trip_day_id', dbDay.id)\n      .order('order_index');\n\n    if (eventsError) throw eventsError;\n\n    const activities = (dbEvents || []).map(dbEventToActivity);\n    \n    days.push({\n      day: dbDay.day_index,\n      date: dbDay.date,\n      activities,\n      notes: dbDay.notes || '',\n      actualSpent: 0,\n      customTitle: dbDay.title\n    });\n  }\n\n  // Get packing items\n  const { data: dbPackingItems, error: packingError } = await (supabase as any)\n    .from('packing_items')\n    .select('*')\n    .eq('trip_id', tripId);\n\n  if (packingError) throw packingError;\n\n  const packingList = (dbPackingItems || []).map(dbPackingItemToPackingItem);\n\n  // Get expenses\n  const { data: dbExpenses, error: expensesError } = await (supabase as any)\n    .from('expenses')\n    .select('*')\n    .eq('trip_id', tripId);\n\n  if (expensesError) throw expensesError;\n\n  const expenses = (dbExpenses || []).map(dbExpenseToExpense);\n\n  return dbTripToTrip(trip, days, packingList, expenses);\n}\n\nexport async function getUserTrips(): Promise<Trip[]> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) {\n    return [];\n  }\n\n  // Get trips owned by user\n  const { data: ownedTrips, error: ownedError } = await (supabase as any)\n    .from('trips')\n    .select('*')\n    .eq('user_id', user.id)\n    .order('created_at', { ascending: false });\n\n  if (ownedError) throw ownedError;\n\n  // Get trips where user is an accepted collaborator\n  const { data: collaboratorTrips, error: collabError } = await (supabase as any)\n    .from('trips')\n    .select('*')\n    .in('id', \n      (await (supabase as any)\n        .from('trip_collaborators')\n        .select('trip_id')\n        .eq('user_id', user.id)\n        .eq('status', 'accepted')\n      ).data?.map((c: any) => c.trip_id) || []\n    )\n    .order('created_at', { ascending: false });\n\n  if (collabError && collabError.code !== 'PGRST116') throw collabError; // Ignore \"no rows\" error\n\n  // Combine and deduplicate trips\n  const allTrips = [...(ownedTrips || []), ...(collaboratorTrips || [])];\n  const uniqueTrips = Array.from(new Map(allTrips.map((t: DbTrip) => [t.id, t])).values());\n\n  // For now, return trips without full details (for performance)\n  return uniqueTrips.map((trip: DbTrip) => dbTripToTrip(trip, [], [], []));\n}\n\nexport async function updateTripDay(tripId: string, dayIndex: number, updates: Partial<ItineraryDay>): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) {\n    return;\n  }\n\n  // Find the trip day\n  const { data: tripDay, error: findError } = await (supabase as any)\n    .from('trip_days')\n    .select('*')\n    .eq('trip_id', tripId)\n    .eq('day_index', dayIndex)\n    .single();\n\n  if (findError || !tripDay) {\n    \n    // Try to create the missing trip day\n    try {\n      // Get trip info to calculate the date\n      const { data: trip } = await (supabase as any)\n        .from('trips')\n        .select('start_date')\n        .eq('id', tripId)\n        .single();\n      \n      if (trip) {\n        // Instead of creating the trip day, let's just skip the update\n        // The day will be created when the trip is properly initialized\n        return; // Skip the update instead of failing\n      } else {\n        throw new Error('Trip not found');\n      }\n    } catch (createError) {\n      throw new Error(`Trip day not found and could not be created: ${createError}`);\n    }\n  }\n\n  // Update the trip day\n  const updateData: any = {};\n  if (updates.customTitle !== undefined) {\n    updateData.title = updates.customTitle;\n  }\n  if (updates.notes !== undefined) {\n    updateData.notes = updates.notes;\n  }\n\n  if (Object.keys(updateData).length > 0) {\n    const { error } = await (supabase as any)\n      .from('trip_days')\n      .update(updateData)\n      .eq('id', tripDay?.id);\n\n    if (error) {\n      throw new Error(`Failed to update trip day: ${error.message || JSON.stringify(error)}`);\n    }\n  }\n}\n\nexport async function deleteTripDay(tripId: string, dayIndex: number): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) {\n    throw new Error('User not authenticated');\n  }\n\n  const { data: tripDay, error: findError } = await (supabase as any)\n    .from('trip_days')\n    .select('id')\n    .eq('trip_id', tripId)\n    .eq('day_index', dayIndex)\n    .single();\n\n  if (findError || !tripDay) {\n    return;\n  }\n\n  const { error } = await (supabase as any)\n    .from('trip_days')\n    .delete()\n    .eq('id', tripDay.id);\n\n  if (error) {\n    throw new Error(`Failed to delete trip day: ${error.message}`);\n  }\n\n}\n\nexport async function addActivity(tripId: string, dayIndex: number, activity: ActivityInput): Promise<Activity> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) {\n    throw new Error('User not authenticated');\n  }\n\n  const { data: tripDay, error: findError } = await (supabase as any)\n    .from('trip_days')\n    .select('id')\n    .eq('trip_id', tripId)\n    .eq('day_index', dayIndex)\n    .single();\n\n  if (findError || !tripDay) {\n    throw new Error('Trip day not found');\n  }\n\n  const startTime = parseFlexibleTime(activity.time);\n\n  const { data, error } = await (supabase as any)\n    .from('events')\n    .insert({\n      trip_day_id: tripDay.id,\n      title: activity.title,\n      start_time: startTime,\n      category: activity.category || 'other',\n      location_name: activity.location ?? null,\n      cost_amount: activity.cost ?? null,\n      cost_currency: activity.cost ? 'USD' : null,\n      notes: activity.description ?? null,\n      order_index: 0\n    })\n    .select()\n    .single();\n\n  if (error) {\n    throw new Error(`Failed to add activity: ${error.message}`);\n  }\n\n  if (!data) {\n    throw new Error('No data returned when creating activity');\n  }\n\n  return dbEventToActivity(data as DbEvent);\n}\n\nexport async function updateActivity(\n  tripId: string,\n  dayIndex: number,\n  activityId: string,\n  updates: ActivityInput\n): Promise<Activity> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) {\n    throw new Error('User not authenticated');\n  }\n\n  const { data: tripDay, error: findError } = await (supabase as any)\n    .from('trip_days')\n    .select('id')\n    .eq('trip_id', tripId)\n    .eq('day_index', dayIndex)\n    .single();\n\n  if (findError || !tripDay) {\n    throw new Error('Trip day not found');\n  }\n\n  const startTime = parseFlexibleTime(updates.time);\n\n  const { data, error } = await (supabase as any)\n    .from('events')\n    .update({\n      title: updates.title,\n      start_time: startTime,\n      category: updates.category || 'other',\n      location_name: updates.location ?? null,\n      cost_amount: updates.cost ?? null,\n      notes: updates.description ?? null\n    })\n    .eq('id', activityId)\n    .eq('trip_day_id', tripDay.id)\n    .select()\n    .single();\n\n  if (error) {\n    throw new Error(`Failed to update activity: ${error.message}`);\n  }\n\n  if (!data) {\n    throw new Error('No data returned when updating activity');\n  }\n\n  return dbEventToActivity(data as DbEvent);\n}\n\nexport async function deleteActivity(tripId: string, dayIndex: number, activityId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) {\n    throw new Error('User not authenticated');\n  }\n\n  const { data: tripDay, error: findError } = await (supabase as any)\n    .from('trip_days')\n    .select('id')\n    .eq('trip_id', tripId)\n    .eq('day_index', dayIndex)\n    .single();\n\n  if (findError || !tripDay) {\n    throw new Error('Trip day not found');\n  }\n\n  const { error } = await (supabase as any)\n    .from('events')\n    .delete()\n    .eq('id', activityId)\n    .eq('trip_day_id', tripDay.id);\n\n  if (error) {\n    throw new Error(`Failed to delete activity: ${error.message}`);\n  }\n}\n\nexport async function deleteTrip(tripId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) {\n    throw new Error('User not authenticated');\n  }\n\n  // Delete the trip (cascade should handle related records)\n  const { error } = await (supabase as any)\n    .from('trips')\n    .delete()\n    .eq('id', tripId)\n    .eq('user_id', user.id); // Ensure user can only delete their own trips\n\n  if (error) {\n    throw new Error(`Failed to delete trip: ${error.message}`);\n  }\n\n}\n\nexport async function addPackingItem(tripId: string, item: PackingItem): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('packing_items')\n    .insert({\n      trip_id: tripId,\n      name: item.name,\n      category: item.category,\n      is_checked: item.packed,\n      priority: item.essential ? 1 : 2\n    });\n\n  if (error) throw error;\n}\n\nexport async function savePackingList(tripId: string, packingList: PackingItem[]): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  // Delete all existing packing items for this trip\n  await (supabase as any)\n    .from('packing_items')\n    .delete()\n    .eq('trip_id', tripId);\n\n  // Insert new packing items\n  if (packingList.length > 0) {\n    const itemsToInsert = packingList.map(item => ({\n      trip_id: tripId,\n      name: item.name,\n      category: item.category,\n      is_checked: item.packed,\n      priority: item.essential ? 1 : 2\n    }));\n\n    const { error } = await (supabase as any)\n      .from('packing_items')\n      .insert(itemsToInsert);\n\n    if (error) throw error;\n  }\n}\n\nexport async function addExpense(tripId: string, expense: Expense): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n\n  const { error } = await (supabase as any)\n    .from('expenses')\n    .insert({\n      trip_id: tripId,\n      label: expense.title,\n      amount: expense.amount,\n      currency: expense.currency,\n      category: expense.category\n    });\n\n  if (error) {\n    throw new Error(`Failed to add expense: ${error.message || JSON.stringify(error)}`);\n  }\n}\n\nexport async function uploadMedia(\n  tripId: string,\n  dayIndex: number,\n  file: File,\n  mediaType: 'image' | 'video',\n  title?: string,\n  description?: string\n): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { data: tripDay, error: findError } = await (supabase as any)\n    .from('trip_days')\n    .select('id')\n    .eq('trip_id', tripId)\n    .eq('day_index', dayIndex)\n    .single();\n\n  if (findError || !tripDay) {\n    throw new Error('Trip day not found');\n  }\n\n  const fileExt = file.name.split('.').pop();\n  const fileName = `${tripId}/${tripDay.id}/${Date.now()}.${fileExt}`;\n  const storagePath = `media/${fileName}`;\n\n  const { error: uploadError } = await supabase.storage\n    .from('trip-media')\n    .upload(storagePath, file, { upsert: false });\n\n  if (uploadError) {\n    throw new Error(`Failed to upload file: ${uploadError.message}`);\n  }\n\n  const { data } = supabase.storage\n    .from('trip-media')\n    .getPublicUrl(storagePath);\n\n  const mediaUrl = data.publicUrl;\n  const { error: dbError } = await (supabase as any)\n    .from('media')\n    .insert({\n      trip_day_id: tripDay.id,\n      type: mediaType,\n      url: mediaUrl,\n      title: title || file.name,\n      description: description || ''\n    });\n  if (dbError) {\n    throw new Error(`Failed to save media record: ${dbError.message || JSON.stringify(dbError)}`);\n  }\n\n}\n\nexport async function deleteMedia(mediaId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { data: media, error: fetchError } = await (supabase as any)\n    .from('media')\n    .select('url')\n    .eq('id', mediaId)\n    .single();\n\n  if (fetchError || !media) {\n    throw new Error('Media not found');\n  }\n\n  const url = new URL(media.url);\n  const filePath = url.pathname.split('/storage/v1/object/public/trip-media/')[1];\n\n  const { error: storageError } = await supabase.storage\n    .from('trip-media')\n    .remove([filePath]);\n\n  if (storageError) {\n    // File deletion from storage failed, but continue with DB deletion\n  }\n\n  const { error: dbError } = await (supabase as any)\n    .from('media')\n    .delete()\n    .eq('id', mediaId);\n\n  if (dbError) {\n    throw new Error(`Failed to delete media: ${dbError.message}`);\n  }\n\n}\n\nexport async function getMediaForDay(tripId: string, dayIndex: number): Promise<any[]> {\n  const { data: tripDay, error: findError } = await (supabase as any)\n    .from('trip_days')\n    .select('id')\n    .eq('trip_id', tripId)\n    .eq('day_index', dayIndex)\n    .single();\n\n  if (findError || !tripDay) {\n    return [];\n  }\n\n  const { data: media, error } = await (supabase as any)\n    .from('media')\n    .select('*')\n    .eq('trip_day_id', tripDay.id)\n    .order('created_at', { ascending: false });\n\n  if (error) {\n    return [];\n  }\n\n  return media || [];\n}\n\nexport async function updateTrip(tripId: string, updates: Partial<Trip>): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const updateData: any = {};\n  if (updates.title !== undefined) updateData.title = updates.title;\n  if (updates.description !== undefined) updateData.description = updates.description;\n  if (updates.budget !== undefined) updateData.budget = updates.budget;\n  if (updates.currency !== undefined) updateData.currency = updates.currency;\n  if (updates.start_date !== undefined) updateData.start_date = updates.start_date;\n  if (updates.end_date !== undefined) updateData.end_date = updates.end_date;\n\n  const { error } = await (supabase as any)\n    .from('trips')\n    .update(updateData)\n    .eq('id', tripId)\n    .eq('user_id', user.id);\n\n  if (error) {\n    throw new Error(`Failed to update trip: ${error.message}`);\n  }\n}\n\nexport async function deleteExpense(expenseId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('expenses')\n    .delete()\n    .eq('id', expenseId);\n\n  if (error) {\n    throw new Error(`Failed to delete expense: ${error.message}`);\n  }\n\n}\n\nexport async function uploadTripCoverImage(tripId: string, file: File): Promise<string> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const fileExt = file.name.split('.').pop();\n  const fileName = `${tripId}/cover-${Date.now()}.${fileExt}`;\n  const storagePath = `trip-covers/${fileName}`;\n\n  const { error: uploadError } = await supabase.storage\n    .from('trip-media')\n    .upload(storagePath, file, { upsert: true });\n\n  if (uploadError) {\n    throw new Error(`Failed to upload cover image: ${uploadError.message}`);\n  }\n\n  const { data } = supabase.storage\n    .from('trip-media')\n    .getPublicUrl(storagePath);\n\n  const coverImageUrl = data.publicUrl;\n\n  const { error: dbError } = await (supabase as any)\n    .from('trips')\n    .update({ cover_image: coverImageUrl })\n    .eq('id', tripId);\n\n  if (dbError) {\n    throw new Error(`Failed to save cover image: ${dbError.message}`);\n  }\n\n  return coverImageUrl;\n}\n"],"names":[],"mappings":"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"}}]
}