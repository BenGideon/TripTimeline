{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/lib/friend-service.ts"],"sourcesContent":["import { createClient } from './auth';\nimport { UserProfile, Friend, TripCollaborator, FriendRequest, TripInvitation } from '@/types/friends';\n\nconst supabase = createClient();\n\n// User Profile Functions\nexport async function getCurrentUserProfile(): Promise<UserProfile | null> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return null;\n\n  const { data, error } = await (supabase as any)\n    .from('user_profiles')\n    .select('*')\n    .eq('id', user.id)\n    .single();\n\n  if (error) {\n    return null;\n  }\n\n  return data;\n}\n\nexport async function updateUserProfile(updates: Partial<UserProfile>): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('user_profiles')\n    .update(updates)\n    .eq('id', user.id);\n\n  if (error) {\n    throw new Error(`Failed to update profile: ${error.message}`);\n  }\n}\n\nexport async function searchUsers(query: string): Promise<UserProfile[]> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return [];\n\n  const { data, error } = await (supabase as any)\n    .from('user_profiles')\n    .select('*')\n    .or(`full_name.ilike.%${query}%,email.ilike.%${query}%,username.ilike.%${query}%`)\n    .neq('id', user.id)\n    .limit(10);\n\n  if (error) {\n    return [];\n  }\n\n  return data || [];\n}\n\n// Friend Functions\nexport async function sendFriendRequest(friendId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('friends')\n    .insert({\n      user_id: user.id,\n      friend_id: friendId,\n      status: 'pending'\n    });\n\n  if (error) {\n    if ((error as any).code === '23505' || error.message?.includes('friends_user_id_friend_id_key')) {\n      const duplicateError = new Error('FRIEND_REQUEST_ALREADY_EXISTS');\n      (duplicateError as any).code = 'FRIEND_REQUEST_ALREADY_EXISTS';\n      throw duplicateError;\n    }\n    throw new Error(`Failed to send friend request: ${error.message}`);\n  }\n}\n\nexport async function acceptFriendRequest(requestId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  // Update the original request to accepted\n  const { error: updateError } = await (supabase as any)\n    .from('friends')\n    .update({ status: 'accepted' })\n    .eq('id', requestId)\n    .eq('friend_id', user.id);\n\n  if (updateError) {\n    throw new Error(`Failed to accept friend request: ${updateError.message}`);\n  }\n\n  // Create the reciprocal friendship\n  const { data: originalRequest } = await (supabase as any)\n    .from('friends')\n    .select('user_id, friend_id')\n    .eq('id', requestId)\n    .single();\n\n  if (originalRequest) {\n    const { error: reciprocalError } = await (supabase as any)\n      .from('friends')\n      .insert({\n        user_id: user.id,\n        friend_id: originalRequest.user_id,\n        status: 'accepted'\n      });\n\n    if (reciprocalError && !reciprocalError.message.includes('duplicate')) {\n      // Could not create reciprocal friendship\n    }\n  }\n}\n\nexport async function declineFriendRequest(requestId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('friends')\n    .delete()\n    .eq('id', requestId)\n    .eq('friend_id', user.id);\n\n  if (error) {\n    throw new Error(`Failed to decline friend request: ${error.message}`);\n  }\n}\n\nexport async function removeFriend(friendId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  // Remove both directions of the friendship\n  const { error: error1 } = await (supabase as any)\n    .from('friends')\n    .delete()\n    .eq('user_id', user.id)\n    .eq('friend_id', friendId);\n\n  const { error: error2 } = await (supabase as any)\n    .from('friends')\n    .delete()\n    .eq('user_id', friendId)\n    .eq('friend_id', user.id);\n\n  if (error1 || error2) {\n    throw new Error('Failed to remove friend');\n  }\n}\n\nexport async function getFriends(): Promise<Friend[]> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return [];\n\n  try {\n    const { data, error } = await (supabase as any)\n      .from('friends')\n      .select(`\n        *,\n        friend_profile:user_profiles!friends_friend_id_fkey(*)\n      `)\n      .eq('user_id', user.id)\n      .eq('status', 'accepted');\n\n    if (error) {\n      // Check if it's a missing table error\n      if (error.message?.includes('relation \"public.friends\" does not exist') || \n          error.message?.includes('relation \"public.user_profiles\" does not exist')) {\n        return [];\n      }\n      return [];\n    }\n\n    return data || [];\n  } catch (error) {\n    return [];\n  }\n}\n\nexport async function getFriendRequests(): Promise<FriendRequest[]> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return [];\n\n  try {\n    const { data, error } = await (supabase as any)\n      .from('friends')\n      .select(`\n        id,\n        status,\n        created_at,\n        from_user:user_profiles!friends_user_id_fkey(*),\n        to_user:user_profiles!friends_friend_id_fkey(*)\n      `)\n      .eq('friend_id', user.id)\n      .eq('status', 'pending');\n\n    if (error) {\n      // Check if it's a missing table error\n      if (error.message?.includes('relation \"public.friends\" does not exist')) {\n        throw new Error('FRIENDS_TABLE_MISSING');\n      }\n      return [];\n    }\n\n    return data || [];\n  } catch (error) {\n    if ((error as Error).message === 'FRIENDS_TABLE_MISSING') {\n      throw error; // Re-throw so NotificationBell can detect it\n    }\n    return [];\n  }\n}\n\n// Trip Collaboration Functions\nexport async function inviteToTrip(tripId: string, userId: string, role: 'editor' | 'viewer' = 'viewer'): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('trip_collaborators')\n    .insert({\n      trip_id: tripId,\n      user_id: userId,\n      role: role,\n      invited_by: user.id,\n      status: 'pending'\n    });\n\n  if (error) {\n    if ((error as any).code === '23505' || error.message?.includes('trip_collaborators_trip_id_user_id_key')) {\n      const duplicateError = new Error('TRIP_COLLABORATOR_ALREADY_INVITED');\n      (duplicateError as any).code = 'TRIP_COLLABORATOR_ALREADY_INVITED';\n      throw duplicateError;\n    }\n    throw new Error(`Failed to invite user to trip: ${error.message}`);\n  }\n}\n\nexport async function acceptTripInvitation(invitationId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { data, error } = await (supabase as any)\n    .from('trip_collaborators')\n    .update({ status: 'accepted' })\n    .eq('id', invitationId)\n    .eq('user_id', user.id);\n\n  if (error) {\n    throw new Error(`Failed to accept trip invitation: ${error.message}`);\n  }\n}\n\nexport async function declineTripInvitation(invitationId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('trip_collaborators')\n    .update({ status: 'declined' })\n    .eq('id', invitationId)\n    .eq('user_id', user.id);\n\n  if (error) {\n    throw new Error(`Failed to decline trip invitation: ${error.message}`);\n  }\n}\n\nexport async function removeFromTrip(tripId: string, userId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('trip_collaborators')\n    .delete()\n    .eq('trip_id', tripId)\n    .eq('user_id', userId);\n\n  if (error) {\n    throw new Error(`Failed to remove user from trip: ${error.message}`);\n  }\n}\n\nexport async function getTripCollaborators(tripId: string): Promise<TripCollaborator[]> {\n  const { data, error } = await (supabase as any)\n    .from('trip_collaborators')\n    .select(`\n      *,\n      user_profile:user_profiles!trip_collaborators_user_id_fkey(*),\n      inviter_profile:user_profiles!trip_collaborators_invited_by_fkey(*)\n    `)\n    .eq('trip_id', tripId)\n    .eq('status', 'accepted');\n\n  if (error) {\n    return [];\n  }\n\n  return data || [];\n}\n\nexport async function getTripInvitations(): Promise<TripInvitation[]> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return [];\n\n  try {\n    const { data, error } = await (supabase as any)\n      .from('trip_collaborators')\n      .select(`\n        id,\n        role,\n        status,\n        created_at,\n        trip:trips(id, title, destination, start_date, end_date)\n      `)\n      .eq('user_id', user.id)\n      .eq('status', 'pending');\n\n    if (error) {\n      // Check if it's a missing table error\n      if (error.message?.includes('relation \"public.trip_collaborators\" does not exist') || \n          error.message?.includes('relation \"public.user_profiles\" does not exist')) {\n        throw new Error('FRIENDS_TABLE_MISSING');\n      }\n      return [];\n    }\n\n    return data || [];\n  } catch (error) {\n    if ((error as Error).message === 'FRIENDS_TABLE_MISSING') {\n      throw error; // Re-throw so NotificationBell can detect it\n    }\n    return [];\n  }\n}\n\nexport async function updateCollaboratorRole(tripId: string, userId: string, role: 'editor' | 'viewer'): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('trip_collaborators')\n    .update({ role })\n    .eq('trip_id', tripId)\n    .eq('user_id', userId);\n\n  if (error) {\n    throw new Error(`Failed to update collaborator role: ${error.message}`);\n  }\n}\n\n// Check if user can edit trip\nexport async function canEditTrip(tripId: string): Promise<boolean> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return false;\n\n  // Check if user is the owner\n  const { data: trip } = await (supabase as any)\n    .from('trips')\n    .select('user_id')\n    .eq('id', tripId)\n    .single();\n\n  if (trip && trip.user_id === user.id) return true;\n\n  // Check if user is a collaborator with editor role\n  const { data: collaborator } = await (supabase as any)\n    .from('trip_collaborators')\n    .select('role')\n    .eq('trip_id', tripId)\n    .eq('user_id', user.id)\n    .eq('status', 'accepted')\n    .single();\n\n  return collaborator && (collaborator.role === 'editor' || collaborator.role === 'owner');\n}\n"],"names":[],"mappings":"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"}}]
}