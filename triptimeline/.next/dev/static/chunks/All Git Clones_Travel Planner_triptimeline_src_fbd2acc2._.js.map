{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/components/CreateTripModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\n\ninterface Trip {\n  id: string;\n  title: string;\n  destination: string;\n  start_date: string;\n  end_date: string;\n  description?: string;\n  created_at: string;\n}\n\ninterface CreateTripModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onTripCreated: (trip: Trip) => void;\n}\n\nexport default function CreateTripModal({ isOpen, onClose, onTripCreated }: CreateTripModalProps) {\n  const [formData, setFormData] = useState({\n    title: '',\n    destination: '',\n    start_date: '',\n    end_date: '',\n    description: ''\n  });\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      const { createTrip } = await import('@/lib/trip-service');\n      const tripId = await createTrip({\n        title: formData.title,\n        destination: formData.destination,\n        start_date: formData.start_date,\n        end_date: formData.end_date,\n        description: formData.description || '',\n        currency: 'USD',\n        travelers: 1\n      });\n\n      // Create the trip object to return to the dashboard\n      const newTrip: Trip = {\n        id: tripId,\n        ...formData,\n        created_at: new Date().toISOString()\n      };\n      \n      onTripCreated(newTrip);\n      setFormData({\n        title: '',\n        destination: '',\n        start_date: '',\n        end_date: '',\n        description: ''\n      });\n    } catch (error) {\n      console.error('Error creating trip:', error);\n      // Show more detailed error message\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      alert(`Failed to create trip: ${errorMessage}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\n      <div className=\"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">Create New Trip</h2>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\n          >\n            <svg className=\"w-5 h-5 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          <div>\n            <label htmlFor=\"title\" className=\"block text-sm font-semibold text-gray-700 mb-2\">\n              Trip Title *\n            </label>\n            <input\n              type=\"text\"\n              id=\"title\"\n              name=\"title\"\n              value={formData.title}\n              onChange={handleChange}\n              required\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200\"\n              placeholder=\"e.g., Summer in Japan\"\n            />\n          </div>\n\n          <div>\n            <label htmlFor=\"destination\" className=\"block text-sm font-semibold text-gray-700 mb-2\">\n              Destination *\n            </label>\n            <input\n              type=\"text\"\n              id=\"destination\"\n              name=\"destination\"\n              value={formData.destination}\n              onChange={handleChange}\n              required\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200\"\n              placeholder=\"e.g., Tokyo, Japan\"\n            />\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label htmlFor=\"start_date\" className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                Start Date *\n              </label>\n              <input\n                type=\"date\"\n                id=\"start_date\"\n                name=\"start_date\"\n                value={formData.start_date}\n                onChange={handleChange}\n                required\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200\"\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"end_date\" className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                End Date *\n              </label>\n              <input\n                type=\"date\"\n                id=\"end_date\"\n                name=\"end_date\"\n                value={formData.end_date}\n                onChange={handleChange}\n                required\n                min={formData.start_date}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <label htmlFor=\"description\" className=\"block text-sm font-semibold text-gray-700 mb-2\">\n              Description\n            </label>\n            <textarea\n              id=\"description\"\n              name=\"description\"\n              value={formData.description}\n              onChange={handleChange}\n              rows={3}\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 resize-none\"\n              placeholder=\"Tell us about your trip...\"\n            />\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex space-x-3 pt-4\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-200\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n            >\n              {loading ? (\n                <div className=\"flex items-center justify-center\">\n                  <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                  Creating...\n                </div>\n              ) : (\n                'Create Trip'\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 384, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/lib/friend-service.ts"],"sourcesContent":["import { createClient } from './auth';\nimport { UserProfile, Friend, TripCollaborator, FriendRequest, TripInvitation } from '@/types/friends';\n\nconst supabase = createClient();\n\n// User Profile Functions\nexport async function getCurrentUserProfile(): Promise<UserProfile | null> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return null;\n\n  const { data, error } = await (supabase as any)\n    .from('user_profiles')\n    .select('*')\n    .eq('id', user.id)\n    .single();\n\n  if (error) {\n    return null;\n  }\n\n  return data;\n}\n\nexport async function updateUserProfile(updates: Partial<UserProfile>): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('user_profiles')\n    .update(updates)\n    .eq('id', user.id);\n\n  if (error) {\n    throw new Error(`Failed to update profile: ${error.message}`);\n  }\n}\n\nexport async function searchUsers(query: string): Promise<UserProfile[]> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return [];\n\n  const { data, error } = await (supabase as any)\n    .from('user_profiles')\n    .select('*')\n    .or(`full_name.ilike.%${query}%,email.ilike.%${query}%,username.ilike.%${query}%`)\n    .neq('id', user.id)\n    .limit(10);\n\n  if (error) {\n    return [];\n  }\n\n  return data || [];\n}\n\n// Friend Functions\nexport async function sendFriendRequest(friendId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('friends')\n    .insert({\n      user_id: user.id,\n      friend_id: friendId,\n      status: 'pending'\n    });\n\n  if (error) {\n    if ((error as any).code === '23505' || error.message?.includes('friends_user_id_friend_id_key')) {\n      const duplicateError = new Error('FRIEND_REQUEST_ALREADY_EXISTS');\n      (duplicateError as any).code = 'FRIEND_REQUEST_ALREADY_EXISTS';\n      throw duplicateError;\n    }\n    throw new Error(`Failed to send friend request: ${error.message}`);\n  }\n}\n\nexport async function acceptFriendRequest(requestId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  // Update the original request to accepted\n  const { error: updateError } = await (supabase as any)\n    .from('friends')\n    .update({ status: 'accepted' })\n    .eq('id', requestId)\n    .eq('friend_id', user.id);\n\n  if (updateError) {\n    throw new Error(`Failed to accept friend request: ${updateError.message}`);\n  }\n\n  // Create the reciprocal friendship\n  const { data: originalRequest } = await (supabase as any)\n    .from('friends')\n    .select('user_id, friend_id')\n    .eq('id', requestId)\n    .single();\n\n  if (originalRequest) {\n    const { error: reciprocalError } = await (supabase as any)\n      .from('friends')\n      .insert({\n        user_id: user.id,\n        friend_id: originalRequest.user_id,\n        status: 'accepted'\n      });\n\n    if (reciprocalError && !reciprocalError.message.includes('duplicate')) {\n      // Could not create reciprocal friendship\n    }\n  }\n}\n\nexport async function declineFriendRequest(requestId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('friends')\n    .delete()\n    .eq('id', requestId)\n    .eq('friend_id', user.id);\n\n  if (error) {\n    throw new Error(`Failed to decline friend request: ${error.message}`);\n  }\n}\n\nexport async function removeFriend(friendId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  // Remove both directions of the friendship\n  const { error: error1 } = await (supabase as any)\n    .from('friends')\n    .delete()\n    .eq('user_id', user.id)\n    .eq('friend_id', friendId);\n\n  const { error: error2 } = await (supabase as any)\n    .from('friends')\n    .delete()\n    .eq('user_id', friendId)\n    .eq('friend_id', user.id);\n\n  if (error1 || error2) {\n    throw new Error('Failed to remove friend');\n  }\n}\n\nexport async function getFriends(): Promise<Friend[]> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return [];\n\n  try {\n    const { data, error } = await (supabase as any)\n      .from('friends')\n      .select(`\n        *,\n        friend_profile:user_profiles!friends_friend_id_fkey(*)\n      `)\n      .eq('user_id', user.id)\n      .eq('status', 'accepted');\n\n    if (error) {\n      // Check if it's a missing table error\n      if (error.message?.includes('relation \"public.friends\" does not exist') || \n          error.message?.includes('relation \"public.user_profiles\" does not exist')) {\n        return [];\n      }\n      return [];\n    }\n\n    return data || [];\n  } catch (error) {\n    return [];\n  }\n}\n\nexport async function getFriendRequests(): Promise<FriendRequest[]> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return [];\n\n  try {\n    const { data, error } = await (supabase as any)\n      .from('friends')\n      .select(`\n        id,\n        status,\n        created_at,\n        from_user:user_profiles!friends_user_id_fkey(*),\n        to_user:user_profiles!friends_friend_id_fkey(*)\n      `)\n      .eq('friend_id', user.id)\n      .eq('status', 'pending');\n\n    if (error) {\n      // Check if it's a missing table error\n      if (error.message?.includes('relation \"public.friends\" does not exist')) {\n        throw new Error('FRIENDS_TABLE_MISSING');\n      }\n      return [];\n    }\n\n    return data || [];\n  } catch (error) {\n    if ((error as Error).message === 'FRIENDS_TABLE_MISSING') {\n      throw error; // Re-throw so NotificationBell can detect it\n    }\n    return [];\n  }\n}\n\n// Trip Collaboration Functions\nexport async function inviteToTrip(tripId: string, userId: string, role: 'editor' | 'viewer' = 'viewer'): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('trip_collaborators')\n    .insert({\n      trip_id: tripId,\n      user_id: userId,\n      role: role,\n      invited_by: user.id,\n      status: 'pending'\n    });\n\n  if (error) {\n    if ((error as any).code === '23505' || error.message?.includes('trip_collaborators_trip_id_user_id_key')) {\n      const duplicateError = new Error('TRIP_COLLABORATOR_ALREADY_INVITED');\n      (duplicateError as any).code = 'TRIP_COLLABORATOR_ALREADY_INVITED';\n      throw duplicateError;\n    }\n    throw new Error(`Failed to invite user to trip: ${error.message}`);\n  }\n}\n\nexport async function acceptTripInvitation(invitationId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { data, error } = await (supabase as any)\n    .from('trip_collaborators')\n    .update({ status: 'accepted' })\n    .eq('id', invitationId)\n    .eq('user_id', user.id);\n\n  if (error) {\n    throw new Error(`Failed to accept trip invitation: ${error.message}`);\n  }\n}\n\nexport async function declineTripInvitation(invitationId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('trip_collaborators')\n    .update({ status: 'declined' })\n    .eq('id', invitationId)\n    .eq('user_id', user.id);\n\n  if (error) {\n    throw new Error(`Failed to decline trip invitation: ${error.message}`);\n  }\n}\n\nexport async function removeFromTrip(tripId: string, userId: string): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('trip_collaborators')\n    .delete()\n    .eq('trip_id', tripId)\n    .eq('user_id', userId);\n\n  if (error) {\n    throw new Error(`Failed to remove user from trip: ${error.message}`);\n  }\n}\n\nexport async function getTripCollaborators(tripId: string): Promise<TripCollaborator[]> {\n  const { data, error } = await (supabase as any)\n    .from('trip_collaborators')\n    .select(`\n      *,\n      user_profile:user_profiles!trip_collaborators_user_id_fkey(*),\n      inviter_profile:user_profiles!trip_collaborators_invited_by_fkey(*)\n    `)\n    .eq('trip_id', tripId)\n    .eq('status', 'accepted');\n\n  if (error) {\n    return [];\n  }\n\n  return data || [];\n}\n\nexport async function getTripInvitations(): Promise<TripInvitation[]> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return [];\n\n  try {\n    const { data, error } = await (supabase as any)\n      .from('trip_collaborators')\n      .select(`\n        id,\n        role,\n        status,\n        created_at,\n        trip:trips(id, title, destination, start_date, end_date)\n      `)\n      .eq('user_id', user.id)\n      .eq('status', 'pending');\n\n    if (error) {\n      // Check if it's a missing table error\n      if (error.message?.includes('relation \"public.trip_collaborators\" does not exist') || \n          error.message?.includes('relation \"public.user_profiles\" does not exist')) {\n        throw new Error('FRIENDS_TABLE_MISSING');\n      }\n      return [];\n    }\n\n    return data || [];\n  } catch (error) {\n    if ((error as Error).message === 'FRIENDS_TABLE_MISSING') {\n      throw error; // Re-throw so NotificationBell can detect it\n    }\n    return [];\n  }\n}\n\nexport async function updateCollaboratorRole(tripId: string, userId: string, role: 'editor' | 'viewer'): Promise<void> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) throw new Error('User not authenticated');\n\n  const { error } = await (supabase as any)\n    .from('trip_collaborators')\n    .update({ role })\n    .eq('trip_id', tripId)\n    .eq('user_id', userId);\n\n  if (error) {\n    throw new Error(`Failed to update collaborator role: ${error.message}`);\n  }\n}\n\n// Check if user can edit trip\nexport async function canEditTrip(tripId: string): Promise<boolean> {\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) return false;\n\n  // Check if user is the owner\n  const { data: trip } = await (supabase as any)\n    .from('trips')\n    .select('user_id')\n    .eq('id', tripId)\n    .single();\n\n  if (trip && trip.user_id === user.id) return true;\n\n  // Check if user is a collaborator with editor role\n  const { data: collaborator } = await (supabase as any)\n    .from('trip_collaborators')\n    .select('role')\n    .eq('trip_id', tripId)\n    .eq('user_id', user.id)\n    .eq('status', 'accepted')\n    .single();\n\n  return collaborator && (collaborator.role === 'editor' || collaborator.role === 'owner');\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 664, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/components/TripCollaborators.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { \n  getTripCollaborators, \n  getFriends, \n  inviteToTrip, \n  removeFromTrip, \n  updateCollaboratorRole \n} from '@/lib/friend-service';\nimport { TripCollaborator, Friend } from '@/types/friends';\n\ninterface TripCollaboratorsProps {\n  tripId: string;\n  isOwner: boolean;\n  onClose: () => void;\n}\n\nexport default function TripCollaborators({ tripId, isOwner, onClose }: TripCollaboratorsProps) {\n  const [collaborators, setCollaborators] = useState<TripCollaborator[]>([]);\n  const [friends, setFriends] = useState<Friend[]>([]);\n  const [showInviteModal, setShowInviteModal] = useState(false);\n  const [selectedFriend, setSelectedFriend] = useState<string>('');\n  const [selectedRole, setSelectedRole] = useState<'editor' | 'viewer'>('viewer');\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    loadData();\n  }, [tripId]);\n\n  const loadData = async () => {\n    try {\n      const [collaboratorsData, friendsData] = await Promise.all([\n        getTripCollaborators(tripId),\n        getFriends()\n      ]);\n      setCollaborators(collaboratorsData);\n      \n      // Filter out friends who are already collaborators\n      const collaboratorIds = collaboratorsData.map(c => c.user_id);\n      const availableFriends = friendsData.filter(f => !collaboratorIds.includes(f.friend_id));\n      setFriends(availableFriends);\n    } catch (error) {\n      console.error('Error loading collaborators:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleInviteFriend = async () => {\n    if (!selectedFriend) return;\n\n    try {\n      await inviteToTrip(tripId, selectedFriend, selectedRole);\n      setShowInviteModal(false);\n      setSelectedFriend('');\n      setSelectedRole('viewer');\n      await loadData();\n      alert('Invitation sent!');\n    } catch (error) {\n      console.error('Error inviting friend:', error);\n      if ((error as any)?.code === 'TRIP_COLLABORATOR_ALREADY_INVITED') {\n        alert('This user has already been invited to the trip.');\n      } else {\n        alert('Failed to send invitation');\n      }\n    }\n  };\n\n  const handleRemoveCollaborator = async (userId: string) => {\n    if (window.confirm('Are you sure you want to remove this collaborator?')) {\n      try {\n        await removeFromTrip(tripId, userId);\n        await loadData();\n      } catch (error) {\n        console.error('Error removing collaborator:', error);\n        alert('Failed to remove collaborator');\n      }\n    }\n  };\n\n  const handleUpdateRole = async (userId: string, newRole: 'editor' | 'viewer') => {\n    try {\n      await updateCollaboratorRole(tripId, userId, newRole);\n      setCollaborators(collaborators.map(c => \n        c.user_id === userId ? { ...c, role: newRole } : c\n      ));\n    } catch (error) {\n      console.error('Error updating role:', error);\n      alert('Failed to update role');\n    }\n  };\n\n  const getRoleColor = (role: string) => {\n    switch (role) {\n      case 'owner': return 'bg-purple-100 text-purple-800';\n      case 'editor': return 'bg-blue-100 text-blue-800';\n      case 'viewer': return 'bg-gray-100 text-gray-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n        <div className=\"bg-white rounded-2xl p-6 w-full max-w-2xl mx-4\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4\"></div>\n            <p className=\"text-gray-600\">Loading collaborators...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-2xl p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">Trip Collaborators</h2>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        {/* Invite Button */}\n        {isOwner && friends.length > 0 && (\n          <div className=\"mb-6\">\n            <button\n              onClick={() => setShowInviteModal(true)}\n              className=\"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:from-purple-700 hover:to-blue-700 transition-all\"\n            >\n              + Invite Friends\n            </button>\n          </div>\n        )}\n\n        {/* Collaborators List */}\n        <div className=\"space-y-4\">\n          {collaborators.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z\" />\n                </svg>\n              </div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No collaborators yet</h3>\n              <p className=\"text-gray-600\">Invite friends to collaborate on this trip!</p>\n            </div>\n          ) : (\n            collaborators.map((collaborator) => (\n              <div key={collaborator.id} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-xl\">\n                <div className=\"flex items-center space-x-4\">\n                  <div className=\"w-10 h-10 bg-gradient-to-br from-purple-400 to-blue-400 rounded-full flex items-center justify-center\">\n                    <span className=\"text-white font-semibold text-sm\">\n                      {collaborator.user_profile?.full_name?.charAt(0) || \n                       collaborator.user_profile?.email?.charAt(0) || '?'}\n                    </span>\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-gray-900\">\n                      {collaborator.user_profile?.full_name || 'Unknown User'}\n                    </h4>\n                    <p className=\"text-sm text-gray-600\">{collaborator.user_profile?.email}</p>\n                  </div>\n                </div>\n                \n                <div className=\"flex items-center space-x-3\">\n                  {/* Role Badge/Selector */}\n                  {isOwner && collaborator.role !== 'owner' ? (\n                    <select\n                      value={collaborator.role}\n                      onChange={(e) => handleUpdateRole(collaborator.user_id, e.target.value as 'editor' | 'viewer')}\n                      className=\"text-sm px-3 py-1 rounded-full border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                    >\n                      <option value=\"viewer\">Viewer</option>\n                      <option value=\"editor\">Editor</option>\n                    </select>\n                  ) : (\n                    <span className={`px-3 py-1 rounded-full text-sm font-medium ${getRoleColor(collaborator.role)}`}>\n                      {collaborator.role.charAt(0).toUpperCase() + collaborator.role.slice(1)}\n                    </span>\n                  )}\n                  \n                  {/* Remove Button */}\n                  {isOwner && collaborator.role !== 'owner' && (\n                    <button\n                      onClick={() => handleRemoveCollaborator(collaborator.user_id)}\n                      className=\"text-red-500 hover:text-red-700 p-1 rounded transition-colors\"\n                      title=\"Remove collaborator\"\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                      </svg>\n                    </button>\n                  )}\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n\n        {/* Invite Modal */}\n        {showInviteModal && (\n          <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-60\">\n            <div className=\"bg-white rounded-xl p-6 w-full max-w-md mx-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Invite Friend</h3>\n              \n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Select Friend\n                  </label>\n                  <select\n                    value={selectedFriend}\n                    onChange={(e) => setSelectedFriend(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  >\n                    <option value=\"\">Choose a friend...</option>\n                    {friends.map((friend) => (\n                      <option key={friend.id} value={friend.friend_id}>\n                        {friend.friend_profile?.full_name || friend.friend_profile?.email}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Role\n                  </label>\n                  <select\n                    value={selectedRole}\n                    onChange={(e) => setSelectedRole(e.target.value as 'editor' | 'viewer')}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  >\n                    <option value=\"viewer\">Viewer - Can view the trip</option>\n                    <option value=\"editor\">Editor - Can view and edit the trip</option>\n                  </select>\n                </div>\n              </div>\n              \n              <div className=\"flex space-x-3 mt-6\">\n                <button\n                  onClick={() => setShowInviteModal(false)}\n                  className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleInviteFriend}\n                  disabled={!selectedFriend}\n                  className=\"flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Send Invite\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1224, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/components/DashboardHeader.tsx"],"sourcesContent":["'use client';\n\nimport { useAuth } from '@/components/AuthProvider';\nimport { useState } from 'react';\nimport { User } from '@supabase/supabase-js';\n\ninterface DashboardHeaderProps {\n  user: User;\n}\n\nexport default function DashboardHeader({ user }: DashboardHeaderProps) {\n  const { signOut } = useAuth();\n  const [showUserMenu, setShowUserMenu] = useState(false);\n\n  const handleSignOut = async () => {\n    await signOut();\n  };\n\n  const userInitials = user.user_metadata?.display_name\n    ? user.user_metadata.display_name.split(' ').map((n: string) => n[0]).join('').toUpperCase()\n    : user.email?.charAt(0).toUpperCase() || 'U';\n\n  return (\n    <header className=\"bg-white/80 backdrop-blur-sm border-b border-white/20 sticky top-0 z-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between items-center h-16\">\n          {/* Logo */}\n          <a href=\"/dashboard\" className=\"flex items-center hover:opacity-80 transition-opacity\">\n            <div className=\"flex-shrink-0\">\n              <h1 className=\"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent cursor-pointer\">\n                ✈️ TripTimeline\n              </h1>\n            </div>\n          </a>\n\n          {/* Navigation */}\n          <nav className=\"hidden md:flex space-x-8\">\n            <a\n              href=\"/dashboard\"\n              className=\"text-gray-900 hover:text-purple-600 px-3 py-2 rounded-md text-sm font-medium transition-colors\"\n            >\n              Dashboard\n            </a>\n          </nav>\n\n          {/* User Menu */}\n          <div className=\"relative\">\n            <button\n              onClick={() => setShowUserMenu(!showUserMenu)}\n              className=\"flex items-center space-x-3 text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 hover:bg-gray-100 p-1 transition-colors cursor-pointer\"\n            >\n              <div className=\"w-10 h-10 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex items-center justify-center text-white font-semibold\">\n                {userInitials}\n              </div>\n              <div className=\"hidden md:block text-left\">\n                <p className=\"text-sm font-medium text-gray-900\">\n                  {user.user_metadata?.display_name || 'User'}\n                </p>\n                <p className=\"text-xs text-gray-500\">{user.email}</p>\n              </div>\n              <svg\n                className={`w-4 h-4 text-gray-400 transition-transform ${\n                  showUserMenu ? 'rotate-180' : ''\n                }`}\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n              </svg>\n            </button>\n\n            {/* Dropdown Menu */}\n            {showUserMenu && (\n              <div className=\"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50\">\n                <div className=\"px-4 py-3 border-b border-gray-100\">\n                  <p className=\"text-sm font-medium text-gray-900\">\n                    {user.user_metadata?.display_name || 'User'}\n                  </p>\n                  <p className=\"text-xs text-gray-500 truncate\">{user.email}</p>\n                </div>\n                \n                <div className=\"py-1\">\n                  <a\n                    href=\"/dashboard/profile\"\n                    className=\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors\"\n                  >\n                    <svg className=\"w-4 h-4 mr-3 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                    </svg>\n                    Profile Settings\n                  </a>\n                </div>\n                \n                <div className=\"border-t border-gray-100 py-1\">\n                  <button\n                    onClick={handleSignOut}\n                    className=\"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors\"\n                  >\n                    <svg className=\"w-4 h-4 mr-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n                    </svg>\n                    Sign Out\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAUe,SAAS,gBAAgB,EAAE,IAAI,EAAwB;;IACpE,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,uMAAO;IAC3B,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gOAAQ,EAAC;IAEjD,MAAM,gBAAgB;QACpB,MAAM;IACR;IAEA,MAAM,eAAe,KAAK,aAAa,EAAE,eACrC,KAAK,aAAa,CAAC,YAAY,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,IAAc,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,WAAW,KACxF,KAAK,KAAK,EAAE,OAAO,GAAG,iBAAiB;IAE3C,qBACE,oPAAC;QAAO,WAAU;kBAChB,cAAA,oPAAC;YAAI,WAAU;sBACb,cAAA,oPAAC;gBAAI,WAAU;;kCAEb,oPAAC;wBAAE,MAAK;wBAAa,WAAU;kCAC7B,cAAA,oPAAC;4BAAI,WAAU;sCACb,cAAA,oPAAC;gCAAG,WAAU;0CAA+G;;;;;;;;;;;;;;;;kCAOjI,oPAAC;wBAAI,WAAU;kCACb,cAAA,oPAAC;4BACC,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;kCAMH,oPAAC;wBAAI,WAAU;;0CACb,oPAAC;gCACC,SAAS,IAAM,gBAAgB,CAAC;gCAChC,WAAU;;kDAEV,oPAAC;wCAAI,WAAU;kDACZ;;;;;;kDAEH,oPAAC;wCAAI,WAAU;;0DACb,oPAAC;gDAAE,WAAU;0DACV,KAAK,aAAa,EAAE,gBAAgB;;;;;;0DAEvC,oPAAC;gDAAE,WAAU;0DAAyB,KAAK,KAAK;;;;;;;;;;;;kDAElD,oPAAC;wCACC,WAAW,CAAC,2CAA2C,EACrD,eAAe,eAAe,IAC9B;wCACF,MAAK;wCACL,QAAO;wCACP,SAAQ;kDAER,cAAA,oPAAC;4CAAK,eAAc;4CAAQ,gBAAe;4CAAQ,aAAa;4CAAG,GAAE;;;;;;;;;;;;;;;;;4BAKxE,8BACC,oPAAC;gCAAI,WAAU;;kDACb,oPAAC;wCAAI,WAAU;;0DACb,oPAAC;gDAAE,WAAU;0DACV,KAAK,aAAa,EAAE,gBAAgB;;;;;;0DAEvC,oPAAC;gDAAE,WAAU;0DAAkC,KAAK,KAAK;;;;;;;;;;;;kDAG3D,oPAAC;wCAAI,WAAU;kDACb,cAAA,oPAAC;4CACC,MAAK;4CACL,WAAU;;8DAEV,oPAAC;oDAAI,WAAU;oDAA6B,MAAK;oDAAO,QAAO;oDAAe,SAAQ;8DACpF,cAAA,oPAAC;wDAAK,eAAc;wDAAQ,gBAAe;wDAAQ,aAAa;wDAAG,GAAE;;;;;;;;;;;gDACjE;;;;;;;;;;;;kDAKV,oPAAC;wCAAI,WAAU;kDACb,cAAA,oPAAC;4CACC,SAAS;4CACT,WAAU;;8DAEV,oPAAC;oDAAI,WAAU;oDAAe,MAAK;oDAAO,QAAO;oDAAe,SAAQ;8DACtE,cAAA,oPAAC;wDAAK,eAAc;wDAAQ,gBAAe;wDAAQ,aAAa;wDAAG,GAAE;;;;;;;;;;;gDACjE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAW1B;GAtGwB;;QACF,uMAAO;;;KADL"}},
    {"offset": {"line": 1504, "column": 0}, "map": {"version":3,"sources":["file:///Users/bengideondokiburra/All%20Git%20Clones/Travel%20Planner/triptimeline/src/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useAuth } from \"@/components/AuthProvider\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport { parseISO } from \"date-fns\";\nimport TripCard from \"@/components/TripCard\";\nimport CreateTripModal from \"@/components/CreateTripModal\";\nimport TripCollaborators from \"@/components/TripCollaborators\";\nimport NotificationBell from \"@/components/NotificationBell\";\nimport DashboardHeader from \"@/components/DashboardHeader\";\n\ninterface Trip {\n  id: string;\n  title: string;\n  destination: string;\n  start_date: string;\n  end_date: string;\n  description?: string;\n  created_at: string;\n}\n\nexport default function DashboardPage() {\n  const { user, loading, signOut } = useAuth();\n  const router = useRouter();\n  const [trips, setTrips] = useState<Trip[]>([]);\n  const [tripsLoading, setTripsLoading] = useState(true);\n  const [pendingInvitations, setPendingInvitations] = useState<any[]>([]);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showCollaborators, setShowCollaborators] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [selectedTripId, setSelectedTripId] = useState<string>(\"\");\n  const [editingTrip, setEditingTrip] = useState<Trip | null>(null);\n  const [editFormData, setEditFormData] = useState({\n    title: \"\",\n    description: \"\",\n    start_date: \"\",\n    end_date: \"\",\n  });\n\n  useEffect(() => {\n    if (!loading && !user) {\n      router.push(\"/auth/login\");\n    }\n  }, [user, loading, router]);\n\n  // Load trips and pending invitations from database\n  useEffect(() => {\n    async function loadData() {\n      if (user) {\n        setTripsLoading(true);\n        try {\n          const { getUserTrips } = await import(\"@/lib/trip-service\");\n          const { getTripInvitations } = await import(\"@/lib/friend-service\");\n\n          const [userTrips, invitations] = await Promise.all([\n            getUserTrips(),\n            getTripInvitations(),\n          ]);\n\n          setTrips(userTrips);\n          setPendingInvitations(invitations);\n        } catch (error) {\n          setTrips([]);\n          setPendingInvitations([]);\n        } finally {\n          setTripsLoading(false);\n        }\n      }\n    }\n\n    loadData();\n  }, [user]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading your dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return null;\n  }\n\n  const handleSignOut = async () => {\n    try {\n      await signOut();\n      router.push(\"/auth/login\");\n    } catch (error) {\n      // Error signing out\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50\">\n      <DashboardHeader user={user} />\n\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Welcome Section */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\n            Welcome back,{\" \"}\n            {user.user_metadata?.display_name || user.email?.split(\"@\")[0]}! ✈️\n          </h1>\n          <p className=\"text-gray-600\">Ready to plan your next adventure?</p>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n          <div className=\"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n            <div className=\"flex items-center\">\n              <div className=\"p-3 bg-blue-100 rounded-full\">\n                <svg\n                  className=\"w-6 h-6 text-blue-600\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"\n                  />\n                </svg>\n              </div>\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-gray-600\">Total Trips</p>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  {trips.length}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n            <div className=\"flex items-center\">\n              <div className=\"p-3 bg-purple-100 rounded-full\">\n                <svg\n                  className=\"w-6 h-6 text-purple-600\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                  />\n                </svg>\n              </div>\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-gray-600\">\n                  Upcoming Trips\n                </p>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  {\n                    trips.filter((t) => parseISO(t.start_date) > new Date())\n                      .length\n                  }\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Pending Invitations Section */}\n        {pendingInvitations.length > 0 && (\n          <div className=\"mb-8\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">\n              Trip Invitations\n            </h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {pendingInvitations.map((invitation) => (\n                <div\n                  key={invitation.id}\n                  className=\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6 shadow-lg border border-blue-200\"\n                >\n                  <div className=\"mb-4\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n                      {invitation.trip?.title || \"Trip\"}\n                    </h3>\n                    <p className=\"text-sm text-gray-600 mb-1\">\n                      📍 {invitation.trip?.destination || \"Destination\"}\n                    </p>\n                    <p className=\"text-sm text-gray-600\">\n                      📅{\" \"}\n                      {invitation.trip?.start_date\n                        ? parseISO(\n                            invitation.trip.start_date\n                          ).toLocaleDateString()\n                        : \"Date\"}\n                    </p>\n                    {invitation.inviter_profile && (\n                      <p className=\"text-xs text-gray-500 mt-2\">\n                        Invited by:{\" \"}\n                        {invitation.inviter_profile.full_name ||\n                          invitation.inviter_profile.email ||\n                          \"Someone\"}\n                      </p>\n                    )}\n                  </div>\n                  <div className=\"flex space-x-2\">\n                    <button\n                      type=\"button\"\n                      onClick={async () => {\n                        try {\n                          const { acceptTripInvitation, getTripInvitations } =\n                            await import(\"@/lib/friend-service\");\n                          const { getUserTrips } = await import(\n                            \"@/lib/trip-service\"\n                          );\n\n                          await acceptTripInvitation(invitation.id);\n\n                          // Reload both trips and invitations\n                          const [userTrips, updatedInvitations] =\n                            await Promise.all([\n                              getUserTrips(),\n                              getTripInvitations(),\n                            ]);\n\n                          setTrips(userTrips);\n                          setPendingInvitations(updatedInvitations);\n                        } catch (error) {\n                          alert(\"Failed to accept invitation\");\n                        }\n                      }}\n                      className=\"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors\"\n                    >\n                      Accept\n                    </button>\n                    <button\n                      type=\"button\"\n                      onClick={async () => {\n                        try {\n                          const { declineTripInvitation } = await import(\n                            \"@/lib/friend-service\"\n                          );\n                          await declineTripInvitation(invitation.id);\n                          setPendingInvitations(\n                            pendingInvitations.filter(\n                              (inv) => inv.id !== invitation.id\n                            )\n                          );\n                        } catch (error) {\n                          alert(\"Failed to decline invitation\");\n                        }\n                      }}\n                      className=\"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-700 transition-colors\"\n                    >\n                      Decline\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </main>\n\n      {/* Create Trip Modal */}\n      {showCreateModal && (\n        <CreateTripModal\n          isOpen={showCreateModal}\n          onClose={() => setShowCreateModal(false)}\n          onTripCreated={(newTrip) => {\n            setTrips([...trips, newTrip]);\n            setShowCreateModal(false);\n          }}\n        />\n      )}\n\n      {/* Edit Trip Modal */}\n      {showEditModal && editingTrip && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-2xl p-6 w-full max-w-md mx-4 shadow-xl\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">Edit Trip</h2>\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Trip Title\n                </label>\n                <input\n                  type=\"text\"\n                  value={editFormData.title}\n                  onChange={(e) =>\n                    setEditFormData({ ...editFormData, title: e.target.value })\n                  }\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Description\n                </label>\n                <textarea\n                  value={editFormData.description}\n                  onChange={(e) =>\n                    setEditFormData({\n                      ...editFormData,\n                      description: e.target.value,\n                    })\n                  }\n                  rows={3}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Start Date\n                </label>\n                <input\n                  type=\"date\"\n                  value={editFormData.start_date}\n                  onChange={(e) =>\n                    setEditFormData({\n                      ...editFormData,\n                      start_date: e.target.value,\n                    })\n                  }\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  End Date\n                </label>\n                <input\n                  type=\"date\"\n                  value={editFormData.end_date}\n                  onChange={(e) =>\n                    setEditFormData({\n                      ...editFormData,\n                      end_date: e.target.value,\n                    })\n                  }\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                />\n              </div>\n            </div>\n            <div className=\"flex space-x-3 mt-6\">\n              <button\n                onClick={() => setShowEditModal(false)}\n                className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={async () => {\n                  try {\n                    if (!editFormData.start_date || !editFormData.end_date) {\n                      alert(\"Please fill in all fields\");\n                      return;\n                    }\n                    const { updateTrip } = await import(\"@/lib/trip-service\");\n                    const dataToSave = {\n                      ...editFormData,\n                      start_date: editFormData.start_date,\n                      end_date: editFormData.end_date,\n                    };\n                    await updateTrip(editingTrip.id, dataToSave);\n                    setTrips(\n                      trips.map((t) =>\n                        t.id === editingTrip.id ? { ...t, ...dataToSave } : t\n                      )\n                    );\n                    setShowEditModal(false);\n                  } catch (error) {\n                    alert(\"Failed to update trip\");\n                  }\n                }}\n                className=\"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all\"\n              >\n                Save Changes\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Trip Collaborators Modal */}\n      {showCollaborators && selectedTripId && (\n        <TripCollaborators\n          tripId={selectedTripId}\n          isOwner={true} // TODO: Check if current user is owner\n          onClose={() => {\n            setShowCollaborators(false);\n            setSelectedTripId(\"\");\n          }}\n        />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}