(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84961,t=>{"use strict";var e=t.i(21227),u=t.i(61013),a=t.i(38335);let n=(0,u.createContext)(void 0);function s({children:t}){let[s,i]=(0,u.useState)(null),[r,o]=(0,u.useState)(!0),l=(0,a.createClient)();(0,u.useEffect)(()=>{(async()=>{let{data:{session:t}}=await l.auth.getSession();i(t?.user??null),o(!1)})();let{data:{subscription:t}}=l.auth.onAuthStateChange(async(t,e)=>{i(e?.user??null),o(!1)});return()=>t.unsubscribe()},[l.auth]);let h=async(t,e)=>{let{error:u}=await l.auth.signInWithPassword({email:t,password:e});return{error:u}},c=async(t,e,u)=>{let{error:a}=await l.auth.signUp({email:t,password:e,options:{data:{display_name:u}}});return{error:a}},d=async()=>{await l.auth.signOut()};return(0,e.jsx)(n.Provider,{value:{user:s,loading:r,signIn:h,signUp:c,signOut:d},children:t})}function i(){let t=(0,u.useContext)(n);if(void 0===t)throw Error("useAuth must be used within an AuthProvider");return t}t.s(["AuthProvider",()=>s,"useAuth",()=>i])}]);