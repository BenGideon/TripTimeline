(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75220,e=>{"use strict";var t=e.i(21227),a=e.i(84961),s=e.i(70267),r=e.i(61013),o=e.i(90384),l=e.i(99410),n=e.i(44586);function i({media:e,dayIndex:a,currentIndex:s,onIndexChange:o,onDelete:l}){let[n,i]=(0,r.useState)(0),[c,d]=(0,r.useState)(0),[x,m]=(0,r.useState)(!1);if(!e||0===e.length)return null;let u=e[s||0],h=e.length,g=()=>{o(a,s>0?s-1:h-1)},p=()=>{o(a,s<h-1?s+1:0)},b=async()=>{if(l&&u&&confirm("Delete this photo/video?")){m(!0);try{await l(u.id)}catch(e){console.error("Error deleting media:",e),alert("Failed to delete media")}finally{m(!1)}}};return(0,t.jsxs)("div",{className:"relative w-full bg-gray-900 rounded-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"relative w-full aspect-video bg-black",onTouchStart:e=>{i(e.targetTouches[0].clientX)},onTouchEnd:e=>{d(e.changedTouches[0].clientX),n-c>50&&p(),c-n>50&&g()},children:["image"===u.type?(0,t.jsx)("img",{src:u.url,alt:u.title,className:"w-full h-full object-cover"}):(0,t.jsx)("video",{src:u.url,className:"w-full h-full object-cover",controls:!0}),(0,t.jsx)("button",{onClick:g,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/30 hover:bg-white/50 text-white p-3 rounded-full transition-all z-10",children:"â€¹"}),(0,t.jsx)("button",{onClick:p,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/30 hover:bg-white/50 text-white p-3 rounded-full transition-all z-10",children:"â€º"}),(0,t.jsxs)("div",{className:"absolute top-4 right-4 bg-black/60 text-white px-3 py-1 rounded-full text-sm font-medium",children:[s+1," / ",h]}),l&&(0,t.jsx)("button",{onClick:b,disabled:x,className:"absolute top-4 left-4 text-white p-2 rounded-full transition-all z-10 disabled:opacity-50",style:{backgroundColor:"rgba(10, 64, 12, 0.8)"},onMouseEnter:e=>e.target.style.backgroundColor="rgba(129, 144, 103, 0.9)",onMouseLeave:e=>e.target.style.backgroundColor="rgba(10, 64, 12, 0.8)",title:"Delete this photo/video",children:"ðŸ—‘ï¸"})]}),h>1&&(0,t.jsx)("div",{className:"flex gap-2 p-3 bg-gray-800 overflow-x-auto",children:e.map((e,r)=>(0,t.jsx)("button",{onClick:()=>o(a,r),className:`flex-shrink-0 w-12 h-12 rounded-md overflow-hidden transition-all ${r===s?"ring-2 ring-white opacity-100":"opacity-60 hover:opacity-80"}`,children:"image"===e.type?(0,t.jsx)("img",{src:e.url,alt:e.title,className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white text-xl",children:"â–¶"})})},e.id))})]})}function c({itinerary:a,tripId:s,onAddActivity:l,onEditActivity:c,onDeleteActivity:d,onSaveNotes:x,onSaveExpense:m,onUpdateDay:u,onAddDay:h,onDeleteDay:g}){let[p,b]=(0,r.useState)(new Set([0])),[y,f]=(0,r.useState)(null),[v,j]=(0,r.useState)(""),[N,w]=(0,r.useState)(null),[k,C]=(0,r.useState)(""),[S,M]=(0,r.useState)(""),[A,I]=(0,r.useState)("sightseeing"),[L,D]=(0,r.useState)("morning"),[E,O]=(0,r.useState)(""),[T,B]=(0,r.useState)(""),[$,z]=(0,r.useState)(""),[P,W]=(0,r.useState)(null),[F,U]=(0,r.useState)(""),[_,R]=(0,r.useState)(null),[H,K]=(0,r.useState)(""),[q,V]=(0,r.useState)(""),[Y,J]=(0,r.useState)("food"),[X,G]=(0,r.useState)(!1),[Q,Z]=(0,r.useState)(!1),[ee,et]=(0,r.useState)(!1),[ea,es]=(0,r.useState)(null),[er,eo]=(0,r.useState)(null),[el,en]=(0,r.useState)(null),[ei,ec]=(0,r.useState)(!1),[ed,ex]=(0,r.useState)({}),[em,eu]=(0,r.useState)({});(0,r.useEffect)(()=>{(async()=>{if(s&&0!==a.length)try{let{getMediaForDay:t}=await e.A(95997),r={};for(let e=0;e<a.length;e++){let a=await t(s,e+1);r[e]=a}ex(r)}catch(e){}})()},[s,a.length]);let eh=()=>{C(""),M(""),I("sightseeing"),D("morning"),O(""),B(""),z(""),G(!1)},eg=(e,t)=>{G(!1),t?(w({dayIndex:e,activity:t}),C(t.title),M(t.time||""),I(t.category),D(t.type||"morning"),O(t.location||""),B(t.description||""),z(void 0!==t.cost&&null!==t.cost?String(t.cost):"")):(eh(),w({dayIndex:e}))},ep=()=>{w(null),eh()},eb=async()=>{if(!N||""===k.trim())return;let e=k.trim(),t=S.trim(),a=""===$.trim()?void 0:Number($),s=void 0===a||Number.isNaN(a)?void 0:a,r={title:e,time:t,type:L,category:A,description:T.trim()||void 0,location:E.trim()||void 0,cost:s};G(!0);try{N.activity?await c(N.dayIndex,N.activity.id,r):await l(N.dayIndex,r),ep()}catch(e){}finally{G(!1)}},ey=async(e,t)=>{if(window.confirm("Delete this activity?"))try{await d(e,t)}catch(e){}},ef=()=>{W(null),U("")},ev=async()=>{if(P){Z(!0);try{x?await x(P.dayIndex,F):u&&await u(P.dayIndex,{notes:F}),ef()}catch(e){}finally{Z(!1)}}},ej=()=>{R(null),K(""),V(""),J("food")},eN=async()=>{if(_&&H.trim()&&q.trim()){et(!0);try{let e=parseFloat(q);if(isNaN(e)||e<0)return;m&&await m(_.dayIndex,{title:H.trim(),amount:e,category:Y,currency:"USD",date:new Date().toISOString().split("T")[0]}),ej()}catch(e){}finally{et(!1)}}},ew=async(t,a)=>{if(s){ec(!0);try{let{uploadMedia:r,getMediaForDay:o}=await e.A(95997),l=a.type.startsWith("video")?"video":"image";await r(s,t+1,a,l,a.name);let n=await o(s,t+1);ex(e=>({...e,[t]:n}))}catch(e){}finally{ec(!1)}}},ek=()=>{eo(null)},eC=async(e,t)=>{if(e.preventDefault(),eo(null),null===ea||ea===t)return;let s=[...a],r=s[ea];s.splice(ea,1),s.splice(t,0,r);let o=s.map((e,t)=>({...e,day:t+1}));if(u)for(let e=0;e<o.length;e++){let t=o[e];t.day!==a[e].day&&await u(e,{day:t.day})}es(null)},eS=e=>{if(e.customTitle)return e.customTitle;if(e.activities.length>0){let t=e.activities[0];return t.location||t.title}return`Day ${e.day}`},eM=(e,t,a)=>{f({dayIndex:e,field:t}),j(a)},eA=()=>{y&&u&&("title"===y.field?u(y.dayIndex,{customTitle:v}):"notes"===y.field&&u(y.dayIndex,{notes:v})),f(null),j("")},eI=()=>{f(null),j("")};return 0===a.length?(0,t.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsx)("div",{className:"w-32 h-32 bg-gradient-to-br from-purple-100 to-blue-100 rounded-full flex items-center justify-center mx-auto mb-8",children:(0,t.jsx)("div",{className:"text-6xl",children:"ðŸ“…"})}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Start Planning Your Journey!"}),(0,t.jsx)("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Create your first day to begin building your amazing itinerary. Add activities, plan your schedule, and make memories!"}),h&&(0,t.jsx)("button",{onClick:h,className:"btn-primary text-white px-8 py-4 rounded-lg font-semibold focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:"âœ¨ Add Your First Day"})]})}):(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute left-8 top-0 bottom-0 w-1 bg-gradient-to-b from-purple-400 via-blue-400 to-green-400 rounded-full shadow-sm"}),(0,t.jsx)("div",{className:"space-y-8",children:a.map((s,r)=>{let l=p.has(r);return a.length,(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute left-6 w-5 h-5 bg-white rounded-full shadow-lg z-10 hover:scale-110 transition-transform duration-200",style:{border:"4px solid #0a400c"}}),(0,t.jsx)("div",{className:"ml-20",children:(0,t.jsxs)("div",{draggable:!0,onDragStart:()=>{es(r)},onDragOver:e=>{e.preventDefault(),eo(r)},onDragLeave:ek,onDrop:e=>eC(e,r),className:`glass rounded-xl shadow-md border border-secondary border-opacity-20 overflow-hidden hover:shadow-lg transition-all duration-300 cursor-move ${ea===r?"opacity-50":""} ${er===r&&ea!==r?"border-primary border-2 bg-primary bg-opacity-5":""}`,children:[(0,t.jsxs)("div",{className:"p-6 cursor-pointer hover:bg-primary hover:bg-opacity-5 transition-colors",onClick:()=>{let e;(e=new Set(p)).has(r)?e.delete(r):e.add(r),b(e)},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg",children:s.day}),(0,t.jsxs)("div",{children:[y?.dayIndex===r&&y?.field==="title"?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"text",value:v,onChange:e=>j(e.target.value),onKeyDown:e=>{"Enter"===e.key&&eA(),"Escape"===e.key&&eI()},className:"text-xl font-bold text-gray-900 bg-white rounded-lg px-3 py-1 focus:outline-none",style:{border:"1px solid #819067"},onFocus:e=>e.target.style.boxShadow="0 0 0 2px #0a400c",onBlur:e=>e.target.style.boxShadow="none",autoFocus:!0}),(0,t.jsx)("button",{onClick:eA,className:"p-1 transition-colors",style:{color:"#819067"},onMouseEnter:e=>e.target.style.color="#0a400c",onMouseLeave:e=>e.target.style.color="#819067",children:"âœ“"}),(0,t.jsx)("button",{onClick:eI,className:"p-1 transition-colors",style:{color:"#b1ab86"},onMouseEnter:e=>e.target.style.color="#0a400c",onMouseLeave:e=>e.target.style.color="#b1ab86",children:"âœ•"})]}):(0,t.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center cursor-pointer transition-colors group",style:{color:"#0a400c"},onMouseEnter:e=>e.target.style.color="#819067",onMouseLeave:e=>e.target.style.color="#0a400c",onClick:e=>{e.stopPropagation(),eM(r,"title",eS(s))},children:["ðŸ“ ",eS(s),(0,t.jsx)("span",{className:"ml-2 opacity-0 group-hover:opacity-100 text-sm text-purple-500 transition-opacity",children:"âœï¸"})]}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:(0,n.format)((0,o.parseISO)(s.date),"EEEE, MMMM d, yyyy")})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("span",{className:"px-3 py-1 text-sm font-medium rounded-full",style:{backgroundColor:"#b1ab86",color:"#0a400c"},children:[s.activities.length," ",1===s.activities.length?"Activity":"Activities"]}),s.accommodation&&(0,t.jsx)("span",{className:"px-3 py-1 text-sm font-medium rounded-full",style:{backgroundColor:"#819067",color:"#fefae0"},children:"ðŸ¨ Hotel"}),g&&a.length>1&&(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),window.confirm(`Are you sure you want to delete ${eS(s)}?`)&&g(r)},className:"p-2 rounded-full transition-colors",style:{color:"#b1ab86"},onMouseEnter:e=>{e.target.style.color="#0a400c",e.target.style.backgroundColor="#fefae0"},onMouseLeave:e=>{e.target.style.color="#b1ab86",e.target.style.backgroundColor="transparent"},title:"Delete Day",children:"ðŸ—‘ï¸"})]}),(0,t.jsx)("svg",{className:`w-6 h-6 text-gray-400 transition-transform duration-200 ${l?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),(0,t.jsx)("div",{className:"mt-4",children:y?.dayIndex===r&&y?.field==="notes"?(0,t.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,t.jsx)("textarea",{value:v,onChange:e=>j(e.target.value),onKeyDown:e=>{"Enter"===e.key&&e.ctrlKey&&eA(),"Escape"===e.key&&eI()},className:"flex-1 px-3 py-2 text-gray-700 bg-white rounded-lg focus:outline-none",style:{border:"1px solid #819067"},onFocus:e=>e.target.style.boxShadow="0 0 0 2px #0a400c",onBlur:e=>e.target.style.boxShadow="none",rows:2,autoFocus:!0}),(0,t.jsxs)("div",{className:"flex space-x-1 pt-2",children:[(0,t.jsx)("button",{onClick:eA,className:"p-1 transition-colors",style:{color:"#819067"},onMouseEnter:e=>e.target.style.color="#0a400c",onMouseLeave:e=>e.target.style.color="#819067",children:"âœ“"}),(0,t.jsx)("button",{onClick:eI,className:"p-1 transition-colors",style:{color:"#b1ab86"},onMouseEnter:e=>e.target.style.color="#0a400c",onMouseLeave:e=>e.target.style.color="#b1ab86",children:"âœ•"})]})]}):(0,t.jsxs)("p",{className:"text-gray-700 leading-relaxed cursor-pointer transition-colors group",style:{color:"#0a400c"},onMouseEnter:e=>e.target.style.color="#819067",onMouseLeave:e=>e.target.style.color="#0a400c",onClick:e=>{e.stopPropagation(),eM(r,"notes",s.notes||"Explore and enjoy your day!")},children:[s.notes||"Explore and enjoy your day!",(0,t.jsx)("span",{className:"ml-2 opacity-0 group-hover:opacity-100 text-sm text-purple-500 transition-opacity",children:"âœï¸"})]})})]}),l&&(0,t.jsxs)("div",{className:"border-t border-gray-100",children:[ed[r]&&ed[r].length>0?(0,t.jsx)("div",{className:"p-6 bg-gray-900 border-b border-gray-200",children:(0,t.jsx)(i,{media:ed[r],dayIndex:r,currentIndex:em[r]||0,onIndexChange:(e,t)=>{eu(a=>({...a,[e]:t}))},onDelete:async t=>{try{let{deleteMedia:a}=await e.A(95997);await a(t),ex(e=>({...e,[r]:e[r].filter(e=>e.id!==t)})),eu(e=>({...e,[r]:0}))}catch(e){throw e}}})}):(0,t.jsxs)("div",{className:"h-64 relative overflow-hidden",style:{background:"linear-gradient(135deg, #0a400c 0%, #819067 50%, #b1ab86 100%)"},children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center text-white",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ—¾"}),(0,t.jsxs)("h4",{className:"text-2xl font-bold",children:["Day ",s.day," Adventure"]})]})})]}),s.notes&&(0,t.jsxs)("div",{className:"p-6 border-b",style:{backgroundColor:"#fefae0",borderColor:"#b1ab86"},children:[(0,t.jsx)("h5",{className:"font-semibold text-gray-900 mb-2 flex items-center",children:"ðŸ“ Day Notes"}),(0,t.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed whitespace-pre-wrap",children:s.notes})]}),(0,t.jsx)("div",{className:"p-6 border-b",style:{backgroundColor:"#fefae0",borderColor:"#b1ab86"},children:(0,t.jsxs)("label",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed rounded-xl cursor-pointer transition-colors",style:{borderColor:"#819067"},onMouseEnter:e=>{e.target.style.borderColor="#0a400c",e.target.style.backgroundColor="#b1ab86"},onMouseLeave:e=>{e.target.style.borderColor="#819067",e.target.style.backgroundColor="transparent"},children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-2xl",children:"ðŸ“¸"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Upload Photo or Video"})]}),(0,t.jsx)("input",{type:"file",accept:"image/*,video/*",multiple:!0,className:"hidden",onChange:e=>{e.target.files&&Array.from(e.target.files).forEach(e=>{ew(r,e)})},disabled:ei})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[s.activities.length>0?s.activities.map(e=>(0,t.jsxs)("div",{className:"border border-gray-200 rounded-xl p-4 transition-colors",style:{borderColor:"#b1ab86"},onMouseEnter:e=>e.target.style.borderColor="#819067",onMouseLeave:e=>e.target.style.borderColor="#b1ab86",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"text-2xl",children:(e=>{switch(e){case"transport":return"âœˆï¸";case"accommodation":return"ðŸ¨";case"sightseeing":return"ðŸ—¾";case"food":return"ðŸœ";case"shopping":return"ðŸ›ï¸";case"entertainment":return"ðŸŽ­";default:return"ðŸ“"}})(e.category)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"font-semibold text-gray-900",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.time})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${(e=>{switch(e){case"transport":case"food":return"bg-primary bg-opacity-10 text-primary border-primary border-opacity-30";case"accommodation":case"shopping":return"bg-secondary bg-opacity-10 text-secondary border-secondary border-opacity-30";case"sightseeing":case"entertainment":return"bg-accent bg-opacity-10 text-accent border-accent border-opacity-30";default:return"bg-primary bg-opacity-5 text-primary border-primary border-opacity-20"}})(e.category)}`,children:e.category}),void 0!==e.cost&&null!==e.cost&&(0,t.jsxs)("span",{className:"px-3 py-1 text-xs font-medium rounded-full",style:{backgroundColor:"#b1ab86",color:"#0a400c"},children:["$",e.cost]}),(0,t.jsx)("button",{onClick:()=>eg(r,e),className:"p-2 rounded-full transition-colors",style:{color:"#819067"},onMouseEnter:e=>{e.target.style.color="#0a400c",e.target.style.backgroundColor="#fefae0"},onMouseLeave:e=>{e.target.style.color="#819067",e.target.style.backgroundColor="transparent"},title:"Edit Activity",children:"âœï¸"}),(0,t.jsx)("button",{onClick:()=>ey(r,e.id),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-full transition-colors",title:"Delete Activity",children:"ðŸ—‘ï¸"})]})]}),e.description&&(0,t.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed mb-3",children:e.description}),e.location&&(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,t.jsxs)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.location]})]},e.id)):(0,t.jsxs)("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-xl",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"ðŸ“"}),(0,t.jsx)("h5",{className:"font-medium text-primary mb-2",children:"No activities planned"}),(0,t.jsx)("p",{className:"text-secondary text-sm mb-4",children:"Add activities to make the most of this day"}),(0,t.jsx)("button",{onClick:()=>eg(r),className:"btn-primary text-white px-6 py-2 rounded-lg font-medium transition-all duration-200",children:"+ Add Activity"})]}),s.accommodation&&(0,t.jsxs)("div",{className:"rounded-xl p-4",style:{backgroundColor:"#fefae0",border:"1px solid #819067"},children:[(0,t.jsx)("h5",{className:"font-semibold text-gray-900 mb-2 flex items-center",children:"ðŸ¨ Accommodation"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:s.accommodation.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:s.accommodation.address}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,t.jsxs)("span",{className:"text-gray-600",children:["Check-in:"," ",(0,n.format)((0,o.parseISO)(s.accommodation.checkIn),"MMM d")]}),(0,t.jsxs)("span",{className:"text-gray-600",children:["Check-out:"," ",(0,n.format)((0,o.parseISO)(s.accommodation.checkOut),"MMM d")]}),(0,t.jsxs)("span",{className:"font-medium",style:{color:"#819067"},children:["$",s.accommodation.cost]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-gray-100",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-lg font-bold",style:{color:"#0a400c"},children:["$",s.actualSpent||0]}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Spent"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-lg font-bold",style:{color:"#819067"},children:[s.activities.reduce((e,t)=>e+(t.duration||0),0),"m"]}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Duration"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-lg font-bold",style:{color:"#819067"},children:[s.activities.filter(e=>e.completed).length,"/",s.activities.length]}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Complete"})]})]}),(0,t.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,t.jsx)("button",{onClick:()=>eg(r),className:"flex-1 btn-primary text-white py-2 px-4 rounded-lg font-medium transition-all duration-200",children:"+ Add Activity"}),(0,t.jsx)("button",{onClick:()=>{W({dayIndex:r}),U(a[r]?.notes||"")},className:"flex-1 glass text-primary py-2 px-4 rounded-lg font-medium hover:bg-accent hover:bg-opacity-10 transition-colors",children:"ðŸ“ Add Notes"}),(0,t.jsx)("button",{onClick:()=>{R({dayIndex:r}),K(""),V(""),J("food")},className:"flex-1 glass text-primary py-2 px-4 rounded-lg font-medium hover:bg-accent hover:bg-opacity-10 transition-colors",children:"ðŸ’° Add Expense"})]})]})]})]})})]},r)})}),h&&(0,t.jsxs)("div",{className:"relative ml-20 mt-8",children:[(0,t.jsx)("div",{className:"absolute left-[-52px] w-5 h-5 bg-primary border-4 border-bg rounded-full shadow-lg"}),(0,t.jsx)("div",{className:"glass rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300 border border-secondary border-opacity-20",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"âž•"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-primary mb-2",children:"Add Another Day"}),(0,t.jsx)("p",{className:"text-secondary mb-4",children:"Continue your adventure with more activities!"}),(0,t.jsxs)("button",{onClick:h,className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:["+ Add Day ",a.length+1]})]})})]}),(0,t.jsxs)("div",{className:"relative ml-20 mt-8",children:[(0,t.jsx)("div",{className:"absolute left-[-52px] w-5 h-5 border-4 border-white rounded-full shadow-lg",style:{backgroundColor:"#819067"}}),(0,t.jsx)("div",{className:"text-white p-6 rounded-2xl shadow-lg",style:{background:"linear-gradient(135deg, #819067 0%, #0a400c 100%)"},children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"ðŸŽ‰"}),(0,t.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Journey Complete!"}),(0,t.jsx)("p",{className:"text-green-100",children:"What an amazing adventure you've had!"})]})})]})]}),N&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white/95 backdrop-blur-lg rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-white/20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:[N.activity?"Edit Activity":"Add Activity"," Â· Day ",N.dayIndex+1]}),(0,t.jsx)("button",{onClick:ep,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),(0,t.jsx)("input",{type:"text",value:k,onChange:e=>C(e.target.value),placeholder:"e.g., Morning Hike",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80",autoFocus:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time & Location"}),(0,t.jsx)("input",{type:"text",value:S,onChange:e=>M(e.target.value),placeholder:"e.g., 9:00 AM Â· Zion National Park",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type of Day"}),(0,t.jsxs)("select",{value:L,onChange:e=>D(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80",children:[(0,t.jsx)("option",{value:"morning",children:"Morning"}),(0,t.jsx)("option",{value:"afternoon",children:"Afternoon"}),(0,t.jsx)("option",{value:"evening",children:"Evening"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,t.jsxs)("select",{value:A,onChange:e=>I(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80",children:[(0,t.jsx)("option",{value:"sightseeing",children:"Sightseeing"}),(0,t.jsx)("option",{value:"food",children:"Food"}),(0,t.jsx)("option",{value:"transport",children:"Transport"}),(0,t.jsx)("option",{value:"accommodation",children:"Accommodation"}),(0,t.jsx)("option",{value:"shopping",children:"Shopping"}),(0,t.jsx)("option",{value:"entertainment",children:"Entertainment"}),(0,t.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,t.jsx)("input",{type:"text",value:E,onChange:e=>O(e.target.value),placeholder:"Optional location details",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,t.jsx)("textarea",{value:T,onChange:e=>B(e.target.value),rows:3,placeholder:"Share details to remember",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Cost"}),(0,t.jsx)("input",{type:"number",min:"0",value:$,onChange:e=>z(e.target.value),placeholder:"Optional cost",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80"})]}),(0,t.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,t.jsx)("button",{onClick:ep,className:"flex-1 px-4 py-3 border border-secondary border-opacity-30 text-secondary rounded-lg hover:bg-secondary hover:bg-opacity-5 transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:eb,className:"flex-1 btn-primary py-3 px-4 rounded-lg font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",disabled:""===k.trim()||X,children:X?"Saving...":"Save Activity"})]})]})]})}),P&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white/95 backdrop-blur-lg rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-white/20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:["ðŸ“ Day Notes Â· Day ",P.dayIndex+1]}),(0,t.jsx)("button",{onClick:ef,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,t.jsx)("textarea",{value:F,onChange:e=>U(e.target.value),rows:5,placeholder:"Add notes about this day...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80",autoFocus:!0})]}),(0,t.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,t.jsx)("button",{onClick:ef,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:ev,className:"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",disabled:Q,children:Q?"Saving...":"Save Notes"})]})]})]})}),_&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white/95 backdrop-blur-lg rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-white/20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:["ðŸ’° Add Expense Â· Day ",_.dayIndex+1]}),(0,t.jsx)("button",{onClick:ej,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,t.jsx)("input",{type:"text",value:H,onChange:e=>K(e.target.value),placeholder:"e.g., Lunch at restaurant",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80",autoFocus:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount *"}),(0,t.jsx)("input",{type:"number",min:"0",step:"0.01",value:q,onChange:e=>V(e.target.value),placeholder:"0.00",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,t.jsxs)("select",{value:Y,onChange:e=>J(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80",children:[(0,t.jsx)("option",{value:"food",children:"ðŸ½ï¸ Food"}),(0,t.jsx)("option",{value:"transport",children:"ðŸš— Transport"}),(0,t.jsx)("option",{value:"accommodation",children:"ðŸ¨ Accommodation"}),(0,t.jsx)("option",{value:"shopping",children:"ðŸ›ï¸ Shopping"}),(0,t.jsx)("option",{value:"activities",children:"ðŸŽ­ Activities"}),(0,t.jsx)("option",{value:"other",children:"ðŸ“Œ Other"})]})]})]}),(0,t.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,t.jsx)("button",{onClick:ej,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:eN,className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!H.trim()||!q.trim()||ee,children:ee?"Saving...":"Add Expense"})]})]})]})})]})}function d({packingList:e,onUpdatePackingList:a}){let[s,o]=(0,r.useState)(!1),[l,n]=(0,r.useState)({name:"",category:"other",quantity:1,essential:!1,notes:""}),[i,c]=(0,r.useState)("all"),d=[{id:"clothing",name:"Clothing",icon:"ðŸ‘•",color:"text-primary",bgColor:"#fefae0"},{id:"electronics",name:"Electronics",icon:"ðŸ“±",color:"text-secondary",bgColor:"#fefae0"},{id:"toiletries",name:"Toiletries",icon:"ðŸ§´",color:"text-accent",bgColor:"#fefae0"},{id:"documents",name:"Documents",icon:"ðŸ“„",color:"text-primary",bgColor:"#b1ab86"},{id:"medications",name:"Medications",icon:"ðŸ’Š",color:"text-secondary",bgColor:"#b1ab86"},{id:"accessories",name:"Accessories",icon:"ðŸ‘œ",color:"text-accent",bgColor:"#819067"},{id:"other",name:"Other",icon:"ðŸ“¦",color:"text-primary",bgColor:"#819067"}],x=e.filter(e=>{switch(i){case"packed":return e.packed;case"unpacked":return!e.packed;case"essential":return e.essential;default:return!0}}),m=d.reduce((e,t)=>(e[t.id]=x.filter(e=>e.category===t.id),e),{}),u=e.filter(e=>e.packed).length,h=e.length,g=e.filter(e=>e.essential&&!e.packed).length;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Packing List"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Keep track of everything you need"})]}),(0,t.jsx)("button",{onClick:()=>o(!0),className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"+ Add Item"})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Progress: ",u,"/",h," items packed"]}),(0,t.jsxs)("span",{className:"text-sm font-medium text-purple-600",children:[h>0?Math.round(u/h*100):0,"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-3 rounded-full transition-all duration-500",style:{width:`${h>0?u/h*100:0}%`}})}),g>0&&(0,t.jsxs)("p",{className:"text-sm mt-2",style:{color:"#0a400c"},children:["âš ï¸ ",g," essential item",g>1?"s":""," still need",1===g?"s":""," to be packed"]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:[{id:"all",name:"All Items",count:e.length},{id:"unpacked",name:"To Pack",count:e.length-u},{id:"packed",name:"Packed",count:u},{id:"essential",name:"Essential",count:e.filter(e=>e.essential).length}].map(e=>(0,t.jsxs)("button",{onClick:()=>c(e.id),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${i===e.id?"bg-purple-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.name," (",e.count,")"]},e.id))})]}),s&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl max-w-md w-full p-6 border border-white/20",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Add Packing Item"}),(0,t.jsx)("button",{onClick:()=>o(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("input",{type:"text",value:l.name,onChange:e=>n({...l,name:e.target.value}),placeholder:"Item name",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),(0,t.jsx)("select",{value:l.category,onChange:e=>n({...l,category:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:d.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))}),(0,t.jsx)("input",{type:"number",value:l.quantity,onChange:e=>n({...l,quantity:Math.max(1,parseInt(e.target.value)||1)}),placeholder:"Quantity",min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),(0,t.jsx)("textarea",{value:l.notes,onChange:e=>n({...l,notes:e.target.value}),placeholder:"Notes (optional)",rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"}),(0,t.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:l.essential,onChange:e=>n({...l,essential:e.target.checked}),className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Mark as essential"})]}),(0,t.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,t.jsx)("button",{onClick:()=>o(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{l.name.trim()&&(a([...e,{id:Date.now().toString(),...l,name:l.name.trim(),packed:!1}]),n({name:"",category:"other",quantity:1,essential:!1,notes:""}),o(!1))},className:"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200",children:"Add Item"})]})]})]})}),(0,t.jsx)("div",{className:"space-y-6",children:d.map(s=>{let r=m[s.id];return 0===r.length?null:(0,t.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:s.icon}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:s.name}),(0,t.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:s.bgColor,color:"text-primary"===s.color?"#0a400c":"text-secondary"===s.color?"#819067":"#b1ab86"},children:[r.filter(e=>e.packed).length,"/",r.length]})]})}),(0,t.jsx)("div",{className:"space-y-3",children:r.map(s=>(0,t.jsxs)("div",{className:`flex items-center justify-between p-4 rounded-xl border-2 transition-all duration-200 ${s.packed?"border-green-200 opacity-75":s.essential?"border-primary":"bg-gray-50 border-gray-200"}`,style:{backgroundColor:s.packed?"#b1ab86":(s.essential,"#fefae0"),borderColor:s.packed?"#819067":s.essential?"#0a400c":"#819067"},children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("button",{onClick:()=>{var t;return t=s.id,void a(e.map(e=>e.id===t?{...e,packed:!e.packed}:e))},className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${s.packed?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-purple-500"}`,children:s.packed&&(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:`font-medium ${s.packed?"line-through text-gray-500":"text-gray-900"}`,children:s.name}),s.essential&&(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full",style:{backgroundColor:"#b1ab86",color:"#0a400c"},children:"Essential"}),s.quantity>1&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded-full",children:["x",s.quantity]})]}),s.notes&&(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:s.notes})]})]}),(0,t.jsx)("button",{onClick:()=>{var t;return t=s.id,void a(e.filter(e=>e.id!==t))},className:"p-2 rounded-lg transition-colors",style:{color:"#b1ab86"},onMouseEnter:e=>{e.target.style.color="#0a400c",e.target.style.backgroundColor="#fefae0"},onMouseLeave:e=>{e.target.style.color="#b1ab86",e.target.style.backgroundColor="transparent"},children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},s.id))})]},s.id)})}),0===x.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("span",{className:"text-4xl",children:"ðŸ§³"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No items found"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"all"===i?"Start by adding items to your packing list":`No ${i} items to show`}),"all"===i&&(0,t.jsx)("button",{onClick:()=>o(!0),className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200",children:"Add Your First Item"})]})]})}function x({expenses:a,budget:s,currency:l,onUpdateExpenses:i}){let[c,d]=(0,r.useState)(!1),[x,m]=(0,r.useState)({title:"",amount:0,category:"other",date:new Date().toISOString().split("T")[0],description:""}),[u,h]=(0,r.useState)("all"),g=[{id:"accommodation",name:"Accommodation",icon:"ðŸ¨",color:"text-primary",bgColor:"#fefae0"},{id:"food",name:"Food & Drinks",icon:"ðŸ½ï¸",color:"text-secondary",bgColor:"#fefae0"},{id:"transport",name:"Transport",icon:"ðŸš—",color:"text-accent",bgColor:"#fefae0"},{id:"activities",name:"Activities",icon:"ðŸŽ¯",color:"text-primary",bgColor:"#b1ab86"},{id:"shopping",name:"Shopping",icon:"ðŸ›ï¸",color:"text-secondary",bgColor:"#b1ab86"},{id:"other",name:"Other",icon:"ðŸ“¦",color:"text-accent",bgColor:"#819067"}],p=e=>g.find(t=>t.id===e)||g[g.length-1],b=async t=>{i(a.filter(e=>e.id!==t));try{let{deleteExpense:a}=await e.A(95997);await a(t),console.log("Expense deleted successfully")}catch(e){console.error("Error deleting expense:",e)}},y=a.filter(e=>"all"===u||e.category===u),f=a.reduce((e,t)=>e+t.amount,0),v=s-f,j=s>0?f/s*100:0,N=g.map(e=>({...e,total:a.filter(t=>t.category===e.id).reduce((e,t)=>e+t.amount,0),count:a.filter(t=>t.category===e.id).length})).filter(e=>e.count>0),w=j>100?{color:"#0a400c",bg:"#0a400c",status:"Over Budget!"}:j>80?{color:"#819067",bg:"#b1ab86",status:"Close to Limit"}:{color:"#819067",bg:"#819067",status:"On Track"};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Expense Tracker"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Monitor your spending and stay on budget"})]}),(0,t.jsx)("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"+ Add Expense"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:[s.toLocaleString()," ",l]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Total Budget"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold mb-1",style:{color:"#0a400c"},children:[f.toLocaleString()," ",l]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Total Spent"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold mb-1",style:{color:v>=0?"#819067":"#0a400c"},children:[v.toLocaleString()," ",l]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Remaining"})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Budget Usage"}),(0,t.jsxs)("span",{className:`text-sm font-medium ${w.color}`,children:[Math.round(j),"% â€¢ ",w.status]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,t.jsx)("div",{className:`h-3 rounded-full transition-all duration-500 ${w.bg}`,style:{width:`${Math.min(j,100)}%`}})})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:N.map(e=>(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[(0,t.jsx)("div",{className:"text-2xl mb-1",children:e.icon}),(0,t.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.total.toLocaleString()," ",l]}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:e.name})]},e.id))})]}),c&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl max-w-md w-full p-6 border border-white/20",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Add Expense"}),(0,t.jsx)("button",{onClick:()=>d(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("input",{type:"text",value:x.title,onChange:e=>m({...x,title:e.target.value}),placeholder:"Expense title",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)("input",{type:"number",value:x.amount||"",onChange:e=>m({...x,amount:parseFloat(e.target.value)||0}),placeholder:"Amount",min:"0",step:"0.01",className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"}),(0,t.jsx)("div",{className:"px-4 py-3 bg-gray-100 rounded-xl text-gray-700 font-medium",children:l})]}),(0,t.jsx)("select",{value:x.category,onChange:e=>m({...x,category:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",children:g.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))}),(0,t.jsx)("input",{type:"date",value:x.date,onChange:e=>m({...x,date:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"}),(0,t.jsx)("textarea",{value:x.description,onChange:e=>m({...x,description:e.target.value}),placeholder:"Description (optional)",rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"}),(0,t.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,t.jsx)("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{!x.title.trim()||x.amount<=0||(i([...a,{id:Date.now().toString(),...x,currency:l,title:x.title.trim()}]),m({title:"",amount:0,category:"other",date:new Date().toISOString().split("T")[0],description:""}),d(!1))},className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-200",children:"Add Expense"})]})]})]})}),(0,t.jsx)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-white/20",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsxs)("button",{onClick:()=>h("all"),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${"all"===u?"text-white shadow-lg":"text-gray-700 hover:bg-gray-200"}`,style:{backgroundColor:"all"===u?"#0a400c":"#fefae0"},children:["All Expenses (",a.length,")"]}),g.map(e=>{let s=a.filter(t=>t.category===e.id).length;return 0===s?null:(0,t.jsxs)("button",{onClick:()=>h(e.id),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${u===e.id?"text-white shadow-lg":"text-gray-700 hover:bg-gray-200"}`,style:{backgroundColor:u===e.id?"#819067":"#fefae0"},children:[e.icon," ",e.name," (",s,")"]},e.id)})]})}),(0,t.jsx)("div",{className:"space-y-4",children:y.length>0?y.sort((e,t)=>(0,o.parseISO)(t.date).getTime()-(0,o.parseISO)(e.date).getTime()).map(e=>{let a=p(e.category);return(0,t.jsx)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 hover:shadow-xl transition-all duration-200",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,t.jsx)("div",{className:"text-3xl",children:a.icon}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 mt-1",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${a.color}`,style:{backgroundColor:a.bgColor,color:"text-primary"===a.color?"#0a400c":"text-secondary"===a.color?"#819067":"#b1ab86"},children:a.name}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:(0,n.format)((0,o.parseISO)(e.date),"MMM d, yyyy")})]}),e.description&&(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:e.description})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"text-right",children:(0,t.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[e.amount.toLocaleString()," ",e.currency]})}),(0,t.jsx)("button",{onClick:()=>b(e.id),className:"p-2 text-gray-400 rounded-lg transition-colors",style:{color:"#b1ab86"},onMouseEnter:e=>{e.target.style.color="#0a400c",e.target.style.backgroundColor="#fefae0"},onMouseLeave:e=>{e.target.style.color="#b1ab86",e.target.style.backgroundColor="transparent"},children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},e.id)}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("span",{className:"text-4xl",children:"ðŸ’°"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No expenses found"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"all"===u?"Start tracking your trip expenses":`No ${p(u).name.toLowerCase()} expenses to show`}),"all"===u&&(0,t.jsx)("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-200",children:"Add Your First Expense"})]})})]})}var m=e.i(38680);function u({itinerary:e,onUpdateItinerary:a}){let[s,l]=(0,r.useState)(!1),[i,c]=(0,r.useState)(null),[d,x]=(0,r.useState)({name:"",type:"hotel",address:"",checkIn:"",checkOut:"",cost:0,currency:"USD",rating:5,amenities:[],notes:"",bookingReference:"",contactInfo:""}),u=[{id:"hotel",name:"Hotel",icon:"ðŸ¨"},{id:"airbnb",name:"Airbnb",icon:"ðŸ "},{id:"hostel",name:"Hostel",icon:"ðŸ¢"},{id:"resort",name:"Resort",icon:"ðŸ–ï¸"},{id:"apartment",name:"Apartment",icon:"ðŸ "},{id:"other",name:"Other",icon:"ðŸ˜ï¸"}],h=e.map((e,t)=>({...e,dayIndex:t})).filter(e=>e.accommodation),g=h.reduce((e,t)=>e+(t.accommodation?.cost||0),0);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Accommodation"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Manage your hotels and places to stay"})]}),(0,t.jsx)("button",{onClick:()=>l(!0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"+ Add Accommodation"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:h.length}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Bookings"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-green-600 mb-1",children:[g.toLocaleString()," USD"]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Total Cost"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-xl",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:h.reduce((e,t)=>{let a=t.accommodation;return e+(0,m.differenceInDays)((0,o.parseISO)(a.checkOut),(0,o.parseISO)(a.checkIn))},0)}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Total Nights"})]})]})]}),(s||i)&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6 border border-white/20",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:i?"Edit Accommodation":"Add Accommodation"}),(0,t.jsx)("button",{onClick:()=>{l(!1),c(null)},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)("input",{type:"text",value:i?i.accommodation.name:d.name,onChange:e=>i?c({...i,accommodation:{...i.accommodation,name:e.target.value}}):x({...d,name:e.target.value}),placeholder:"Accommodation name",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,t.jsx)("select",{value:i?i.accommodation.type:d.type,onChange:e=>i?c({...i,accommodation:{...i.accommodation,type:e.target.value}}):x({...d,type:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:u.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))})]}),(0,t.jsx)("textarea",{value:i?i.accommodation.address:d.address,onChange:e=>i?c({...i,accommodation:{...i.accommodation,address:e.target.value}}):x({...d,address:e.target.value}),placeholder:"Address",rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)("input",{type:"date",value:i?i.accommodation.checkIn:d.checkIn,onChange:e=>i?c({...i,accommodation:{...i.accommodation,checkIn:e.target.value}}):x({...d,checkIn:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,t.jsx)("input",{type:"date",value:i?i.accommodation.checkOut:d.checkOut,onChange:e=>i?c({...i,accommodation:{...i.accommodation,checkOut:e.target.value}}):x({...d,checkOut:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,t.jsx)("input",{type:"number",value:i?i.accommodation.cost:d.cost,onChange:e=>i?c({...i,accommodation:{...i.accommodation,cost:parseFloat(e.target.value)||0}}):x({...d,cost:parseFloat(e.target.value)||0}),placeholder:"Total cost",min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),(0,t.jsx)("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>i?c({...i,accommodation:{...i.accommodation,rating:e}}):x({...d,rating:e}),className:`text-2xl transition-colors ${e<=(i?i.accommodation.rating||0:d.rating)?"text-yellow-400":"text-gray-300"}`,children:"â­"},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Amenities"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["WiFi","Parking","Pool","Gym","Spa","Restaurant","Room Service","Air Conditioning","Kitchen","Laundry","Pet Friendly","Business Center","Airport Shuttle","Breakfast Included","Beach Access","Balcony"].map(e=>(0,t.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:(i?i.accommodation.amenities:d.amenities).includes(e),onChange:()=>((e,t=!1)=>{if(t&&i){let t=i.accommodation.amenities.includes(e)?i.accommodation.amenities.filter(t=>t!==e):[...i.accommodation.amenities,e];c({...i,accommodation:{...i.accommodation,amenities:t}})}else{let t=d.amenities.includes(e)?d.amenities.filter(t=>t!==e):[...d.amenities,e];x({...d,amenities:t})}})(e,!!i),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:e})]},e))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)("input",{type:"text",value:i?i.accommodation.bookingReference||"":d.bookingReference,onChange:e=>i?c({...i,accommodation:{...i.accommodation,bookingReference:e.target.value}}):x({...d,bookingReference:e.target.value}),placeholder:"Booking reference",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,t.jsx)("input",{type:"text",value:i?i.accommodation.contactInfo||"":d.contactInfo,onChange:e=>i?c({...i,accommodation:{...i.accommodation,contactInfo:e.target.value}}):x({...d,contactInfo:e.target.value}),placeholder:"Contact info",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsx)("textarea",{value:i?i.accommodation.notes||"":d.notes,onChange:e=>i?c({...i,accommodation:{...i.accommodation,notes:e.target.value}}):x({...d,notes:e.target.value}),placeholder:"Notes",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),(0,t.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,t.jsx)("button",{onClick:()=>{l(!1),c(null)},className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:i?()=>{if(!i)return;let t=[...e];t[i.dayIndex]={...t[i.dayIndex],accommodation:i.accommodation},a(t),c(null)}:()=>{if(!d.name.trim()||!d.checkIn||!d.checkOut)return;let t={id:Date.now().toString(),...d,name:d.name.trim(),photos:[]},s=new Date(d.checkIn).toISOString().split("T")[0],r=e.findIndex(e=>e.date===s);if(-1!==r){let s=[...e];s[r]={...s[r],accommodation:t},a(s)}x({name:"",type:"hotel",address:"",checkIn:"",checkOut:"",cost:0,currency:"USD",rating:5,amenities:[],notes:"",bookingReference:"",contactInfo:""}),l(!1)},className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-200",children:[i?"Update":"Add"," Accommodation"]})]})]})]})}),(0,t.jsx)("div",{className:"space-y-6",children:h.length>0?h.map(s=>{let r,l=s.accommodation,i=(r=l.type,u.find(e=>e.id===r)||u[0]),d=(0,m.differenceInDays)((0,o.parseISO)(l.checkOut),(0,o.parseISO)(l.checkIn));return(0,t.jsx)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 hover:shadow-xl transition-all duration-200",children:(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,t.jsx)("div",{className:"text-4xl",children:i.icon}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:l.name}),(0,t.jsx)("p",{className:"text-gray-600 mb-2",children:l.address}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 mb-3",children:[(0,t.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full",children:i.name}),(0,t.jsx)("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,t.jsx)("span",{className:`text-sm ${a<(l.rating||0)?"text-yellow-400":"text-gray-300"}`,children:"â­"},a))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Check-in:"}),(0,t.jsx)("div",{className:"font-medium",children:(0,n.format)((0,o.parseISO)(l.checkIn),"MMM d, yyyy")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Check-out:"}),(0,t.jsx)("div",{className:"font-medium",children:(0,n.format)((0,o.parseISO)(l.checkOut),"MMM d, yyyy")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Nights:"}),(0,t.jsx)("div",{className:"font-medium",children:d})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Total Cost:"}),(0,t.jsxs)("div",{className:"font-medium",children:[l.cost.toLocaleString()," ",l.currency]})]})]}),l.amenities.length>0&&(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Amenities:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[l.amenities.slice(0,6).map(e=>(0,t.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:e},e)),l.amenities.length>6&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:["+",l.amenities.length-6," more"]})]})]}),l.notes&&(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-3",children:l.notes})]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{onClick:()=>c({dayIndex:s.dayIndex,accommodation:l}),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,t.jsx)("button",{onClick:()=>{var t;let r;return t=s.dayIndex,r=[...e],void(delete r[t].accommodation,a(r))},className:"p-2 rounded-lg transition-colors",style:{color:"#b1ab86"},onMouseEnter:e=>{e.target.style.color="#0a400c",e.target.style.backgroundColor="#fefae0"},onMouseLeave:e=>{e.target.style.color="#b1ab86",e.target.style.backgroundColor="transparent"},children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},s.dayIndex)}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("span",{className:"text-4xl",children:"ðŸ¨"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No accommodations added"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Add hotels, Airbnbs, or other places you'll be staying"}),(0,t.jsx)("button",{onClick:()=>l(!0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-200",children:"Add Your First Accommodation"})]})})]})}var h=e.i(22435);function g({trip:a,onUpdateTrip:s}){let l,[i,c]=(0,r.useState)(!1),[d,x]=(0,r.useState)(!1),[u,g]=(0,r.useState)({title:a.title,description:a.description||"",budget:a.budget||0}),p=(0,m.differenceInDays)((0,o.parseISO)(a.end_date),(0,o.parseISO)(a.start_date))+1,b=a.expenses.reduce((e,t)=>e+t.amount,0),y=(a.budget||0)-b,f=a.packingList.filter(e=>e.packed).length,v=a.packingList.length,j=a.itinerary.reduce((e,t)=>e+t.activities.filter(e=>e.completed).length,0),N=a.itinerary.reduce((e,t)=>e+t.activities.length,0),w=(l=b/(a.budget||1)*100)>100?{color:"text-accent",bg:"bg-accent bg-opacity-10",status:"Over Budget!"}:l>80?{color:"text-secondary",bg:"bg-secondary bg-opacity-10",status:"Close to Limit"}:{color:"text-primary",bg:"bg-primary bg-opacity-10",status:"On Track"};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("div",{className:"glass rounded-lg p-8 shadow-lg",children:i?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("input",{type:"text",value:u.title,onChange:e=>g({...u,title:e.target.value}),className:"w-full text-3xl font-bold text-primary bg-transparent border-b-2 border-primary border-opacity-30 focus:border-primary outline-none pb-2",placeholder:"Trip title"}),(0,t.jsx)("textarea",{value:u.description,onChange:e=>g({...u,description:e.target.value}),className:"w-full text-secondary bg-transparent border border-secondary border-opacity-20 rounded-lg p-4 focus:border-primary outline-none resize-none",rows:3,placeholder:"Trip description"}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Budget:"}),(0,t.jsx)("input",{type:"number",value:u.budget,onChange:e=>g({...u,budget:Number(e.target.value)}),className:"px-4 py-2 border border-secondary border-opacity-20 rounded-lg focus:border-primary outline-none",placeholder:"0"}),(0,t.jsx)("span",{className:"text-secondary",children:a.currency})]}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsx)("button",{onClick:()=>{s(u),c(!1)},className:"btn-primary px-6 py-2 rounded-lg font-semibold transition-all duration-200",children:"Save Changes"}),(0,t.jsx)("button",{onClick:()=>c(!1),className:"glass text-secondary px-6 py-2 rounded-lg font-semibold transition-all duration-200",children:"Cancel"})]})]}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-primary mb-2",children:a.title}),(0,t.jsx)("p",{className:"text-secondary text-lg leading-relaxed",children:a.description})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>x(!0),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-colors",title:"Manage collaborators",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),(0,t.jsx)("button",{onClick:()=>c(!0),className:"p-2 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-xl transition-colors",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:p}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Days"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:a.travelers}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Travelers"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",style:{color:"#819067"},children:(0,n.format)((0,o.parseISO)(a.start_date),"EEE, MMM d")}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Start Date"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:(0,n.format)((0,o.parseISO)(a.end_date),"EEE, MMM d")}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"End Date"})]})]})]})}),(0,t.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl p-8 shadow-2xl border border-white/20",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Trip Cover Image"}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[a.cover_image?(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)("img",{src:a.cover_image,alt:a.title,className:"w-full h-48 object-cover rounded-xl shadow-md"}),(0,t.jsx)("button",{onClick:()=>document.getElementById("cover-image-input")?.click(),className:"absolute bottom-2 right-2 bg-purple-600 text-white p-2 rounded-full hover:bg-purple-700 transition-colors",title:"Change cover image",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]}):(0,t.jsx)("div",{className:"flex-1 w-full h-48 bg-gradient-to-br from-purple-200 to-pink-200 rounded-xl flex items-center justify-center cursor-pointer hover:from-purple-300 hover:to-pink-300 transition-colors",onClick:()=>document.getElementById("cover-image-input")?.click(),children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("svg",{className:"w-12 h-12 text-purple-600 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,t.jsx)("p",{className:"text-purple-700 font-medium",children:"Click to upload cover image"})]})}),(0,t.jsx)("input",{id:"cover-image-input",type:"file",accept:"image/*",className:"hidden",onChange:async t=>{let r=t.target.files?.[0];if(r)try{let{uploadTripCoverImage:t}=await e.A(95997),o=await t(a.id,r);s({cover_image:o})}catch(e){alert("Failed to upload cover image")}}})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Budget"}),(0,t.jsx)("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${w.bg} ${w.color}`,children:w.status})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Total Budget"}),(0,t.jsxs)("span",{className:"font-semibold",children:[a.budget?.toLocaleString()," ",a.currency]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Spent"}),(0,t.jsxs)("span",{className:"font-semibold",style:{color:"#0a400c"},children:[b.toLocaleString()," ",a.currency]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Remaining"}),(0,t.jsxs)("span",{className:"font-semibold",style:{color:y>=0?"#819067":"#0a400c"},children:[y.toLocaleString()," ",a.currency]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-3",children:(0,t.jsx)("div",{className:"h-2 rounded-full transition-all duration-300",style:{backgroundColor:b>(a.budget||0)?"#0a400c":"#819067",width:`${Math.min(b/(a.budget||1)*100,100)}%`}})})]})]}),(0,t.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Packing"}),(0,t.jsx)("span",{className:"text-2xl",children:"ðŸ§³"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:[f,"/",v]}),(0,t.jsx)("div",{className:"text-sm text-gray-600 mb-3",children:"Items Packed"}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-300",style:{width:`${v>0?f/v*100:0}%`}})}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:[v>0?Math.round(f/v*100):0,"% Complete"]})]})]}),(0,t.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Activities"}),(0,t.jsx)("span",{className:"text-2xl",children:"ðŸ—“ï¸"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:[j,"/",N]}),(0,t.jsx)("div",{className:"text-sm text-gray-600 mb-3",children:"Completed"}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 h-2 rounded-full transition-all duration-300",style:{width:`${N>0?j/N*100:0}%`}})}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:[N>0?Math.round(j/N*100):0,"% Complete"]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Recent Updates"}),(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"No recent activity"}),(0,t.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"Activity will appear here as you update your trip"})]})]}),d&&(0,t.jsx)(h.default,{tripId:a.id,isOwner:!0,onClose:()=>x(!1)})]})}function p({params:n}){let{user:i,loading:m}=(0,a.useAuth)(),h=(0,s.useRouter)(),p=(0,r.use)(n),[b,y]=(0,r.useState)(null),[f,v]=(0,r.useState)("itinerary");(0,r.useEffect)(()=>{m||i||h.push("/auth/login")},[i,m,h]),(0,r.useEffect)(()=>{async function t(){if(p.id)try{let{getTrip:t}=await e.A(95997),a=await t(p.id);if(a){try{let e=`trip_${p.id}_edits`,t=JSON.parse(localStorage.getItem(e)||"{}");if(Object.keys(t).length>0){let e=[...a.itinerary];Object.entries(t).forEach(([t,a])=>{if(t.startsWith("day_")){let s=parseInt(t.replace("day_",""));e[s]&&"object"==typeof a&&(e[s]={...e[s],...a})}}),a.itinerary=e}}catch(e){}y(a)}else{let e={id:p.id,title:"My Trip",destination:"Destination",start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+6048e5).toISOString().split("T")[0],description:"Plan your amazing journey",budget:0,currency:"USD",travelers:1,packingList:[],expenses:[],itinerary:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()};y(e)}}catch(e){y({id:p.id,title:"My Trip",destination:"Destination",start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+6048e5).toISOString().split("T")[0],description:"Plan your amazing journey",budget:0,currency:"USD",travelers:1,packingList:[],expenses:[],itinerary:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}}i&&t()},[p.id,i]);let j=async t=>{if(b){y({...b,...t});try{let{updateTrip:a}=await e.A(95997);await a(b.id,t)}catch(e){}}};return m?(0,t.jsx)("div",{className:"min-h-screen bg-bg flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-secondary",children:"Loading itinerary..."})]})}):i&&b?(0,t.jsxs)("div",{className:"min-h-screen bg-bg",children:[(0,t.jsx)(l.default,{user:i}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"mb-8 text-center",children:[(0,t.jsx)("div",{className:"inline-block glass px-6 py-2 rounded-full text-sm font-bold text-primary mb-4 shadow-md",children:b?.destination.toUpperCase()}),(0,t.jsxs)("div",{className:"glass rounded-2xl p-6 max-w-2xl mx-auto shadow-md border border-secondary border-opacity-20",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-primary tracking-wider mb-2",children:b?.title||"TRIP PLANNER"}),(0,t.jsx)("p",{className:"text-secondary",children:b?.description})]})]}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)("div",{className:"glass rounded-xl p-2 shadow-md border border-secondary border-opacity-20 max-w-4xl mx-auto",children:(0,t.jsx)("nav",{className:"flex space-x-2","aria-label":"Tabs",children:[{id:"overview",name:"Overview",icon:"ðŸ“Š"},{id:"itinerary",name:"Itinerary",icon:"ðŸ—“ï¸"},{id:"packing",name:"Packing",icon:"ðŸ§³"},{id:"expenses",name:"Expenses",icon:"ðŸ’°"},{id:"accommodation",name:"Hotels",icon:"ðŸ¨"}].map(e=>(0,t.jsxs)("button",{onClick:()=>v(e.id),className:`
                    flex-1 flex items-center justify-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200
                    ${f===e.id?"btn-primary text-white shadow-md transform scale-105":"text-secondary hover:text-primary hover:bg-accent hover:bg-opacity-10"}
                  `,children:[(0,t.jsx)("span",{className:"mr-2 text-lg",children:e.icon}),(0,t.jsx)("span",{className:"hidden sm:inline",children:e.name})]},e.id))})})}),(0,t.jsxs)("div",{className:"mb-8",children:["overview"===f&&b&&(0,t.jsx)(g,{trip:b,onUpdateTrip:j}),"itinerary"===f&&b&&(0,t.jsx)(c,{itinerary:b.itinerary,tripId:b.id,onAddActivity:async(t,a)=>{try{let{addActivity:s}=await e.A(95997),r=await s(b.id,t+1,a),o=[...b.itinerary];o[t].activities||(o[t].activities=[]),o[t].activities.push(r),j({itinerary:o})}catch(e){}},onEditActivity:async(t,a,s)=>{try{let{updateActivity:r}=await e.A(95997),o=await r(b.id,t+1,a,s),l=[...b.itinerary],n=l[t].activities.findIndex(e=>e.id===a);-1!==n&&(l[t].activities[n]=o,j({itinerary:l}))}catch(e){}},onDeleteActivity:async(t,a)=>{try{let{deleteActivity:s}=await e.A(95997);await s(b.id,t+1,a);let r=[...b.itinerary];r[t].activities=r[t].activities.filter(e=>e.id!==a),j({itinerary:r})}catch(e){}},onSaveNotes:async(t,a)=>{try{let{updateTripDay:s}=await e.A(95997);await s(b.id,t+1,{notes:a});let r=[...b.itinerary];r[t]={...r[t],notes:a},j({itinerary:r})}catch(e){}},onSaveExpense:async(t,a)=>{try{let t={id:crypto.randomUUID(),title:a.title,amount:a.amount,currency:a.currency,category:a.category,date:a.date,description:"",shared:!1},{addExpense:s,getTrip:r}=await e.A(95997);await s(b.id,t);let o=await r(b.id);o&&j(o)}catch(e){}},onUpdateDay:async(t,a)=>{let s=[...b.itinerary];s[t]={...s[t],...a},j({itinerary:s});try{let{updateTripDay:s}=await e.A(95997);await s(b.id,t+1,a)}catch(e){}},onAddDay:()=>{if(!b)return;let e=b.itinerary.length+1,t=(0,o.parseISO)(b.start_date),a=new Date(t);a.setDate(t.getDate()+e-1);let s={day:e,date:a.toISOString().split("T")[0],activities:[],notes:"",actualSpent:0};j({itinerary:[...b.itinerary,s]})},onDeleteDay:async t=>{try{let a=b.itinerary[t],{deleteTripDay:s}=await e.A(95997);await s(b.id,a.day);let r=[...b.itinerary];r.splice(t,1);let o=r.map((e,t)=>({...e,day:t+1}));j({itinerary:o})}catch(e){}}}),"packing"===f&&b&&(0,t.jsx)(d,{packingList:b.packingList,onUpdatePackingList:async t=>{y({...b,packingList:t});try{let{savePackingList:a}=await e.A(95997);await a(b.id,t)}catch(e){}}}),"expenses"===f&&b&&(0,t.jsx)(x,{expenses:b.expenses,budget:b.budget||0,currency:b.currency,onUpdateExpenses:e=>j({expenses:e})}),"accommodation"===f&&b&&(0,t.jsx)(u,{itinerary:b.itinerary,onUpdateItinerary:e=>j({itinerary:e})})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{onClick:()=>h.push("/dashboard"),className:"btn-primary px-8 py-3 rounded-lg font-semibold focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"â† Back to Dashboard"})})]})]}):null}e.s(["default",()=>p],75220)}]);