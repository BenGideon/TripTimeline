module.exports=[73121,a=>{"use strict";var b=a.i(32360),c=a.i(43505),d=a.i(13801),e=a.i(21805),f=a.i(58223),g=a.i(32190),h=a.i(57881);function i({trip:a,onDelete:c,onManageCollaborators:d,onEdit:i}){let[j,k]=(0,e.useState)(!1),l=(0,e.useRef)(null),m=(0,f.parseISO)(a.start_date),n=(0,f.parseISO)(a.end_date),o=(0,h.differenceInDays)(n,m)+1,p=m>new Date,q=m<=new Date&&n>=new Date;return(0,e.useEffect)(()=>{function a(a){l.current&&!l.current.contains(a.target)&&k(!1)}if(j)return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[j]),(0,b.jsxs)("div",{className:"glass rounded-xl shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 group overflow-visible relative",children:[(0,b.jsxs)("div",{className:"h-48 travel-gradient relative overflow-hidden rounded-t-xl",children:[a.cover_image?(0,b.jsx)("img",{src:a.cover_image,alt:a.title,className:"w-full h-full object-cover"}):null,(0,b.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,b.jsxs)("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-start",children:[q?(0,b.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-secondary bg-opacity-20 text-secondary border border-secondary border-opacity-30",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 bg-secondary rounded-full mr-1.5 animate-pulse"}),"Ongoing"]}):p?(0,b.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-accent bg-opacity-20 text-accent border border-accent border-opacity-30",children:[(0,b.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Upcoming"]}):(0,b.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary bg-opacity-20 text-primary border border-primary border-opacity-30",children:[(0,b.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Completed"]}),(0,b.jsx)("button",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-full hover:bg-white/30 transition-colors",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),(0,b.jsxs)("div",{className:"absolute bottom-4 left-4 right-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-1 group-hover:text-accent transition-colors",children:a.title}),(0,b.jsxs)("div",{className:"flex items-center text-white/90",children:[(0,b.jsxs)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,b.jsx)("span",{className:"text-sm",children:a.destination})]})]})]}),(0,b.jsxs)("div",{className:"p-6 overflow-hidden",children:[a.description&&(0,b.jsx)("p",{className:"text-secondary text-sm mb-4 line-clamp-2",children:a.description}),(0,b.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center text-secondary",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,b.jsx)("span",{children:"Duration"})]}),(0,b.jsxs)("span",{className:"font-medium text-primary",children:[o," ",1===o?"day":"days"]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center text-secondary",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsx)("span",{children:"Dates"})]}),(0,b.jsxs)("span",{className:"font-medium text-primary",children:[(0,g.format)(m,"MMM d")," - ",(0,g.format)(n,"MMM d, yyyy")]})]})]}),(0,b.jsxs)("div",{className:"flex space-x-3",children:[(0,b.jsx)("a",{href:`/itinerary/${a.id}`,className:"flex-1 btn-primary py-2.5 px-4 rounded-lg font-medium focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 text-center",children:"View Itinerary"}),(0,b.jsxs)("div",{className:"relative",ref:l,children:[(0,b.jsx)("button",{onClick:()=>k(!j),className:"p-2.5 bg-accent bg-opacity-20 hover:bg-opacity-30 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-accent",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),j&&(0,b.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-48 glass rounded-lg shadow-md py-1 z-10",children:[(0,b.jsxs)("button",{onClick:()=>{k(!1),i&&i(a.id)},className:"w-full text-left px-4 py-2 text-sm text-primary hover:bg-accent hover:bg-opacity-10 flex items-center",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Trip"]}),d&&(0,b.jsxs)("button",{onClick:()=>{k(!1),d(a.id)},className:"w-full text-left px-4 py-2 text-sm text-primary hover:bg-accent hover:bg-opacity-10 flex items-center",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"Manage Collaborators"]}),c&&(0,b.jsxs)("button",{onClick:()=>{k(!1),window.confirm(`Are you sure you want to delete "${a.title}"? This action cannot be undone.`)&&c(a.id)},className:"w-full text-left px-4 py-2 text-sm text-primary hover:bg-accent hover:bg-opacity-10 flex items-center",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Trip"]})]})]})]})]})]})}function j({isOpen:c,onClose:d,onTripCreated:f}){let[g,h]=(0,e.useState)({title:"",destination:"",start_date:"",end_date:"",description:""}),[i,j]=(0,e.useState)(!1),k=async b=>{b.preventDefault(),j(!0);try{let{createTrip:b}=await a.A(63588),c={id:await b({title:g.title,destination:g.destination,start_date:g.start_date,end_date:g.end_date,description:g.description||"",currency:"USD",travelers:1}),...g,created_at:new Date().toISOString()};f(c),h({title:"",destination:"",start_date:"",end_date:"",description:""})}catch(b){console.error("Error creating trip:",b);let a=b instanceof Error?b.message:"Unknown error occurred";alert(`Failed to create trip: ${a}`)}finally{j(!1)}},l=a=>{h({...g,[a.target.name]:a.target.value})};return c?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,b.jsxs)("div",{className:"bg-bg rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-accent border-opacity-20",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-primary",children:"Create New Trip"}),(0,b.jsx)("button",{onClick:d,className:"p-2 hover:bg-accent hover:bg-opacity-10 rounded-full transition-colors",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsxs)("form",{onSubmit:k,className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"title",className:"block text-sm font-semibold text-primary mb-2",children:"Trip Title *"}),(0,b.jsx)("input",{type:"text",id:"title",name:"title",value:g.title,onChange:l,required:!0,className:"w-full px-4 py-3 border border-secondary border-opacity-20 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200",placeholder:"e.g., Summer in Japan"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"destination",className:"block text-sm font-semibold text-primary mb-2",children:"Destination *"}),(0,b.jsx)("input",{type:"text",id:"destination",name:"destination",value:g.destination,onChange:l,required:!0,className:"w-full px-4 py-3 border border-secondary border-opacity-20 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200",placeholder:"e.g., Tokyo, Japan"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"start_date",className:"block text-sm font-semibold text-primary mb-2",children:"Start Date *"}),(0,b.jsx)("input",{type:"date",id:"start_date",name:"start_date",value:g.start_date,onChange:l,required:!0,className:"w-full px-4 py-3 border border-secondary border-opacity-20 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"end_date",className:"block text-sm font-semibold text-primary mb-2",children:"End Date *"}),(0,b.jsx)("input",{type:"date",id:"end_date",name:"end_date",value:g.end_date,onChange:l,required:!0,min:g.start_date,className:"w-full px-4 py-3 border border-secondary border-opacity-20 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"description",className:"block text-sm font-semibold text-primary mb-2",children:"Description"}),(0,b.jsx)("textarea",{id:"description",name:"description",value:g.description,onChange:l,rows:3,className:"w-full px-4 py-3 border border-secondary border-opacity-20 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 resize-none",placeholder:"Tell us about your trip..."})]}),(0,b.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:d,className:"flex-1 px-4 py-3 border border-secondary border-opacity-30 text-secondary rounded-lg font-semibold hover:bg-secondary hover:bg-opacity-5 focus:outline-none focus:ring-2 focus:ring-secondary focus:ring-offset-2 transition-all duration-200",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:i,className:"flex-1 btn-primary py-3 px-4 rounded-lg font-semibold focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:i?(0,b.jsxs)("div",{className:"flex items-center justify-center",children:[(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):"Create Trip"})]})]})]})}):null}var k=a.i(24140),l=a.i(67849);function m(){let{user:g,loading:h,signOut:m}=(0,c.useAuth)(),n=(0,d.useRouter)(),[o,p]=(0,e.useState)([]),[q,r]=(0,e.useState)(!0),[s,t]=(0,e.useState)([]),[u,v]=(0,e.useState)(!1),[w,x]=(0,e.useState)(!1),[y,z]=(0,e.useState)(!1),[A,B]=(0,e.useState)(""),[C,D]=(0,e.useState)(null),[E,F]=(0,e.useState)({title:"",description:"",start_date:"",end_date:""});return((0,e.useEffect)(()=>{h||g||n.push("/auth/login")},[g,h,n]),(0,e.useEffect)(()=>{!async function(){if(g){r(!0);try{let{getUserTrips:b}=await a.A(63588),{getTripInvitations:c}=await a.A(25144),[d,e]=await Promise.all([b(),c()]);p(d),t(e)}catch(a){p([]),t([])}finally{r(!1)}}}()},[g]),h)?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#fefae0"},children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderBottomColor:"#0a400c"}}),(0,b.jsx)("p",{style:{color:"#819067"},children:"Loading your dashboard..."})]})}):g?(0,b.jsxs)("div",{className:"min-h-screen bg-bg",children:[(0,b.jsx)(l.default,{user:g}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"travel-gradient rounded-2xl p-12 text-white mb-12 shadow-lg",children:[(0,b.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold mb-3",children:["Welcome back,"," ",g.user_metadata?.display_name||g.email?.split("@")[0],"! âœˆï¸"]}),(0,b.jsx)("p",{className:"text-lg opacity-90",children:"Ready to plan your next adventure?"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,b.jsx)("div",{className:"glass rounded-xl p-6 shadow-md",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"p-3 bg-primary bg-opacity-10 rounded-full",children:(0,b.jsx)("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-secondary",children:"Total Trips"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-primary",children:o.length})]})]})}),(0,b.jsx)("div",{className:"glass rounded-xl p-6 shadow-md",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"p-3 bg-secondary bg-opacity-10 rounded-full",children:(0,b.jsx)("svg",{className:"w-6 h-6 text-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-secondary",children:"Upcoming Trips"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-primary",children:o.filter(a=>(0,f.parseISO)(a.start_date)>new Date).length})]})]})})]}),s.length>0&&(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Trip Invitations"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(c=>(0,b.jsxs)("div",{className:"glass rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-primary mb-2",children:c.trip?.title||"Trip"}),(0,b.jsxs)("p",{className:"text-sm text-secondary mb-1",children:["ðŸ“ ",c.trip?.destination||"Destination"]}),(0,b.jsxs)("p",{className:"text-sm text-secondary",children:["ðŸ“…"," ",c.trip?.start_date?(0,f.parseISO)(c.trip.start_date).toLocaleDateString():"Date"]}),c.inviter_profile&&(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Invited by:"," ",c.inviter_profile.full_name||c.inviter_profile.email||"Someone"]})]}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)("button",{type:"button",onClick:async()=>{try{let{acceptTripInvitation:b,getTripInvitations:d}=await a.A(25144),{getUserTrips:e}=await a.A(63588);await b(c.id);let[f,g]=await Promise.all([e(),d()]);p(f),t(g)}catch(a){alert("Failed to accept invitation")}},className:"flex-1 btn-primary px-4 py-2 rounded-lg font-medium transition-colors",children:"Accept"}),(0,b.jsx)("button",{type:"button",onClick:async()=>{try{let{declineTripInvitation:b}=await a.A(25144);await b(c.id),t(s.filter(a=>a.id!==c.id))}catch(a){alert("Failed to decline invitation")}},className:"flex-1 glass text-secondary px-4 py-2 rounded-lg font-medium transition-colors",children:"Decline"})]})]},c.id))})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-primary",children:"Your Trips"}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("a",{href:"/friends",className:"glass text-primary px-6 py-3 rounded-lg font-semibold hover:bg-accent hover:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 shadow-md hover:shadow-lg",children:"ðŸ‘¥ Friends"}),(0,b.jsx)("button",{onClick:()=>v(!0),className:"btn-primary px-6 py-3 rounded-lg font-semibold focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"+ Create New Trip"})]})]}),q?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(a=>(0,b.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[(0,b.jsx)("div",{className:"h-32 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg mb-4"}),(0,b.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-3"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-4"}),(0,b.jsx)("div",{className:"h-10 bg-gray-200 rounded"})]},a))}):o.length>0?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(c=>(0,b.jsx)(i,{trip:c,onEdit:a=>{let b=o.find(b=>b.id===a);if(b){D(b);let a=a=>a.includes("T")?a.split("T")[0]:a;F({title:b.title,description:b.description||"",start_date:a(b.start_date),end_date:a(b.end_date)}),z(!0)}},onManageCollaborators:a=>{B(a),x(!0)},onDelete:async b=>{try{let{deleteTrip:c}=await a.A(63588);await c(b),p(o.filter(a=>a.id!==b));try{localStorage.removeItem(`trip_${b}_edits`)}catch(a){}}catch(a){alert("Failed to delete trip. Please try again.")}}},c.id))}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No trips yet"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"Start planning your first adventure!"}),(0,b.jsx)("button",{onClick:()=>v(!0),className:"btn-primary px-6 py-3 rounded-lg font-semibold focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Create Your First Trip"})]})]}),u&&(0,b.jsx)(j,{isOpen:u,onClose:()=>v(!1),onTripCreated:a=>{p([...o,a]),v(!1)}}),y&&C&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md mx-4 shadow-xl",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Edit Trip"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Title"}),(0,b.jsx)("input",{type:"text",value:E.title,onChange:a=>F({...E,title:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:E.description,onChange:a=>F({...E,description:a.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),(0,b.jsx)("input",{type:"date",value:E.start_date,onChange:a=>F({...E,start_date:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),(0,b.jsx)("input",{type:"date",value:E.end_date,onChange:a=>F({...E,end_date:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),(0,b.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,b.jsx)("button",{onClick:()=>z(!1),className:"flex-1 px-4 py-2 border border-secondary border-opacity-30 text-secondary rounded-lg hover:bg-secondary hover:bg-opacity-5 transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:async()=>{try{if(!E.start_date||!E.end_date)return void alert("Please fill in all fields");let{updateTrip:b}=await a.A(63588),c={...E,start_date:E.start_date,end_date:E.end_date};await b(C.id,c),p(o.map(a=>a.id===C.id?{...a,...c}:a)),z(!1)}catch(a){alert("Failed to update trip")}},className:"flex-1 btn-primary px-4 py-2 rounded-lg transition-all",children:"Save Changes"})]})]})}),w&&A&&(0,b.jsx)(k.default,{tripId:A,isOwner:!0,onClose:()=>{x(!1),B("")}})]}):null}a.s(["default",()=>m],73121)}];

//# sourceMappingURL=All%20Git%20Clones_Travel%20Planner_triptimeline_src_app_dashboard_page_tsx_05193fc4._.js.map