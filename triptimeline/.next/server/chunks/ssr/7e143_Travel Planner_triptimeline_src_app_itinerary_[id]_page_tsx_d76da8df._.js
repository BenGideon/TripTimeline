module.exports=[90628,a=>{"use strict";var b=a.i(32360),c=a.i(43505),d=a.i(13801),e=a.i(21805),f=a.i(58223),g=a.i(67849),h=a.i(32190);function i({media:a,dayIndex:c,currentIndex:d,onIndexChange:f,onDelete:g}){let[h,i]=(0,e.useState)(0),[j,k]=(0,e.useState)(0),[l,m]=(0,e.useState)(!1);if(!a||0===a.length)return null;let n=a[d||0],o=a.length,p=()=>{f(c,d>0?d-1:o-1)},q=()=>{f(c,d<o-1?d+1:0)},r=async()=>{if(g&&n&&confirm("Delete this photo/video?")){m(!0);try{await g(n.id)}catch(a){console.error("Error deleting media:",a),alert("Failed to delete media")}finally{m(!1)}}};return(0,b.jsxs)("div",{className:"relative w-full bg-gray-900 rounded-lg overflow-hidden",children:[(0,b.jsxs)("div",{className:"relative w-full aspect-video bg-black",onTouchStart:a=>{i(a.targetTouches[0].clientX)},onTouchEnd:a=>{k(a.changedTouches[0].clientX),h-j>50&&q(),j-h>50&&p()},children:["image"===n.type?(0,b.jsx)("img",{src:n.url,alt:n.title,className:"w-full h-full object-cover"}):(0,b.jsx)("video",{src:n.url,className:"w-full h-full object-cover",controls:!0}),(0,b.jsx)("button",{onClick:p,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/30 hover:bg-white/50 text-white p-3 rounded-full transition-all z-10",children:"â€¹"}),(0,b.jsx)("button",{onClick:q,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/30 hover:bg-white/50 text-white p-3 rounded-full transition-all z-10",children:"â€º"}),(0,b.jsxs)("div",{className:"absolute top-4 right-4 bg-black/60 text-white px-3 py-1 rounded-full text-sm font-medium",children:[d+1," / ",o]}),g&&(0,b.jsx)("button",{onClick:r,disabled:l,className:"absolute top-4 left-4 text-white p-2 rounded-full transition-all z-10 disabled:opacity-50",style:{backgroundColor:"rgba(10, 64, 12, 0.8)"},onMouseEnter:a=>a.target.style.backgroundColor="rgba(129, 144, 103, 0.9)",onMouseLeave:a=>a.target.style.backgroundColor="rgba(10, 64, 12, 0.8)",title:"Delete this photo/video",children:"ðŸ—‘ï¸"})]}),o>1&&(0,b.jsx)("div",{className:"flex gap-2 p-3 bg-gray-800 overflow-x-auto",children:a.map((a,e)=>(0,b.jsx)("button",{onClick:()=>f(c,e),className:`flex-shrink-0 w-12 h-12 rounded-md overflow-hidden transition-all ${e===d?"ring-2 ring-white opacity-100":"opacity-60 hover:opacity-80"}`,children:"image"===a.type?(0,b.jsx)("img",{src:a.url,alt:a.title,className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-white text-xl",children:"â–¶"})})},a.id))})]})}function j({itinerary:c,tripId:d,onAddActivity:g,onEditActivity:j,onDeleteActivity:k,onSaveNotes:l,onSaveExpense:m,onUpdateDay:n,onAddDay:o,onDeleteDay:p}){let[q,r]=(0,e.useState)(new Set([0])),[s,t]=(0,e.useState)(null),[u,v]=(0,e.useState)(""),[w,x]=(0,e.useState)(null),[y,z]=(0,e.useState)(""),[A,B]=(0,e.useState)(""),[C,D]=(0,e.useState)("sightseeing"),[E,F]=(0,e.useState)("morning"),[G,H]=(0,e.useState)(""),[I,J]=(0,e.useState)(""),[K,L]=(0,e.useState)(""),[M,N]=(0,e.useState)(null),[O,P]=(0,e.useState)(""),[Q,R]=(0,e.useState)(null),[S,T]=(0,e.useState)(""),[U,V]=(0,e.useState)(""),[W,X]=(0,e.useState)("food"),[Y,Z]=(0,e.useState)(!1),[$,_]=(0,e.useState)(!1),[aa,ab]=(0,e.useState)(!1),[ac,ad]=(0,e.useState)(null),[ae,af]=(0,e.useState)(null),[ag,ah]=(0,e.useState)(null),[ai,aj]=(0,e.useState)(!1),[ak,al]=(0,e.useState)({}),[am,an]=(0,e.useState)({});(0,e.useEffect)(()=>{(async()=>{if(d&&0!==c.length)try{let{getMediaForDay:b}=await a.A(63588),e={};for(let a=0;a<c.length;a++){let c=await b(d,a+1);e[a]=c}al(e)}catch(a){}})()},[d,c.length]);let ao=()=>{z(""),B(""),D("sightseeing"),F("morning"),H(""),J(""),L(""),Z(!1)},ap=(a,b)=>{Z(!1),b?(x({dayIndex:a,activity:b}),z(b.title),B(b.time||""),D(b.category),F(b.type||"morning"),H(b.location||""),J(b.description||""),L(void 0!==b.cost&&null!==b.cost?String(b.cost):"")):(ao(),x({dayIndex:a}))},aq=()=>{x(null),ao()},ar=async()=>{if(!w||""===y.trim())return;let a=y.trim(),b=A.trim(),c=""===K.trim()?void 0:Number(K),d=void 0===c||Number.isNaN(c)?void 0:c,e={title:a,time:b,type:E,category:C,description:I.trim()||void 0,location:G.trim()||void 0,cost:d};Z(!0);try{w.activity?await j(w.dayIndex,w.activity.id,e):await g(w.dayIndex,e),aq()}catch(a){}finally{Z(!1)}},as=async(a,b)=>{if(window.confirm("Delete this activity?"))try{await k(a,b)}catch(a){}},at=()=>{N(null),P("")},au=async()=>{if(M){_(!0);try{l?await l(M.dayIndex,O):n&&await n(M.dayIndex,{notes:O}),at()}catch(a){}finally{_(!1)}}},av=()=>{R(null),T(""),V(""),X("food")},aw=async()=>{if(Q&&S.trim()&&U.trim()){ab(!0);try{let a=parseFloat(U);if(isNaN(a)||a<0)return;m&&await m(Q.dayIndex,{title:S.trim(),amount:a,category:W,currency:"USD",date:new Date().toISOString().split("T")[0]}),av()}catch(a){}finally{ab(!1)}}},ax=async(b,c)=>{if(d){aj(!0);try{let{uploadMedia:e,getMediaForDay:f}=await a.A(63588),g=c.type.startsWith("video")?"video":"image";await e(d,b+1,c,g,c.name);let h=await f(d,b+1);al(a=>({...a,[b]:h}))}catch(a){}finally{aj(!1)}}},ay=()=>{af(null)},az=async(a,b)=>{if(a.preventDefault(),af(null),null===ac||ac===b)return;let d=[...c],e=d[ac];d.splice(ac,1),d.splice(b,0,e);let f=d.map((a,b)=>({...a,day:b+1}));if(n)for(let a=0;a<f.length;a++){let b=f[a];b.day!==c[a].day&&await n(a,{day:b.day})}ad(null)},aA=a=>{if(a.customTitle)return a.customTitle;if(a.activities.length>0){let b=a.activities[0];return b.location||b.title}return`Day ${a.day}`},aB=(a,b,c)=>{t({dayIndex:a,field:b}),v(c)},aC=()=>{s&&n&&("title"===s.field?n(s.dayIndex,{customTitle:u}):"notes"===s.field&&n(s.dayIndex,{notes:u})),t(null),v("")},aD=()=>{t(null),v("")};return 0===c.length?(0,b.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,b.jsxs)("div",{className:"text-center py-16",children:[(0,b.jsx)("div",{className:"w-32 h-32 bg-gradient-to-br from-purple-100 to-blue-100 rounded-full flex items-center justify-center mx-auto mb-8",children:(0,b.jsx)("div",{className:"text-6xl",children:"ðŸ“…"})}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Start Planning Your Journey!"}),(0,b.jsx)("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Create your first day to begin building your amazing itinerary. Add activities, plan your schedule, and make memories!"}),o&&(0,b.jsx)("button",{onClick:o,className:"btn-primary text-white px-8 py-4 rounded-lg font-semibold focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:"âœ¨ Add Your First Day"})]})}):(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute left-8 top-0 bottom-0 w-1 bg-gradient-to-b from-purple-400 via-blue-400 to-green-400 rounded-full shadow-sm"}),(0,b.jsx)("div",{className:"space-y-8",children:c.map((d,e)=>{let g=q.has(e);return c.length,(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute left-6 w-5 h-5 bg-white rounded-full shadow-lg z-10 hover:scale-110 transition-transform duration-200",style:{border:"4px solid #0a400c"}}),(0,b.jsx)("div",{className:"ml-20",children:(0,b.jsxs)("div",{draggable:!0,onDragStart:()=>{ad(e)},onDragOver:a=>{a.preventDefault(),af(e)},onDragLeave:ay,onDrop:a=>az(a,e),className:`glass rounded-xl shadow-md border border-secondary border-opacity-20 overflow-hidden hover:shadow-lg transition-all duration-300 cursor-move ${ac===e?"opacity-50":""} ${ae===e&&ac!==e?"border-primary border-2 bg-primary bg-opacity-5":""}`,children:[(0,b.jsxs)("div",{className:"p-6 cursor-pointer hover:bg-primary hover:bg-opacity-5 transition-colors",onClick:()=>{let a;(a=new Set(q)).has(e)?a.delete(e):a.add(e),r(a)},children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg",children:d.day}),(0,b.jsxs)("div",{children:[s?.dayIndex===e&&s?.field==="title"?(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("input",{type:"text",value:u,onChange:a=>v(a.target.value),onKeyDown:a=>{"Enter"===a.key&&aC(),"Escape"===a.key&&aD()},className:"text-xl font-bold text-gray-900 bg-white rounded-lg px-3 py-1 focus:outline-none",style:{border:"1px solid #819067"},onFocus:a=>a.target.style.boxShadow="0 0 0 2px #0a400c",onBlur:a=>a.target.style.boxShadow="none",autoFocus:!0}),(0,b.jsx)("button",{onClick:aC,className:"p-1 transition-colors",style:{color:"#819067"},onMouseEnter:a=>a.target.style.color="#0a400c",onMouseLeave:a=>a.target.style.color="#819067",children:"âœ“"}),(0,b.jsx)("button",{onClick:aD,className:"p-1 transition-colors",style:{color:"#b1ab86"},onMouseEnter:a=>a.target.style.color="#0a400c",onMouseLeave:a=>a.target.style.color="#b1ab86",children:"âœ•"})]}):(0,b.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center cursor-pointer transition-colors group",style:{color:"#0a400c"},onMouseEnter:a=>a.target.style.color="#819067",onMouseLeave:a=>a.target.style.color="#0a400c",onClick:a=>{a.stopPropagation(),aB(e,"title",aA(d))},children:["ðŸ“ ",aA(d),(0,b.jsx)("span",{className:"ml-2 opacity-0 group-hover:opacity-100 text-sm text-purple-500 transition-opacity",children:"âœï¸"})]}),(0,b.jsx)("p",{className:"text-gray-600 text-sm",children:(0,h.format)((0,f.parseISO)(d.date),"EEEE, MMMM d, yyyy")})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsxs)("span",{className:"px-3 py-1 text-sm font-medium rounded-full",style:{backgroundColor:"#b1ab86",color:"#0a400c"},children:[d.activities.length," ",1===d.activities.length?"Activity":"Activities"]}),d.accommodation&&(0,b.jsx)("span",{className:"px-3 py-1 text-sm font-medium rounded-full",style:{backgroundColor:"#819067",color:"#fefae0"},children:"ðŸ¨ Hotel"}),p&&c.length>1&&(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),window.confirm(`Are you sure you want to delete ${aA(d)}?`)&&p(e)},className:"p-2 rounded-full transition-colors",style:{color:"#b1ab86"},onMouseEnter:a=>{a.target.style.color="#0a400c",a.target.style.backgroundColor="#fefae0"},onMouseLeave:a=>{a.target.style.color="#b1ab86",a.target.style.backgroundColor="transparent"},title:"Delete Day",children:"ðŸ—‘ï¸"})]}),(0,b.jsx)("svg",{className:`w-6 h-6 text-gray-400 transition-transform duration-200 ${g?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),(0,b.jsx)("div",{className:"mt-4",children:s?.dayIndex===e&&s?.field==="notes"?(0,b.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,b.jsx)("textarea",{value:u,onChange:a=>v(a.target.value),onKeyDown:a=>{"Enter"===a.key&&a.ctrlKey&&aC(),"Escape"===a.key&&aD()},className:"flex-1 px-3 py-2 text-gray-700 bg-white rounded-lg focus:outline-none",style:{border:"1px solid #819067"},onFocus:a=>a.target.style.boxShadow="0 0 0 2px #0a400c",onBlur:a=>a.target.style.boxShadow="none",rows:2,autoFocus:!0}),(0,b.jsxs)("div",{className:"flex space-x-1 pt-2",children:[(0,b.jsx)("button",{onClick:aC,className:"p-1 transition-colors",style:{color:"#819067"},onMouseEnter:a=>a.target.style.color="#0a400c",onMouseLeave:a=>a.target.style.color="#819067",children:"âœ“"}),(0,b.jsx)("button",{onClick:aD,className:"p-1 transition-colors",style:{color:"#b1ab86"},onMouseEnter:a=>a.target.style.color="#0a400c",onMouseLeave:a=>a.target.style.color="#b1ab86",children:"âœ•"})]})]}):(0,b.jsxs)("p",{className:"text-gray-700 leading-relaxed cursor-pointer transition-colors group",style:{color:"#0a400c"},onMouseEnter:a=>a.target.style.color="#819067",onMouseLeave:a=>a.target.style.color="#0a400c",onClick:a=>{a.stopPropagation(),aB(e,"notes",d.notes||"Explore and enjoy your day!")},children:[d.notes||"Explore and enjoy your day!",(0,b.jsx)("span",{className:"ml-2 opacity-0 group-hover:opacity-100 text-sm text-purple-500 transition-opacity",children:"âœï¸"})]})})]}),g&&(0,b.jsxs)("div",{className:"border-t border-gray-100",children:[ak[e]&&ak[e].length>0?(0,b.jsx)("div",{className:"p-6 bg-gray-900 border-b border-gray-200",children:(0,b.jsx)(i,{media:ak[e],dayIndex:e,currentIndex:am[e]||0,onIndexChange:(a,b)=>{an(c=>({...c,[a]:b}))},onDelete:async b=>{try{let{deleteMedia:c}=await a.A(63588);await c(b),al(a=>({...a,[e]:a[e].filter(a=>a.id!==b)})),an(a=>({...a,[e]:0}))}catch(a){throw a}}})}):(0,b.jsxs)("div",{className:"h-64 relative overflow-hidden",style:{background:"linear-gradient(135deg, #0a400c 0%, #819067 50%, #b1ab86 100%)"},children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center text-white",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ—¾"}),(0,b.jsxs)("h4",{className:"text-2xl font-bold",children:["Day ",d.day," Adventure"]})]})})]}),d.notes&&(0,b.jsxs)("div",{className:"p-6 border-b",style:{backgroundColor:"#fefae0",borderColor:"#b1ab86"},children:[(0,b.jsx)("h5",{className:"font-semibold text-gray-900 mb-2 flex items-center",children:"ðŸ“ Day Notes"}),(0,b.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed whitespace-pre-wrap",children:d.notes})]}),(0,b.jsx)("div",{className:"p-6 border-b",style:{backgroundColor:"#fefae0",borderColor:"#b1ab86"},children:(0,b.jsxs)("label",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed rounded-xl cursor-pointer transition-colors",style:{borderColor:"#819067"},onMouseEnter:a=>{a.target.style.borderColor="#0a400c",a.target.style.backgroundColor="#b1ab86"},onMouseLeave:a=>{a.target.style.borderColor="#819067",a.target.style.backgroundColor="transparent"},children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("span",{className:"text-2xl",children:"ðŸ“¸"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Upload Photo or Video"})]}),(0,b.jsx)("input",{type:"file",accept:"image/*,video/*",multiple:!0,className:"hidden",onChange:a=>{a.target.files&&Array.from(a.target.files).forEach(a=>{ax(e,a)})},disabled:ai})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[d.activities.length>0?d.activities.map(a=>(0,b.jsxs)("div",{className:"border border-gray-200 rounded-xl p-4 transition-colors",style:{borderColor:"#b1ab86"},onMouseEnter:a=>a.target.style.borderColor="#819067",onMouseLeave:a=>a.target.style.borderColor="#b1ab86",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"text-2xl",children:(a=>{switch(a){case"transport":return"âœˆï¸";case"accommodation":return"ðŸ¨";case"sightseeing":return"ðŸ—¾";case"food":return"ðŸœ";case"shopping":return"ðŸ›ï¸";case"entertainment":return"ðŸŽ­";default:return"ðŸ“"}})(a.category)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h5",{className:"font-semibold text-gray-900",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:a.time})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${(a=>{switch(a){case"transport":case"food":return"bg-primary bg-opacity-10 text-primary border-primary border-opacity-30";case"accommodation":case"shopping":return"bg-secondary bg-opacity-10 text-secondary border-secondary border-opacity-30";case"sightseeing":case"entertainment":return"bg-accent bg-opacity-10 text-accent border-accent border-opacity-30";default:return"bg-primary bg-opacity-5 text-primary border-primary border-opacity-20"}})(a.category)}`,children:a.category}),void 0!==a.cost&&null!==a.cost&&(0,b.jsxs)("span",{className:"px-3 py-1 text-xs font-medium rounded-full",style:{backgroundColor:"#b1ab86",color:"#0a400c"},children:["$",a.cost]}),(0,b.jsx)("button",{onClick:()=>ap(e,a),className:"p-2 rounded-full transition-colors",style:{color:"#819067"},onMouseEnter:a=>{a.target.style.color="#0a400c",a.target.style.backgroundColor="#fefae0"},onMouseLeave:a=>{a.target.style.color="#819067",a.target.style.backgroundColor="transparent"},title:"Edit Activity",children:"âœï¸"}),(0,b.jsx)("button",{onClick:()=>as(e,a.id),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-full transition-colors",title:"Delete Activity",children:"ðŸ—‘ï¸"})]})]}),a.description&&(0,b.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed mb-3",children:a.description}),a.location&&(0,b.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,b.jsxs)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),a.location]})]},a.id)):(0,b.jsxs)("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-xl",children:[(0,b.jsx)("div",{className:"text-4xl mb-4",children:"ðŸ“"}),(0,b.jsx)("h5",{className:"font-medium text-primary mb-2",children:"No activities planned"}),(0,b.jsx)("p",{className:"text-secondary text-sm mb-4",children:"Add activities to make the most of this day"}),(0,b.jsx)("button",{onClick:()=>ap(e),className:"btn-primary text-white px-6 py-2 rounded-lg font-medium transition-all duration-200",children:"+ Add Activity"})]}),d.accommodation&&(0,b.jsxs)("div",{className:"rounded-xl p-4",style:{backgroundColor:"#fefae0",border:"1px solid #819067"},children:[(0,b.jsx)("h5",{className:"font-semibold text-gray-900 mb-2 flex items-center",children:"ðŸ¨ Accommodation"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"font-medium text-gray-900",children:d.accommodation.name}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:d.accommodation.address}),(0,b.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,b.jsxs)("span",{className:"text-gray-600",children:["Check-in:"," ",(0,h.format)((0,f.parseISO)(d.accommodation.checkIn),"MMM d")]}),(0,b.jsxs)("span",{className:"text-gray-600",children:["Check-out:"," ",(0,h.format)((0,f.parseISO)(d.accommodation.checkOut),"MMM d")]}),(0,b.jsxs)("span",{className:"font-medium",style:{color:"#819067"},children:["$",d.accommodation.cost]})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-gray-100",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"text-lg font-bold",style:{color:"#0a400c"},children:["$",d.actualSpent||0]}),(0,b.jsx)("div",{className:"text-xs text-gray-600",children:"Spent"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"text-lg font-bold",style:{color:"#819067"},children:[d.activities.reduce((a,b)=>a+(b.duration||0),0),"m"]}),(0,b.jsx)("div",{className:"text-xs text-gray-600",children:"Duration"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"text-lg font-bold",style:{color:"#819067"},children:[d.activities.filter(a=>a.completed).length,"/",d.activities.length]}),(0,b.jsx)("div",{className:"text-xs text-gray-600",children:"Complete"})]})]}),(0,b.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,b.jsx)("button",{onClick:()=>ap(e),className:"flex-1 btn-primary text-white py-2 px-4 rounded-lg font-medium transition-all duration-200",children:"+ Add Activity"}),(0,b.jsx)("button",{onClick:()=>{N({dayIndex:e}),P(c[e]?.notes||"")},className:"flex-1 glass text-primary py-2 px-4 rounded-lg font-medium hover:bg-accent hover:bg-opacity-10 transition-colors",children:"ðŸ“ Add Notes"}),(0,b.jsx)("button",{onClick:()=>{R({dayIndex:e}),T(""),V(""),X("food")},className:"flex-1 glass text-primary py-2 px-4 rounded-lg font-medium hover:bg-accent hover:bg-opacity-10 transition-colors",children:"ðŸ’° Add Expense"})]})]})]})]})})]},e)})}),o&&(0,b.jsxs)("div",{className:"relative ml-20 mt-8",children:[(0,b.jsx)("div",{className:"absolute left-[-52px] w-5 h-5 bg-primary border-4 border-bg rounded-full shadow-lg"}),(0,b.jsx)("div",{className:"glass rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300 border border-secondary border-opacity-20",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-4xl mb-4",children:"âž•"}),(0,b.jsx)("h3",{className:"text-xl font-bold text-primary mb-2",children:"Add Another Day"}),(0,b.jsx)("p",{className:"text-secondary mb-4",children:"Continue your adventure with more activities!"}),(0,b.jsxs)("button",{onClick:o,className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:["+ Add Day ",c.length+1]})]})})]}),(0,b.jsxs)("div",{className:"relative ml-20 mt-8",children:[(0,b.jsx)("div",{className:"absolute left-[-52px] w-5 h-5 border-4 border-white rounded-full shadow-lg",style:{backgroundColor:"#819067"}}),(0,b.jsx)("div",{className:"text-white p-6 rounded-2xl shadow-lg",style:{background:"linear-gradient(135deg, #819067 0%, #0a400c 100%)"},children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-4xl mb-4",children:"ðŸŽ‰"}),(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Journey Complete!"}),(0,b.jsx)("p",{className:"text-green-100",children:"What an amazing adventure you've had!"})]})})]})]}),w&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,b.jsxs)("div",{className:"bg-white/95 backdrop-blur-lg rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-white/20",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:[w.activity?"Edit Activity":"Add Activity"," Â· Day ",w.dayIndex+1]}),(0,b.jsx)("button",{onClick:aq,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),(0,b.jsx)("input",{type:"text",value:y,onChange:a=>z(a.target.value),placeholder:"e.g., Morning Hike",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80",autoFocus:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time & Location"}),(0,b.jsx)("input",{type:"text",value:A,onChange:a=>B(a.target.value),placeholder:"e.g., 9:00 AM Â· Zion National Park",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type of Day"}),(0,b.jsxs)("select",{value:E,onChange:a=>F(a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80",children:[(0,b.jsx)("option",{value:"morning",children:"Morning"}),(0,b.jsx)("option",{value:"afternoon",children:"Afternoon"}),(0,b.jsx)("option",{value:"evening",children:"Evening"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,b.jsxs)("select",{value:C,onChange:a=>D(a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80",children:[(0,b.jsx)("option",{value:"sightseeing",children:"Sightseeing"}),(0,b.jsx)("option",{value:"food",children:"Food"}),(0,b.jsx)("option",{value:"transport",children:"Transport"}),(0,b.jsx)("option",{value:"accommodation",children:"Accommodation"}),(0,b.jsx)("option",{value:"shopping",children:"Shopping"}),(0,b.jsx)("option",{value:"entertainment",children:"Entertainment"}),(0,b.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,b.jsx)("input",{type:"text",value:G,onChange:a=>H(a.target.value),placeholder:"Optional location details",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,b.jsx)("textarea",{value:I,onChange:a=>J(a.target.value),rows:3,placeholder:"Share details to remember",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Cost"}),(0,b.jsx)("input",{type:"number",min:"0",value:K,onChange:a=>L(a.target.value),placeholder:"Optional cost",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80"})]}),(0,b.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,b.jsx)("button",{onClick:aq,className:"flex-1 px-4 py-3 border border-secondary border-opacity-30 text-secondary rounded-lg hover:bg-secondary hover:bg-opacity-5 transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:ar,className:"flex-1 btn-primary py-3 px-4 rounded-lg font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",disabled:""===y.trim()||Y,children:Y?"Saving...":"Save Activity"})]})]})]})}),M&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,b.jsxs)("div",{className:"bg-white/95 backdrop-blur-lg rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-white/20",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:["ðŸ“ Day Notes Â· Day ",M.dayIndex+1]}),(0,b.jsx)("button",{onClick:at,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,b.jsx)("textarea",{value:O,onChange:a=>P(a.target.value),rows:5,placeholder:"Add notes about this day...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80",autoFocus:!0})]}),(0,b.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,b.jsx)("button",{onClick:at,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:au,className:"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",disabled:$,children:$?"Saving...":"Save Notes"})]})]})]})}),Q&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,b.jsxs)("div",{className:"bg-white/95 backdrop-blur-lg rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-white/20",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:["ðŸ’° Add Expense Â· Day ",Q.dayIndex+1]}),(0,b.jsx)("button",{onClick:av,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,b.jsx)("input",{type:"text",value:S,onChange:a=>T(a.target.value),placeholder:"e.g., Lunch at restaurant",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80",autoFocus:!0})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount *"}),(0,b.jsx)("input",{type:"number",min:"0",step:"0.01",value:U,onChange:a=>V(a.target.value),placeholder:"0.00",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,b.jsxs)("select",{value:W,onChange:a=>X(a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80",children:[(0,b.jsx)("option",{value:"food",children:"ðŸ½ï¸ Food"}),(0,b.jsx)("option",{value:"transport",children:"ðŸš— Transport"}),(0,b.jsx)("option",{value:"accommodation",children:"ðŸ¨ Accommodation"}),(0,b.jsx)("option",{value:"shopping",children:"ðŸ›ï¸ Shopping"}),(0,b.jsx)("option",{value:"activities",children:"ðŸŽ­ Activities"}),(0,b.jsx)("option",{value:"other",children:"ðŸ“Œ Other"})]})]})]}),(0,b.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,b.jsx)("button",{onClick:av,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:aw,className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!S.trim()||!U.trim()||aa,children:aa?"Saving...":"Add Expense"})]})]})]})})]})}function k({packingList:a,onUpdatePackingList:c}){let[d,f]=(0,e.useState)(!1),[g,h]=(0,e.useState)({name:"",category:"other",quantity:1,essential:!1,notes:""}),[i,j]=(0,e.useState)("all"),k=[{id:"clothing",name:"Clothing",icon:"ðŸ‘•",color:"text-primary",bgColor:"#fefae0"},{id:"electronics",name:"Electronics",icon:"ðŸ“±",color:"text-secondary",bgColor:"#fefae0"},{id:"toiletries",name:"Toiletries",icon:"ðŸ§´",color:"text-accent",bgColor:"#fefae0"},{id:"documents",name:"Documents",icon:"ðŸ“„",color:"text-primary",bgColor:"#b1ab86"},{id:"medications",name:"Medications",icon:"ðŸ’Š",color:"text-secondary",bgColor:"#b1ab86"},{id:"accessories",name:"Accessories",icon:"ðŸ‘œ",color:"text-accent",bgColor:"#819067"},{id:"other",name:"Other",icon:"ðŸ“¦",color:"text-primary",bgColor:"#819067"}],l=a.filter(a=>{switch(i){case"packed":return a.packed;case"unpacked":return!a.packed;case"essential":return a.essential;default:return!0}}),m=k.reduce((a,b)=>(a[b.id]=l.filter(a=>a.category===b.id),a),{}),n=a.filter(a=>a.packed).length,o=a.length,p=a.filter(a=>a.essential&&!a.packed).length;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Packing List"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Keep track of everything you need"})]}),(0,b.jsx)("button",{onClick:()=>f(!0),className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"+ Add Item"})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Progress: ",n,"/",o," items packed"]}),(0,b.jsxs)("span",{className:"text-sm font-medium text-purple-600",children:[o>0?Math.round(n/o*100):0,"%"]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-3 rounded-full transition-all duration-500",style:{width:`${o>0?n/o*100:0}%`}})}),p>0&&(0,b.jsxs)("p",{className:"text-sm mt-2",style:{color:"#0a400c"},children:["âš ï¸ ",p," essential item",p>1?"s":""," still need",1===p?"s":""," to be packed"]})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:[{id:"all",name:"All Items",count:a.length},{id:"unpacked",name:"To Pack",count:a.length-n},{id:"packed",name:"Packed",count:n},{id:"essential",name:"Essential",count:a.filter(a=>a.essential).length}].map(a=>(0,b.jsxs)("button",{onClick:()=>j(a.id),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${i===a.id?"bg-purple-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[a.name," (",a.count,")"]},a.id))})]}),d&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,b.jsxs)("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl max-w-md w-full p-6 border border-white/20",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Add Packing Item"}),(0,b.jsx)("button",{onClick:()=>f(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("input",{type:"text",value:g.name,onChange:a=>h({...g,name:a.target.value}),placeholder:"Item name",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),(0,b.jsx)("select",{value:g.category,onChange:a=>h({...g,category:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:k.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.icon," ",a.name]},a.id))}),(0,b.jsx)("input",{type:"number",value:g.quantity,onChange:a=>h({...g,quantity:Math.max(1,parseInt(a.target.value)||1)}),placeholder:"Quantity",min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),(0,b.jsx)("textarea",{value:g.notes,onChange:a=>h({...g,notes:a.target.value}),placeholder:"Notes (optional)",rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"}),(0,b.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,b.jsx)("input",{type:"checkbox",checked:g.essential,onChange:a=>h({...g,essential:a.target.checked}),className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Mark as essential"})]}),(0,b.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,b.jsx)("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{g.name.trim()&&(c([...a,{id:Date.now().toString(),...g,name:g.name.trim(),packed:!1}]),h({name:"",category:"other",quantity:1,essential:!1,notes:""}),f(!1))},className:"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200",children:"Add Item"})]})]})]})}),(0,b.jsx)("div",{className:"space-y-6",children:k.map(d=>{let e=m[d.id];return 0===e.length?null:(0,b.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("span",{className:"text-2xl",children:d.icon}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:d.name}),(0,b.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:d.bgColor,color:"text-primary"===d.color?"#0a400c":"text-secondary"===d.color?"#819067":"#b1ab86"},children:[e.filter(a=>a.packed).length,"/",e.length]})]})}),(0,b.jsx)("div",{className:"space-y-3",children:e.map(d=>(0,b.jsxs)("div",{className:`flex items-center justify-between p-4 rounded-xl border-2 transition-all duration-200 ${d.packed?"border-green-200 opacity-75":d.essential?"border-primary":"bg-gray-50 border-gray-200"}`,style:{backgroundColor:d.packed?"#b1ab86":(d.essential,"#fefae0"),borderColor:d.packed?"#819067":d.essential?"#0a400c":"#819067"},children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("button",{onClick:()=>{var b;return b=d.id,void c(a.map(a=>a.id===b?{...a,packed:!a.packed}:a))},className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${d.packed?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-purple-500"}`,children:d.packed&&(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("span",{className:`font-medium ${d.packed?"line-through text-gray-500":"text-gray-900"}`,children:d.name}),d.essential&&(0,b.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full",style:{backgroundColor:"#b1ab86",color:"#0a400c"},children:"Essential"}),d.quantity>1&&(0,b.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded-full",children:["x",d.quantity]})]}),d.notes&&(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:d.notes})]})]}),(0,b.jsx)("button",{onClick:()=>{var b;return b=d.id,void c(a.filter(a=>a.id!==b))},className:"p-2 rounded-lg transition-colors",style:{color:"#b1ab86"},onMouseEnter:a=>{a.target.style.color="#0a400c",a.target.style.backgroundColor="#fefae0"},onMouseLeave:a=>{a.target.style.color="#b1ab86",a.target.style.backgroundColor="transparent"},children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},d.id))})]},d.id)})}),0===l.length&&(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("span",{className:"text-4xl",children:"ðŸ§³"})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No items found"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"all"===i?"Start by adding items to your packing list":`No ${i} items to show`}),"all"===i&&(0,b.jsx)("button",{onClick:()=>f(!0),className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200",children:"Add Your First Item"})]})]})}function l({expenses:c,budget:d,currency:g,onUpdateExpenses:i}){let[j,k]=(0,e.useState)(!1),[l,m]=(0,e.useState)({title:"",amount:0,category:"other",date:new Date().toISOString().split("T")[0],description:""}),[n,o]=(0,e.useState)("all"),p=[{id:"accommodation",name:"Accommodation",icon:"ðŸ¨",color:"text-primary",bgColor:"#fefae0"},{id:"food",name:"Food & Drinks",icon:"ðŸ½ï¸",color:"text-secondary",bgColor:"#fefae0"},{id:"transport",name:"Transport",icon:"ðŸš—",color:"text-accent",bgColor:"#fefae0"},{id:"activities",name:"Activities",icon:"ðŸŽ¯",color:"text-primary",bgColor:"#b1ab86"},{id:"shopping",name:"Shopping",icon:"ðŸ›ï¸",color:"text-secondary",bgColor:"#b1ab86"},{id:"other",name:"Other",icon:"ðŸ“¦",color:"text-accent",bgColor:"#819067"}],q=a=>p.find(b=>b.id===a)||p[p.length-1],r=async b=>{i(c.filter(a=>a.id!==b));try{let{deleteExpense:c}=await a.A(63588);await c(b),console.log("Expense deleted successfully")}catch(a){console.error("Error deleting expense:",a)}},s=c.filter(a=>"all"===n||a.category===n),t=c.reduce((a,b)=>a+b.amount,0),u=d-t,v=d>0?t/d*100:0,w=p.map(a=>({...a,total:c.filter(b=>b.category===a.id).reduce((a,b)=>a+b.amount,0),count:c.filter(b=>b.category===a.id).length})).filter(a=>a.count>0),x=v>100?{color:"#0a400c",bg:"#0a400c",status:"Over Budget!"}:v>80?{color:"#819067",bg:"#b1ab86",status:"Close to Limit"}:{color:"#819067",bg:"#819067",status:"On Track"};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Expense Tracker"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Monitor your spending and stay on budget"})]}),(0,b.jsx)("button",{onClick:()=>k(!0),className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"+ Add Expense"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:[d.toLocaleString()," ",g]}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Total Budget"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"text-3xl font-bold mb-1",style:{color:"#0a400c"},children:[t.toLocaleString()," ",g]}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Total Spent"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"text-3xl font-bold mb-1",style:{color:u>=0?"#819067":"#0a400c"},children:[u.toLocaleString()," ",g]}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Remaining"})]})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Budget Usage"}),(0,b.jsxs)("span",{className:`text-sm font-medium ${x.color}`,children:[Math.round(v),"% â€¢ ",x.status]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,b.jsx)("div",{className:`h-3 rounded-full transition-all duration-500 ${x.bg}`,style:{width:`${Math.min(v,100)}%`}})})]}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:w.map(a=>(0,b.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[(0,b.jsx)("div",{className:"text-2xl mb-1",children:a.icon}),(0,b.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[a.total.toLocaleString()," ",g]}),(0,b.jsx)("div",{className:"text-xs text-gray-600",children:a.name})]},a.id))})]}),j&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,b.jsxs)("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl max-w-md w-full p-6 border border-white/20",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Add Expense"}),(0,b.jsx)("button",{onClick:()=>k(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("input",{type:"text",value:l.title,onChange:a=>m({...l,title:a.target.value}),placeholder:"Expense title",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"}),(0,b.jsxs)("div",{className:"flex space-x-3",children:[(0,b.jsx)("input",{type:"number",value:l.amount||"",onChange:a=>m({...l,amount:parseFloat(a.target.value)||0}),placeholder:"Amount",min:"0",step:"0.01",className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"}),(0,b.jsx)("div",{className:"px-4 py-3 bg-gray-100 rounded-xl text-gray-700 font-medium",children:g})]}),(0,b.jsx)("select",{value:l.category,onChange:a=>m({...l,category:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",children:p.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.icon," ",a.name]},a.id))}),(0,b.jsx)("input",{type:"date",value:l.date,onChange:a=>m({...l,date:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"}),(0,b.jsx)("textarea",{value:l.description,onChange:a=>m({...l,description:a.target.value}),placeholder:"Description (optional)",rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"}),(0,b.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,b.jsx)("button",{onClick:()=>k(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{!l.title.trim()||l.amount<=0||(i([...c,{id:Date.now().toString(),...l,currency:g,title:l.title.trim()}]),m({title:"",amount:0,category:"other",date:new Date().toISOString().split("T")[0],description:""}),k(!1))},className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-200",children:"Add Expense"})]})]})]})}),(0,b.jsx)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-white/20",children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsxs)("button",{onClick:()=>o("all"),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${"all"===n?"text-white shadow-lg":"text-gray-700 hover:bg-gray-200"}`,style:{backgroundColor:"all"===n?"#0a400c":"#fefae0"},children:["All Expenses (",c.length,")"]}),p.map(a=>{let d=c.filter(b=>b.category===a.id).length;return 0===d?null:(0,b.jsxs)("button",{onClick:()=>o(a.id),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${n===a.id?"text-white shadow-lg":"text-gray-700 hover:bg-gray-200"}`,style:{backgroundColor:n===a.id?"#819067":"#fefae0"},children:[a.icon," ",a.name," (",d,")"]},a.id)})]})}),(0,b.jsx)("div",{className:"space-y-4",children:s.length>0?s.sort((a,b)=>(0,f.parseISO)(b.date).getTime()-(0,f.parseISO)(a.date).getTime()).map(a=>{let c=q(a.category);return(0,b.jsx)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 hover:shadow-xl transition-all duration-200",children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,b.jsx)("div",{className:"text-3xl",children:c.icon}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:a.title}),(0,b.jsxs)("div",{className:"flex items-center space-x-4 mt-1",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${c.color}`,style:{backgroundColor:c.bgColor,color:"text-primary"===c.color?"#0a400c":"text-secondary"===c.color?"#819067":"#b1ab86"},children:c.name}),(0,b.jsx)("span",{className:"text-sm text-gray-600",children:(0,h.format)((0,f.parseISO)(a.date),"MMM d, yyyy")})]}),a.description&&(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:a.description})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("div",{className:"text-right",children:(0,b.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[a.amount.toLocaleString()," ",a.currency]})}),(0,b.jsx)("button",{onClick:()=>r(a.id),className:"p-2 text-gray-400 rounded-lg transition-colors",style:{color:"#b1ab86"},onMouseEnter:a=>{a.target.style.color="#0a400c",a.target.style.backgroundColor="#fefae0"},onMouseLeave:a=>{a.target.style.color="#b1ab86",a.target.style.backgroundColor="transparent"},children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},a.id)}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("span",{className:"text-4xl",children:"ðŸ’°"})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No expenses found"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"all"===n?"Start tracking your trip expenses":`No ${q(n).name.toLowerCase()} expenses to show`}),"all"===n&&(0,b.jsx)("button",{onClick:()=>k(!0),className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-200",children:"Add Your First Expense"})]})})]})}var m=a.i(57881);function n({itinerary:a,onUpdateItinerary:c}){let[d,g]=(0,e.useState)(!1),[i,j]=(0,e.useState)(null),[k,l]=(0,e.useState)({name:"",type:"hotel",address:"",checkIn:"",checkOut:"",cost:0,currency:"USD",rating:5,amenities:[],notes:"",bookingReference:"",contactInfo:""}),n=[{id:"hotel",name:"Hotel",icon:"ðŸ¨"},{id:"airbnb",name:"Airbnb",icon:"ðŸ "},{id:"hostel",name:"Hostel",icon:"ðŸ¢"},{id:"resort",name:"Resort",icon:"ðŸ–ï¸"},{id:"apartment",name:"Apartment",icon:"ðŸ "},{id:"other",name:"Other",icon:"ðŸ˜ï¸"}],o=a.map((a,b)=>({...a,dayIndex:b})).filter(a=>a.accommodation),p=o.reduce((a,b)=>a+(b.accommodation?.cost||0),0);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Accommodation"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Manage your hotels and places to stay"})]}),(0,b.jsx)("button",{onClick:()=>g(!0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"+ Add Accommodation"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:o.length}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Bookings"})]}),(0,b.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[(0,b.jsxs)("div",{className:"text-2xl font-bold text-green-600 mb-1",children:[p.toLocaleString()," USD"]}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Total Cost"})]}),(0,b.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-xl",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:o.reduce((a,b)=>{let c=b.accommodation;return a+(0,m.differenceInDays)((0,f.parseISO)(c.checkOut),(0,f.parseISO)(c.checkIn))},0)}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Total Nights"})]})]})]}),(d||i)&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,b.jsxs)("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6 border border-white/20",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:i?"Edit Accommodation":"Add Accommodation"}),(0,b.jsx)("button",{onClick:()=>{g(!1),j(null)},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)("input",{type:"text",value:i?i.accommodation.name:k.name,onChange:a=>i?j({...i,accommodation:{...i.accommodation,name:a.target.value}}):l({...k,name:a.target.value}),placeholder:"Accommodation name",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,b.jsx)("select",{value:i?i.accommodation.type:k.type,onChange:a=>i?j({...i,accommodation:{...i.accommodation,type:a.target.value}}):l({...k,type:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:n.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.icon," ",a.name]},a.id))})]}),(0,b.jsx)("textarea",{value:i?i.accommodation.address:k.address,onChange:a=>i?j({...i,accommodation:{...i.accommodation,address:a.target.value}}):l({...k,address:a.target.value}),placeholder:"Address",rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsx)("input",{type:"date",value:i?i.accommodation.checkIn:k.checkIn,onChange:a=>i?j({...i,accommodation:{...i.accommodation,checkIn:a.target.value}}):l({...k,checkIn:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,b.jsx)("input",{type:"date",value:i?i.accommodation.checkOut:k.checkOut,onChange:a=>i?j({...i,accommodation:{...i.accommodation,checkOut:a.target.value}}):l({...k,checkOut:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,b.jsx)("input",{type:"number",value:i?i.accommodation.cost:k.cost,onChange:a=>i?j({...i,accommodation:{...i.accommodation,cost:parseFloat(a.target.value)||0}}):l({...k,cost:parseFloat(a.target.value)||0}),placeholder:"Total cost",min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),(0,b.jsx)("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>i?j({...i,accommodation:{...i.accommodation,rating:a}}):l({...k,rating:a}),className:`text-2xl transition-colors ${a<=(i?i.accommodation.rating||0:k.rating)?"text-yellow-400":"text-gray-300"}`,children:"â­"},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Amenities"}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["WiFi","Parking","Pool","Gym","Spa","Restaurant","Room Service","Air Conditioning","Kitchen","Laundry","Pet Friendly","Business Center","Airport Shuttle","Breakfast Included","Beach Access","Balcony"].map(a=>(0,b.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:(i?i.accommodation.amenities:k.amenities).includes(a),onChange:()=>((a,b=!1)=>{if(b&&i){let b=i.accommodation.amenities.includes(a)?i.accommodation.amenities.filter(b=>b!==a):[...i.accommodation.amenities,a];j({...i,accommodation:{...i.accommodation,amenities:b}})}else{let b=k.amenities.includes(a)?k.amenities.filter(b=>b!==a):[...k.amenities,a];l({...k,amenities:b})}})(a,!!i),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,b.jsx)("span",{className:"text-sm text-gray-700",children:a})]},a))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)("input",{type:"text",value:i?i.accommodation.bookingReference||"":k.bookingReference,onChange:a=>i?j({...i,accommodation:{...i.accommodation,bookingReference:a.target.value}}):l({...k,bookingReference:a.target.value}),placeholder:"Booking reference",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,b.jsx)("input",{type:"text",value:i?i.accommodation.contactInfo||"":k.contactInfo,onChange:a=>i?j({...i,accommodation:{...i.accommodation,contactInfo:a.target.value}}):l({...k,contactInfo:a.target.value}),placeholder:"Contact info",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,b.jsx)("textarea",{value:i?i.accommodation.notes||"":k.notes,onChange:a=>i?j({...i,accommodation:{...i.accommodation,notes:a.target.value}}):l({...k,notes:a.target.value}),placeholder:"Notes",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),(0,b.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,b.jsx)("button",{onClick:()=>{g(!1),j(null)},className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{onClick:i?()=>{if(!i)return;let b=[...a];b[i.dayIndex]={...b[i.dayIndex],accommodation:i.accommodation},c(b),j(null)}:()=>{if(!k.name.trim()||!k.checkIn||!k.checkOut)return;let b={id:Date.now().toString(),...k,name:k.name.trim(),photos:[]},d=new Date(k.checkIn).toISOString().split("T")[0],e=a.findIndex(a=>a.date===d);if(-1!==e){let d=[...a];d[e]={...d[e],accommodation:b},c(d)}l({name:"",type:"hotel",address:"",checkIn:"",checkOut:"",cost:0,currency:"USD",rating:5,amenities:[],notes:"",bookingReference:"",contactInfo:""}),g(!1)},className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-200",children:[i?"Update":"Add"," Accommodation"]})]})]})]})}),(0,b.jsx)("div",{className:"space-y-6",children:o.length>0?o.map(d=>{let e,g=d.accommodation,i=(e=g.type,n.find(a=>a.id===e)||n[0]),k=(0,m.differenceInDays)((0,f.parseISO)(g.checkOut),(0,f.parseISO)(g.checkIn));return(0,b.jsx)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 hover:shadow-xl transition-all duration-200",children:(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,b.jsx)("div",{className:"text-4xl",children:i.icon}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:g.name}),(0,b.jsx)("p",{className:"text-gray-600 mb-2",children:g.address}),(0,b.jsxs)("div",{className:"flex items-center space-x-4 mb-3",children:[(0,b.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full",children:i.name}),(0,b.jsx)("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("span",{className:`text-sm ${c<(g.rating||0)?"text-yellow-400":"text-gray-300"}`,children:"â­"},c))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Check-in:"}),(0,b.jsx)("div",{className:"font-medium",children:(0,h.format)((0,f.parseISO)(g.checkIn),"MMM d, yyyy")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Check-out:"}),(0,b.jsx)("div",{className:"font-medium",children:(0,h.format)((0,f.parseISO)(g.checkOut),"MMM d, yyyy")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Nights:"}),(0,b.jsx)("div",{className:"font-medium",children:k})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Total Cost:"}),(0,b.jsxs)("div",{className:"font-medium",children:[g.cost.toLocaleString()," ",g.currency]})]})]}),g.amenities.length>0&&(0,b.jsxs)("div",{className:"mt-3",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Amenities:"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[g.amenities.slice(0,6).map(a=>(0,b.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:a},a)),g.amenities.length>6&&(0,b.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:["+",g.amenities.length-6," more"]})]})]}),g.notes&&(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-3",children:g.notes})]})]}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)("button",{onClick:()=>j({dayIndex:d.dayIndex,accommodation:g}),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,b.jsx)("button",{onClick:()=>{var b;let e;return b=d.dayIndex,e=[...a],void(delete e[b].accommodation,c(e))},className:"p-2 rounded-lg transition-colors",style:{color:"#b1ab86"},onMouseEnter:a=>{a.target.style.color="#0a400c",a.target.style.backgroundColor="#fefae0"},onMouseLeave:a=>{a.target.style.color="#b1ab86",a.target.style.backgroundColor="transparent"},children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},d.dayIndex)}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("span",{className:"text-4xl",children:"ðŸ¨"})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No accommodations added"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"Add hotels, Airbnbs, or other places you'll be staying"}),(0,b.jsx)("button",{onClick:()=>g(!0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-200",children:"Add Your First Accommodation"})]})})]})}var o=a.i(24140);function p({trip:c,onUpdateTrip:d}){let g,[i,j]=(0,e.useState)(!1),[k,l]=(0,e.useState)(!1),[n,p]=(0,e.useState)({title:c.title,description:c.description||"",budget:c.budget||0}),q=(0,m.differenceInDays)((0,f.parseISO)(c.end_date),(0,f.parseISO)(c.start_date))+1,r=c.expenses.reduce((a,b)=>a+b.amount,0),s=(c.budget||0)-r,t=c.packingList.filter(a=>a.packed).length,u=c.packingList.length,v=c.itinerary.reduce((a,b)=>a+b.activities.filter(a=>a.completed).length,0),w=c.itinerary.reduce((a,b)=>a+b.activities.length,0),x=(g=r/(c.budget||1)*100)>100?{color:"text-accent",bg:"bg-accent bg-opacity-10",status:"Over Budget!"}:g>80?{color:"text-secondary",bg:"bg-secondary bg-opacity-10",status:"Close to Limit"}:{color:"text-primary",bg:"bg-primary bg-opacity-10",status:"On Track"};return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)("div",{className:"glass rounded-lg p-8 shadow-lg",children:i?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("input",{type:"text",value:n.title,onChange:a=>p({...n,title:a.target.value}),className:"w-full text-3xl font-bold text-primary bg-transparent border-b-2 border-primary border-opacity-30 focus:border-primary outline-none pb-2",placeholder:"Trip title"}),(0,b.jsx)("textarea",{value:n.description,onChange:a=>p({...n,description:a.target.value}),className:"w-full text-secondary bg-transparent border border-secondary border-opacity-20 rounded-lg p-4 focus:border-primary outline-none resize-none",rows:3,placeholder:"Trip description"}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Budget:"}),(0,b.jsx)("input",{type:"number",value:n.budget,onChange:a=>p({...n,budget:Number(a.target.value)}),className:"px-4 py-2 border border-secondary border-opacity-20 rounded-lg focus:border-primary outline-none",placeholder:"0"}),(0,b.jsx)("span",{className:"text-secondary",children:c.currency})]}),(0,b.jsxs)("div",{className:"flex space-x-4",children:[(0,b.jsx)("button",{onClick:()=>{d(n),j(!1)},className:"btn-primary px-6 py-2 rounded-lg font-semibold transition-all duration-200",children:"Save Changes"}),(0,b.jsx)("button",{onClick:()=>j(!1),className:"glass text-secondary px-6 py-2 rounded-lg font-semibold transition-all duration-200",children:"Cancel"})]})]}):(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-primary mb-2",children:c.title}),(0,b.jsx)("p",{className:"text-secondary text-lg leading-relaxed",children:c.description})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("button",{onClick:()=>l(!0),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-colors",title:"Manage collaborators",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),(0,b.jsx)("button",{onClick:()=>j(!0),className:"p-2 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-xl transition-colors",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:q}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Days"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:c.travelers}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Travelers"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold",style:{color:"#819067"},children:(0,h.format)((0,f.parseISO)(c.start_date),"EEE, MMM d")}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Start Date"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:(0,h.format)((0,f.parseISO)(c.end_date),"EEE, MMM d")}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"End Date"})]})]})]})}),(0,b.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl p-8 shadow-2xl border border-white/20",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Trip Cover Image"}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[c.cover_image?(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)("img",{src:c.cover_image,alt:c.title,className:"w-full h-48 object-cover rounded-xl shadow-md"}),(0,b.jsx)("button",{onClick:()=>document.getElementById("cover-image-input")?.click(),className:"absolute bottom-2 right-2 bg-purple-600 text-white p-2 rounded-full hover:bg-purple-700 transition-colors",title:"Change cover image",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]}):(0,b.jsx)("div",{className:"flex-1 w-full h-48 bg-gradient-to-br from-purple-200 to-pink-200 rounded-xl flex items-center justify-center cursor-pointer hover:from-purple-300 hover:to-pink-300 transition-colors",onClick:()=>document.getElementById("cover-image-input")?.click(),children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("svg",{className:"w-12 h-12 text-purple-600 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,b.jsx)("p",{className:"text-purple-700 font-medium",children:"Click to upload cover image"})]})}),(0,b.jsx)("input",{id:"cover-image-input",type:"file",accept:"image/*",className:"hidden",onChange:async b=>{let e=b.target.files?.[0];if(e)try{let{uploadTripCoverImage:b}=await a.A(63588),f=await b(c.id,e);d({cover_image:f})}catch(a){alert("Failed to upload cover image")}}})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Budget"}),(0,b.jsx)("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${x.bg} ${x.color}`,children:x.status})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Total Budget"}),(0,b.jsxs)("span",{className:"font-semibold",children:[c.budget?.toLocaleString()," ",c.currency]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Spent"}),(0,b.jsxs)("span",{className:"font-semibold",style:{color:"#0a400c"},children:[r.toLocaleString()," ",c.currency]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Remaining"}),(0,b.jsxs)("span",{className:"font-semibold",style:{color:s>=0?"#819067":"#0a400c"},children:[s.toLocaleString()," ",c.currency]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-3",children:(0,b.jsx)("div",{className:"h-2 rounded-full transition-all duration-300",style:{backgroundColor:r>(c.budget||0)?"#0a400c":"#819067",width:`${Math.min(r/(c.budget||1)*100,100)}%`}})})]})]}),(0,b.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Packing"}),(0,b.jsx)("span",{className:"text-2xl",children:"ðŸ§³"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:[t,"/",u]}),(0,b.jsx)("div",{className:"text-sm text-gray-600 mb-3",children:"Items Packed"}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-300",style:{width:`${u>0?t/u*100:0}%`}})}),(0,b.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:[u>0?Math.round(t/u*100):0,"% Complete"]})]})]}),(0,b.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Activities"}),(0,b.jsx)("span",{className:"text-2xl",children:"ðŸ—“ï¸"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:[v,"/",w]}),(0,b.jsx)("div",{className:"text-sm text-gray-600 mb-3",children:"Completed"}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 h-2 rounded-full transition-all duration-300",style:{width:`${w>0?v/w*100:0}%`}})}),(0,b.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:[w>0?Math.round(v/w*100):0,"% Complete"]})]})]})]}),(0,b.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Recent Updates"}),(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,b.jsx)("p",{className:"text-gray-600 text-sm",children:"No recent activity"}),(0,b.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"Activity will appear here as you update your trip"})]})]}),k&&(0,b.jsx)(o.default,{tripId:c.id,isOwner:!0,onClose:()=>l(!1)})]})}function q({params:h}){let{user:i,loading:m}=(0,c.useAuth)(),o=(0,d.useRouter)(),q=(0,e.use)(h),[r,s]=(0,e.useState)(null),[t,u]=(0,e.useState)("itinerary");(0,e.useEffect)(()=>{m||i||o.push("/auth/login")},[i,m,o]),(0,e.useEffect)(()=>{async function b(){if(q.id)try{let{getTrip:b}=await a.A(63588),c=await b(q.id);if(c){try{let a=`trip_${q.id}_edits`,b=JSON.parse(localStorage.getItem(a)||"{}");if(Object.keys(b).length>0){let a=[...c.itinerary];Object.entries(b).forEach(([b,c])=>{if(b.startsWith("day_")){let d=parseInt(b.replace("day_",""));a[d]&&"object"==typeof c&&(a[d]={...a[d],...c})}}),c.itinerary=a}}catch(a){}s(c)}else{let a={id:q.id,title:"My Trip",destination:"Destination",start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+6048e5).toISOString().split("T")[0],description:"Plan your amazing journey",budget:0,currency:"USD",travelers:1,packingList:[],expenses:[],itinerary:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()};s(a)}}catch(a){s({id:q.id,title:"My Trip",destination:"Destination",start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+6048e5).toISOString().split("T")[0],description:"Plan your amazing journey",budget:0,currency:"USD",travelers:1,packingList:[],expenses:[],itinerary:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}}i&&b()},[q.id,i]);let v=async b=>{if(r){s({...r,...b});try{let{updateTrip:c}=await a.A(63588);await c(r.id,b)}catch(a){}}};return m?(0,b.jsx)("div",{className:"min-h-screen bg-bg flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-secondary",children:"Loading itinerary..."})]})}):i&&r?(0,b.jsxs)("div",{className:"min-h-screen bg-bg",children:[(0,b.jsx)(g.default,{user:i}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"mb-8 text-center",children:[(0,b.jsx)("div",{className:"inline-block glass px-6 py-2 rounded-full text-sm font-bold text-primary mb-4 shadow-md",children:r?.destination.toUpperCase()}),(0,b.jsxs)("div",{className:"glass rounded-2xl p-6 max-w-2xl mx-auto shadow-md border border-secondary border-opacity-20",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-primary tracking-wider mb-2",children:r?.title||"TRIP PLANNER"}),(0,b.jsx)("p",{className:"text-secondary",children:r?.description})]})]}),(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsx)("div",{className:"glass rounded-xl p-2 shadow-md border border-secondary border-opacity-20 max-w-4xl mx-auto",children:(0,b.jsx)("nav",{className:"flex space-x-2","aria-label":"Tabs",children:[{id:"overview",name:"Overview",icon:"ðŸ“Š"},{id:"itinerary",name:"Itinerary",icon:"ðŸ—“ï¸"},{id:"packing",name:"Packing",icon:"ðŸ§³"},{id:"expenses",name:"Expenses",icon:"ðŸ’°"},{id:"accommodation",name:"Hotels",icon:"ðŸ¨"}].map(a=>(0,b.jsxs)("button",{onClick:()=>u(a.id),className:`
                    flex-1 flex items-center justify-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200
                    ${t===a.id?"btn-primary text-white shadow-md transform scale-105":"text-secondary hover:text-primary hover:bg-accent hover:bg-opacity-10"}
                  `,children:[(0,b.jsx)("span",{className:"mr-2 text-lg",children:a.icon}),(0,b.jsx)("span",{className:"hidden sm:inline",children:a.name})]},a.id))})})}),(0,b.jsxs)("div",{className:"mb-8",children:["overview"===t&&r&&(0,b.jsx)(p,{trip:r,onUpdateTrip:v}),"itinerary"===t&&r&&(0,b.jsx)(j,{itinerary:r.itinerary,tripId:r.id,onAddActivity:async(b,c)=>{try{let{addActivity:d}=await a.A(63588),e=await d(r.id,b+1,c),f=[...r.itinerary];f[b].activities||(f[b].activities=[]),f[b].activities.push(e),v({itinerary:f})}catch(a){}},onEditActivity:async(b,c,d)=>{try{let{updateActivity:e}=await a.A(63588),f=await e(r.id,b+1,c,d),g=[...r.itinerary],h=g[b].activities.findIndex(a=>a.id===c);-1!==h&&(g[b].activities[h]=f,v({itinerary:g}))}catch(a){}},onDeleteActivity:async(b,c)=>{try{let{deleteActivity:d}=await a.A(63588);await d(r.id,b+1,c);let e=[...r.itinerary];e[b].activities=e[b].activities.filter(a=>a.id!==c),v({itinerary:e})}catch(a){}},onSaveNotes:async(b,c)=>{try{let{updateTripDay:d}=await a.A(63588);await d(r.id,b+1,{notes:c});let e=[...r.itinerary];e[b]={...e[b],notes:c},v({itinerary:e})}catch(a){}},onSaveExpense:async(b,c)=>{try{let b={id:crypto.randomUUID(),title:c.title,amount:c.amount,currency:c.currency,category:c.category,date:c.date,description:"",shared:!1},{addExpense:d,getTrip:e}=await a.A(63588);await d(r.id,b);let f=await e(r.id);f&&v(f)}catch(a){}},onUpdateDay:async(b,c)=>{let d=[...r.itinerary];d[b]={...d[b],...c},v({itinerary:d});try{let{updateTripDay:d}=await a.A(63588);await d(r.id,b+1,c)}catch(a){}},onAddDay:()=>{if(!r)return;let a=r.itinerary.length+1,b=(0,f.parseISO)(r.start_date),c=new Date(b);c.setDate(b.getDate()+a-1);let d={day:a,date:c.toISOString().split("T")[0],activities:[],notes:"",actualSpent:0};v({itinerary:[...r.itinerary,d]})},onDeleteDay:async b=>{try{let c=r.itinerary[b],{deleteTripDay:d}=await a.A(63588);await d(r.id,c.day);let e=[...r.itinerary];e.splice(b,1);let f=e.map((a,b)=>({...a,day:b+1}));v({itinerary:f})}catch(a){}}}),"packing"===t&&r&&(0,b.jsx)(k,{packingList:r.packingList,onUpdatePackingList:async b=>{s({...r,packingList:b});try{let{savePackingList:c}=await a.A(63588);await c(r.id,b)}catch(a){}}}),"expenses"===t&&r&&(0,b.jsx)(l,{expenses:r.expenses,budget:r.budget||0,currency:r.currency,onUpdateExpenses:a=>v({expenses:a})}),"accommodation"===t&&r&&(0,b.jsx)(n,{itinerary:r.itinerary,onUpdateItinerary:a=>v({itinerary:a})})]}),(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("button",{onClick:()=>o.push("/dashboard"),className:"btn-primary px-8 py-3 rounded-lg font-semibold focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"â† Back to Dashboard"})})]})]}):null}a.s(["default",()=>q],90628)}];

//# sourceMappingURL=7e143_Travel%20Planner_triptimeline_src_app_itinerary_%5Bid%5D_page_tsx_d76da8df._.js.map