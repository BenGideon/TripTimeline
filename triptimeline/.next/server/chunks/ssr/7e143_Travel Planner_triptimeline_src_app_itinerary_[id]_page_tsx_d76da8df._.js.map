{"version":3,"sources":["../../../../../../../All%20Git%20Clones/Travel%20Planner/triptimeline/src/app/itinerary/%5Bid%5D/page.tsx","../../../../../../../All%20Git%20Clones/Travel%20Planner/triptimeline/src/components/VerticalItinerary.tsx","../../../../../../../All%20Git%20Clones/Travel%20Planner/triptimeline/src/components/MediaCarousel.tsx","../../../../../../../All%20Git%20Clones/Travel%20Planner/triptimeline/src/components/PackingList.tsx","../../../../../../../All%20Git%20Clones/Travel%20Planner/triptimeline/src/components/ExpenseTracker.tsx","../../../../../../../All%20Git%20Clones/Travel%20Planner/triptimeline/src/components/AccommodationManager.tsx","../../../../../../../All%20Git%20Clones/Travel%20Planner/triptimeline/src/components/TripOverview.tsx"],"sourcesContent":["\"use client\";\n\nimport { useAuth } from \"@/components/AuthProvider\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useState, use } from \"react\";\nimport { parseISO } from \"date-fns\";\nimport DashboardHeader from \"@/components/DashboardHeader\";\nimport VerticalItinerary from \"@/components/VerticalItinerary\";\nimport PackingList from \"@/components/PackingList\";\nimport ExpenseTracker from \"@/components/ExpenseTracker\";\nimport AccommodationManager from \"@/components/AccommodationManager\";\nimport TripOverview from \"@/components/TripOverview\";\nimport {\n  Trip,\n  ItineraryDay,\n  Activity,\n  ActivityInput,\n  PackingItem,\n  Expense,\n  Accommodation,\n} from \"@/types/itinerary\";\n\nexport default function ItineraryPage({\n  params,\n}: {\n  params: Promise<{ id: string }>;\n}) {\n  const { user, loading } = useAuth();\n  const router = useRouter();\n  const resolvedParams = use(params);\n  const [trip, setTrip] = useState<Trip | null>(null);\n  const [activeTab, setActiveTab] = useState<\n    \"overview\" | \"itinerary\" | \"packing\" | \"expenses\" | \"accommodation\"\n  >(\"itinerary\");\n\n  useEffect(() => {\n    if (!loading && !user) {\n      router.push(\"/auth/login\");\n    }\n  }, [user, loading, router]);\n\n  // Load trip data from database\n  useEffect(() => {\n    async function loadTrip() {\n      if (!resolvedParams.id) return;\n\n      try {\n        const { getTrip } = await import(\"@/lib/trip-service\");\n        const tripData = await getTrip(resolvedParams.id);\n\n        if (tripData) {\n          // Apply any localStorage edits to the trip data\n          try {\n            const tripKey = `trip_${resolvedParams.id}_edits`;\n            const savedEdits = JSON.parse(\n              localStorage.getItem(tripKey) || \"{}\"\n            );\n\n            if (Object.keys(savedEdits).length > 0) {\n              const updatedItinerary = [...tripData.itinerary];\n\n              Object.entries(savedEdits).forEach(([key, edits]) => {\n                if (key.startsWith(\"day_\")) {\n                  const dayIndex = parseInt(key.replace(\"day_\", \"\"));\n                  if (updatedItinerary[dayIndex] && typeof edits === \"object\") {\n                    updatedItinerary[dayIndex] = {\n                      ...updatedItinerary[dayIndex],\n                      ...(edits as Partial<ItineraryDay>),\n                    };\n                  }\n                }\n              });\n\n              tripData.itinerary = updatedItinerary;\n            }\n          } catch (error) {\n            // Could not load edits from localStorage\n          }\n\n          setTrip(tripData);\n        } else {\n          // Trip not found, create empty structure\n          const emptyTrip: Trip = {\n            id: resolvedParams.id,\n            title: \"My Trip\",\n            destination: \"Destination\",\n            start_date: new Date().toISOString().split(\"T\")[0],\n            end_date: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000)\n              .toISOString()\n              .split(\"T\")[0],\n            description: \"Plan your amazing journey\",\n            budget: 0,\n            currency: \"USD\",\n            travelers: 1,\n            packingList: [],\n            expenses: [],\n            itinerary: [],\n            created_at: new Date().toISOString(),\n            updated_at: new Date().toISOString(),\n          };\n          setTrip(emptyTrip);\n        }\n      } catch (error) {\n        // Fallback to empty trip\n        const emptyTrip: Trip = {\n          id: resolvedParams.id,\n          title: \"My Trip\",\n          destination: \"Destination\",\n          start_date: new Date().toISOString().split(\"T\")[0],\n          end_date: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000)\n            .toISOString()\n            .split(\"T\")[0],\n          description: \"Plan your amazing journey\",\n          budget: 0,\n          currency: \"USD\",\n          travelers: 1,\n          packingList: [],\n          expenses: [],\n          itinerary: [],\n          created_at: new Date().toISOString(),\n          updated_at: new Date().toISOString(),\n        };\n        setTrip(emptyTrip);\n      }\n    }\n\n    if (user) {\n      loadTrip();\n    }\n  }, [resolvedParams.id, user]);\n\n  const updateTrip = async (updatedTrip: Partial<Trip>) => {\n    if (trip) {\n      setTrip({ ...trip, ...updatedTrip });\n\n      // Save to database\n      try {\n        const { updateTrip: updateTripDB } = await import(\"@/lib/trip-service\");\n        await updateTripDB(trip.id, updatedTrip);\n      } catch (error) {\n        // Error updating trip\n      }\n    }\n  };\n\n  const addNewDay = () => {\n    if (!trip) return;\n\n    const newDayNumber = trip.itinerary.length + 1;\n    const tripStartDate = parseISO(trip.start_date);\n    const newDayDate = new Date(tripStartDate);\n    newDayDate.setDate(tripStartDate.getDate() + newDayNumber - 1);\n\n    const newDay: ItineraryDay = {\n      day: newDayNumber,\n      date: newDayDate.toISOString().split(\"T\")[0],\n      activities: [],\n      notes: \"\",\n      actualSpent: 0,\n    };\n\n    const updatedItinerary = [...trip.itinerary, newDay];\n    updateTrip({ itinerary: updatedItinerary });\n  };\n\n  const tabs = [\n    { id: \"overview\", name: \"Overview\", icon: \"üìä\" },\n    { id: \"itinerary\", name: \"Itinerary\", icon: \"üóìÔ∏è\" },\n    { id: \"packing\", name: \"Packing\", icon: \"üß≥\" },\n    { id: \"expenses\", name: \"Expenses\", icon: \"üí∞\" },\n    { id: \"accommodation\", name: \"Hotels\", icon: \"üè®\" },\n  ] as const;\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-bg flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\n          <p className=\"text-secondary\">Loading itinerary...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user || !trip) {\n    return null;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-bg\">\n      <DashboardHeader user={user} />\n\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Header */}\n        <div className=\"mb-8 text-center\">\n          <div className=\"inline-block glass px-6 py-2 rounded-full text-sm font-bold text-primary mb-4 shadow-md\">\n            {trip?.destination.toUpperCase()}\n          </div>\n          <div className=\"glass rounded-2xl p-6 max-w-2xl mx-auto shadow-md border border-secondary border-opacity-20\">\n            <h1 className=\"text-4xl font-bold text-primary tracking-wider mb-2\">\n              {trip?.title || \"TRIP PLANNER\"}\n            </h1>\n            <p className=\"text-secondary\">{trip?.description}</p>\n          </div>\n        </div>\n\n        {/* Navigation Tabs */}\n        <div className=\"mb-8\">\n          <div className=\"glass rounded-xl p-2 shadow-md border border-secondary border-opacity-20 max-w-4xl mx-auto\">\n            <nav className=\"flex space-x-2\" aria-label=\"Tabs\">\n              {tabs.map((tab) => (\n                <button\n                  key={tab.id}\n                  onClick={() => setActiveTab(tab.id)}\n                  className={`\n                    flex-1 flex items-center justify-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200\n                    ${\n                      activeTab === tab.id\n                        ? \"btn-primary text-white shadow-md transform scale-105\"\n                        : \"text-secondary hover:text-primary hover:bg-accent hover:bg-opacity-10\"\n                    }\n                  `}\n                >\n                  <span className=\"mr-2 text-lg\">{tab.icon}</span>\n                  <span className=\"hidden sm:inline\">{tab.name}</span>\n                </button>\n              ))}\n            </nav>\n          </div>\n        </div>\n\n        {/* Tab Content */}\n        <div className=\"mb-8\">\n          {activeTab === \"overview\" && trip && (\n            <TripOverview trip={trip} onUpdateTrip={updateTrip} />\n          )}\n\n          {activeTab === \"itinerary\" && trip && (\n            <VerticalItinerary\n              itinerary={trip.itinerary}\n              tripId={trip.id}\n              onAddActivity={async (\n                dayIndex: number,\n                activityInput: ActivityInput\n              ) => {\n                try {\n                  const { addActivity } = await import(\"@/lib/trip-service\");\n                  const created = await addActivity(\n                    trip.id,\n                    dayIndex + 1,\n                    activityInput\n                  );\n\n                  const updatedItinerary = [...trip.itinerary];\n                  if (!updatedItinerary[dayIndex].activities) {\n                    updatedItinerary[dayIndex].activities = [];\n                  }\n                  updatedItinerary[dayIndex].activities.push(created);\n                  updateTrip({ itinerary: updatedItinerary });\n                } catch (error) {\n                  // Error adding activity\n                }\n              }}\n              onEditActivity={async (\n                dayIndex: number,\n                activityId: string,\n                activityInput: ActivityInput\n              ) => {\n                try {\n                  const { updateActivity } = await import(\"@/lib/trip-service\");\n                  const updated = await updateActivity(\n                    trip.id,\n                    dayIndex + 1,\n                    activityId,\n                    activityInput\n                  );\n\n                  const itineraryCopy = [...trip.itinerary];\n                  const activityIndex = itineraryCopy[\n                    dayIndex\n                  ].activities.findIndex((a) => a.id === activityId);\n                  if (activityIndex !== -1) {\n                    itineraryCopy[dayIndex].activities[activityIndex] = updated;\n                    updateTrip({ itinerary: itineraryCopy });\n                  }\n                } catch (error) {\n                  // Error updating activity\n                }\n              }}\n              onDeleteActivity={async (\n                dayIndex: number,\n                activityId: string\n              ) => {\n                try {\n                  const { deleteActivity } = await import(\"@/lib/trip-service\");\n                  await deleteActivity(trip.id, dayIndex + 1, activityId);\n\n                  const itineraryCopy = [...trip.itinerary];\n                  itineraryCopy[dayIndex].activities = itineraryCopy[\n                    dayIndex\n                  ].activities.filter((a) => a.id !== activityId);\n                  updateTrip({ itinerary: itineraryCopy });\n                } catch (error) {\n                  // Error deleting activity\n                }\n              }}\n              onSaveNotes={async (dayIndex: number, notes: string) => {\n                try {\n                  const { updateTripDay } = await import(\"@/lib/trip-service\");\n                  await updateTripDay(trip.id, dayIndex + 1, { notes });\n\n                  const updatedItinerary = [...trip.itinerary];\n                  updatedItinerary[dayIndex] = {\n                    ...updatedItinerary[dayIndex],\n                    notes,\n                  };\n                  updateTrip({ itinerary: updatedItinerary });\n                } catch (error) {\n                  // Error saving notes\n                }\n              }}\n              onSaveExpense={async (dayIndex: number, expense) => {\n                try {\n                  const expenseData = {\n                    id: crypto.randomUUID(),\n                    title: expense.title,\n                    amount: expense.amount,\n                    currency: expense.currency,\n                    category: expense.category as any,\n                    date: expense.date,\n                    description: \"\",\n                    shared: false,\n                  };\n                  const { addExpense, getTrip } = await import(\n                    \"@/lib/trip-service\"\n                  );\n                  await addExpense(trip.id, expenseData);\n\n                  // Refresh trip data to show updated expenses\n                  const updatedTrip = await getTrip(trip.id);\n                  if (updatedTrip) {\n                    updateTrip(updatedTrip);\n                  }\n                } catch (error) {\n                  // Error saving expense\n                }\n              }}\n              onUpdateDay={async (\n                dayIndex: number,\n                updatedDay: Partial<ItineraryDay>\n              ) => {\n                // Update local state immediately for better UX\n                const updatedItinerary = [...trip.itinerary];\n                updatedItinerary[dayIndex] = {\n                  ...updatedItinerary[dayIndex],\n                  ...updatedDay,\n                };\n                updateTrip({ itinerary: updatedItinerary });\n\n                // Save to database\n                try {\n                  const { updateTripDay } = await import(\"@/lib/trip-service\");\n                  await updateTripDay(trip.id, dayIndex + 1, updatedDay);\n                } catch (error) {\n                  // Error updating day in database\n                }\n              }}\n              onAddDay={addNewDay}\n              onDeleteDay={async (dayIndex: number) => {\n                try {\n                  const dayToDelete = trip.itinerary[dayIndex];\n\n                  // Delete from database first\n                  const { deleteTripDay } = await import(\"@/lib/trip-service\");\n                  await deleteTripDay(trip.id, dayToDelete.day);\n\n                  // Remove from local state\n                  const updatedItinerary = [...trip.itinerary];\n                  updatedItinerary.splice(dayIndex, 1);\n\n                  // Renumber the remaining days\n                  const renumberedItinerary = updatedItinerary.map(\n                    (day, index) => ({\n                      ...day,\n                      day: index + 1,\n                    })\n                  );\n\n                  updateTrip({ itinerary: renumberedItinerary });\n                } catch (error) {\n                  // Error deleting day\n                }\n              }}\n            />\n          )}\n\n          {activeTab === \"packing\" && trip && (\n            <PackingList\n              packingList={trip.packingList}\n              onUpdatePackingList={async (packingList) => {\n                setTrip({ ...trip, packingList });\n                try {\n                  const { savePackingList } = await import(\n                    \"@/lib/trip-service\"\n                  );\n                  await savePackingList(trip.id, packingList);\n                } catch (error) {\n                  // Error saving packing list\n                }\n              }}\n            />\n          )}\n\n          {activeTab === \"expenses\" && trip && (\n            <ExpenseTracker\n              expenses={trip.expenses}\n              budget={trip.budget || 0}\n              currency={trip.currency}\n              onUpdateExpenses={(expenses) => updateTrip({ expenses })}\n            />\n          )}\n\n          {activeTab === \"accommodation\" && trip && (\n            <AccommodationManager\n              itinerary={trip.itinerary}\n              onUpdateItinerary={(itinerary) => updateTrip({ itinerary })}\n            />\n          )}\n        </div>\n\n        {/* Back Button */}\n        <div className=\"text-center\">\n          <button\n            onClick={() => router.push(\"/dashboard\")}\n            className=\"btn-primary px-8 py-3 rounded-lg font-semibold focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n          >\n            ‚Üê Back to Dashboard\n          </button>\n        </div>\n      </main>\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { ItineraryDay, Activity, ActivityInput } from \"@/types/itinerary\";\nimport { format, parseISO } from \"date-fns\";\nimport MediaCarousel from \"./MediaCarousel\";\n\ninterface VerticalItineraryProps {\n  itinerary: ItineraryDay[];\n  tripId?: string;\n  onAddActivity: (\n    dayIndex: number,\n    activity: ActivityInput\n  ) => Promise<void> | void;\n  onEditActivity: (\n    dayIndex: number,\n    activityId: string,\n    activity: ActivityInput\n  ) => Promise<void> | void;\n  onDeleteActivity: (\n    dayIndex: number,\n    activityId: string\n  ) => Promise<void> | void;\n  onSaveNotes?: (dayIndex: number, notes: string) => Promise<void> | void;\n  onSaveExpense?: (\n    dayIndex: number,\n    expense: {\n      title: string;\n      amount: number;\n      category: string;\n      currency: string;\n      date: string;\n    }\n  ) => Promise<void> | void;\n  onUpdateDay?: (\n    dayIndex: number,\n    updatedDay: Partial<ItineraryDay>\n  ) => void | Promise<void>;\n  onAddDay?: () => void;\n  onDeleteDay?: (dayIndex: number) => void;\n}\n\nexport default function VerticalItinerary({\n  itinerary,\n  tripId,\n  onAddActivity,\n  onEditActivity,\n  onDeleteActivity,\n  onSaveNotes,\n  onSaveExpense,\n  onUpdateDay,\n  onAddDay,\n  onDeleteDay,\n}: VerticalItineraryProps) {\n  const [expandedDays, setExpandedDays] = useState<Set<number>>(new Set([0])); // First day expanded by default\n  const [editingDay, setEditingDay] = useState<{\n    dayIndex: number;\n    field: \"title\" | \"notes\";\n  } | null>(null);\n  const [editValue, setEditValue] = useState(\"\");\n  const [activityModal, setActivityModal] = useState<{\n    dayIndex: number;\n    activity?: Activity;\n  } | null>(null);\n  const [activityTitle, setActivityTitle] = useState(\"\");\n  const [activityTime, setActivityTime] = useState(\"\");\n  const [activityCategory, setActivityCategory] =\n    useState<Activity[\"category\"]>(\"sightseeing\");\n  const [activityType, setActivityType] = useState<Activity[\"type\"]>(\"morning\");\n  const [activityLocation, setActivityLocation] = useState(\"\");\n  const [activityDescription, setActivityDescription] = useState(\"\");\n  const [activityCost, setActivityCost] = useState(\"\");\n  const [notesModal, setNotesModal] = useState<{ dayIndex: number } | null>(\n    null\n  );\n  const [notesValue, setNotesValue] = useState(\"\");\n  const [expenseModal, setExpenseModal] = useState<{ dayIndex: number } | null>(\n    null\n  );\n  const [expenseTitle, setExpenseTitle] = useState(\"\");\n  const [expenseAmount, setExpenseAmount] = useState(\"\");\n  const [expenseCategory, setExpenseCategory] = useState<\n    \"food\" | \"transport\" | \"accommodation\" | \"shopping\" | \"activities\" | \"other\"\n  >(\"food\");\n  const [isActivitySaving, setIsActivitySaving] = useState(false);\n  const [isNotesSaving, setIsNotesSaving] = useState(false);\n  const [isExpenseSaving, setIsExpenseSaving] = useState(false);\n  const [draggedDayIndex, setDraggedDayIndex] = useState<number | null>(null);\n  const [dragOverDayIndex, setDragOverDayIndex] = useState<number | null>(null);\n  const [mediaUploadDayIndex, setMediaUploadDayIndex] = useState<number | null>(\n    null\n  );\n  const [isMediaUploading, setIsMediaUploading] = useState(false);\n  const [dayMedia, setDayMedia] = useState<{ [key: number]: any[] }>({});\n  const [currentMediaIndex, setCurrentMediaIndex] = useState<{\n    [key: number]: number;\n  }>({});\n\n  // Load media for all days on mount\n  useEffect(() => {\n    const loadAllMedia = async () => {\n      if (!tripId || itinerary.length === 0) return;\n\n      try {\n        const { getMediaForDay } = await import(\"@/lib/trip-service\");\n        const mediaMap: { [key: number]: any[] } = {};\n\n        for (let dayIndex = 0; dayIndex < itinerary.length; dayIndex++) {\n          const media = await getMediaForDay(tripId, dayIndex + 1);\n          mediaMap[dayIndex] = media;\n        }\n\n        setDayMedia(mediaMap);\n      } catch (error) {\n        // Error loading media\n      }\n    };\n\n    loadAllMedia();\n  }, [tripId, itinerary.length]);\n\n  const resetActivityForm = () => {\n    setActivityTitle(\"\");\n    setActivityTime(\"\");\n    setActivityCategory(\"sightseeing\");\n    setActivityType(\"morning\");\n    setActivityLocation(\"\");\n    setActivityDescription(\"\");\n    setActivityCost(\"\");\n    setIsActivitySaving(false);\n  };\n\n  const openActivityModal = (dayIndex: number, activity?: Activity) => {\n    setIsActivitySaving(false);\n\n    if (activity) {\n      setActivityModal({ dayIndex, activity });\n      setActivityTitle(activity.title);\n      setActivityTime(activity.time || \"\");\n      setActivityCategory(activity.category);\n      setActivityType(activity.type || \"morning\");\n      setActivityLocation(activity.location || \"\");\n      setActivityDescription(activity.description || \"\");\n      setActivityCost(\n        activity.cost !== undefined && activity.cost !== null\n          ? String(activity.cost)\n          : \"\"\n      );\n    } else {\n      resetActivityForm();\n      setActivityModal({ dayIndex });\n    }\n  };\n\n  const closeActivityModal = () => {\n    setActivityModal(null);\n    resetActivityForm();\n  };\n\n  const handleSubmitActivity = async () => {\n    if (!activityModal || activityTitle.trim() === \"\") return;\n\n    const trimmedTitle = activityTitle.trim();\n    const trimmedTime = activityTime.trim();\n    const costValue =\n      activityCost.trim() === \"\" ? undefined : Number(activityCost);\n    const safeCost =\n      costValue !== undefined && !Number.isNaN(costValue)\n        ? costValue\n        : undefined;\n\n    const payload: ActivityInput = {\n      title: trimmedTitle,\n      time: trimmedTime,\n      type: activityType,\n      category: activityCategory,\n      description: activityDescription.trim() || undefined,\n      location: activityLocation.trim() || undefined,\n      cost: safeCost,\n    };\n\n    setIsActivitySaving(true);\n\n    try {\n      if (activityModal.activity) {\n        await onEditActivity(\n          activityModal.dayIndex,\n          activityModal.activity.id,\n          payload\n        );\n      } else {\n        await onAddActivity(activityModal.dayIndex, payload);\n      }\n      closeActivityModal();\n    } catch (error) {\n      // Error saving activity\n    } finally {\n      setIsActivitySaving(false);\n    }\n  };\n\n  const handleDeleteActivity = async (dayIndex: number, activityId: string) => {\n    const confirmDelete = window.confirm(\"Delete this activity?\");\n    if (!confirmDelete) return;\n\n    try {\n      await onDeleteActivity(dayIndex, activityId);\n    } catch (error) {\n      // Error deleting activity\n    }\n  };\n\n  const openNotesModal = (dayIndex: number) => {\n    setNotesModal({ dayIndex });\n    setNotesValue(itinerary[dayIndex]?.notes || \"\");\n  };\n\n  const closeNotesModal = () => {\n    setNotesModal(null);\n    setNotesValue(\"\");\n  };\n\n  const handleSaveNotes = async () => {\n    if (!notesModal) return;\n    setIsNotesSaving(true);\n\n    try {\n      if (onSaveNotes) {\n        await onSaveNotes(notesModal.dayIndex, notesValue);\n      } else if (onUpdateDay) {\n        await onUpdateDay(notesModal.dayIndex, { notes: notesValue });\n      }\n      closeNotesModal();\n    } catch (error) {\n      // Error saving notes\n    } finally {\n      setIsNotesSaving(false);\n    }\n  };\n\n  const openExpenseModal = (dayIndex: number) => {\n    setExpenseModal({ dayIndex });\n    setExpenseTitle(\"\");\n    setExpenseAmount(\"\");\n    setExpenseCategory(\"food\");\n  };\n\n  const closeExpenseModal = () => {\n    setExpenseModal(null);\n    setExpenseTitle(\"\");\n    setExpenseAmount(\"\");\n    setExpenseCategory(\"food\");\n  };\n\n  const handleSaveExpense = async () => {\n    if (!expenseModal || !expenseTitle.trim() || !expenseAmount.trim()) return;\n    setIsExpenseSaving(true);\n\n    try {\n      const amount = parseFloat(expenseAmount);\n      if (isNaN(amount) || amount < 0) {\n        return;\n      }\n\n      if (onSaveExpense) {\n        await onSaveExpense(expenseModal.dayIndex, {\n          title: expenseTitle.trim(),\n          amount,\n          category: expenseCategory,\n          currency: \"USD\",\n          date: new Date().toISOString().split(\"T\")[0],\n        });\n      }\n      closeExpenseModal();\n    } catch (error) {\n      // Error saving expense\n    } finally {\n      setIsExpenseSaving(false);\n    }\n  };\n\n  const handleMediaUpload = async (dayIndex: number, file: File) => {\n    if (!tripId) {\n      return;\n    }\n\n    setIsMediaUploading(true);\n    try {\n      const { uploadMedia, getMediaForDay } = await import(\n        \"@/lib/trip-service\"\n      );\n      const mediaType = file.type.startsWith(\"video\") ? \"video\" : \"image\";\n\n      await uploadMedia(tripId, dayIndex + 1, file, mediaType, file.name);\n\n      const media = await getMediaForDay(tripId, dayIndex + 1);\n      setDayMedia((prev) => ({ ...prev, [dayIndex]: media }));\n    } catch (error) {\n      // Error uploading media\n    } finally {\n      setIsMediaUploading(false);\n    }\n  };\n\n  const toggleDay = (dayIndex: number) => {\n    const newExpanded = new Set(expandedDays);\n    if (newExpanded.has(dayIndex)) {\n      newExpanded.delete(dayIndex);\n    } else {\n      newExpanded.add(dayIndex);\n    }\n    setExpandedDays(newExpanded);\n  };\n\n  const handleDragStart = (dayIndex: number) => {\n    setDraggedDayIndex(dayIndex);\n  };\n\n  const handleDragOver = (e: React.DragEvent, dayIndex: number) => {\n    e.preventDefault();\n    setDragOverDayIndex(dayIndex);\n  };\n\n  const handleDragLeave = () => {\n    setDragOverDayIndex(null);\n  };\n\n  const handleDrop = async (e: React.DragEvent, dropIndex: number) => {\n    e.preventDefault();\n    setDragOverDayIndex(null);\n\n    if (draggedDayIndex === null || draggedDayIndex === dropIndex) {\n      return;\n    }\n\n    const newItinerary = [...itinerary];\n    const draggedDay = newItinerary[draggedDayIndex];\n    newItinerary.splice(draggedDayIndex, 1);\n    newItinerary.splice(dropIndex, 0, draggedDay);\n\n    const renumberedItinerary = newItinerary.map((day, index) => ({\n      ...day,\n      day: index + 1,\n    }));\n\n    if (onUpdateDay) {\n      for (let i = 0; i < renumberedItinerary.length; i++) {\n        const day = renumberedItinerary[i];\n        if (day.day !== itinerary[i].day) {\n          await onUpdateDay(i, { day: day.day });\n        }\n      }\n    }\n\n    setDraggedDayIndex(null);\n  };\n\n  const getDayTitle = (day: ItineraryDay) => {\n    // Use custom title if set, otherwise generate dynamic titles\n    if (day.customTitle) {\n      return day.customTitle;\n    }\n    if (day.activities.length > 0) {\n      const mainActivity = day.activities[0];\n      return mainActivity.location || mainActivity.title;\n    }\n    return `Day ${day.day}`;\n  };\n\n  const getDayDescription = (day: ItineraryDay) => {\n    // Show day notes if they exist, otherwise show default message\n    return day.notes || \"Explore and enjoy your day!\";\n  };\n\n  const getActivityTypeIcon = (type: string) => {\n    switch (type) {\n      case \"transport\":\n        return \"‚úàÔ∏è\";\n      case \"accommodation\":\n        return \"üè®\";\n      case \"sightseeing\":\n        return \"üóæ\";\n      case \"food\":\n        return \"üçú\";\n      case \"shopping\":\n        return \"üõçÔ∏è\";\n      case \"entertainment\":\n        return \"üé≠\";\n      default:\n        return \"üìç\";\n    }\n  };\n\n  const getCategoryColor = (category: string) => {\n    switch (category) {\n      case \"transport\":\n        return \"bg-primary bg-opacity-10 text-primary border-primary border-opacity-30\";\n      case \"accommodation\":\n        return \"bg-secondary bg-opacity-10 text-secondary border-secondary border-opacity-30\";\n      case \"sightseeing\":\n        return \"bg-accent bg-opacity-10 text-accent border-accent border-opacity-30\";\n      case \"food\":\n        return \"bg-primary bg-opacity-10 text-primary border-primary border-opacity-30\";\n      case \"shopping\":\n        return \"bg-secondary bg-opacity-10 text-secondary border-secondary border-opacity-30\";\n      case \"entertainment\":\n        return \"bg-accent bg-opacity-10 text-accent border-accent border-opacity-30\";\n      default:\n        return \"bg-primary bg-opacity-5 text-primary border-primary border-opacity-20\";\n    }\n  };\n\n  const startEditingDay = (\n    dayIndex: number,\n    field: \"title\" | \"notes\",\n    currentValue: string\n  ) => {\n    setEditingDay({ dayIndex, field });\n    setEditValue(currentValue);\n  };\n\n  const saveEditingDay = () => {\n    if (editingDay && onUpdateDay) {\n      if (editingDay.field === \"title\") {\n        // Update the day's custom title\n        onUpdateDay(editingDay.dayIndex, { customTitle: editValue });\n      } else if (editingDay.field === \"notes\") {\n        onUpdateDay(editingDay.dayIndex, { notes: editValue });\n      }\n    }\n    setEditingDay(null);\n    setEditValue(\"\");\n  };\n\n  const cancelEditingDay = () => {\n    setEditingDay(null);\n    setEditValue(\"\");\n  };\n\n  // Show empty state if no days exist\n  if (itinerary.length === 0) {\n    return (\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"text-center py-16\">\n          <div className=\"w-32 h-32 bg-gradient-to-br from-purple-100 to-blue-100 rounded-full flex items-center justify-center mx-auto mb-8\">\n            <div className=\"text-6xl\">üìÖ</div>\n          </div>\n          <h3 className=\"text-2xl font-bold text-gray-900 mb-4\">\n            Start Planning Your Journey!\n          </h3>\n          <p className=\"text-gray-600 mb-8 max-w-md mx-auto\">\n            Create your first day to begin building your amazing itinerary. Add\n            activities, plan your schedule, and make memories!\n          </p>\n          {onAddDay && (\n            <button\n              onClick={onAddDay}\n              className=\"btn-primary text-white px-8 py-4 rounded-lg font-semibold focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1\"\n            >\n              ‚ú® Add Your First Day\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      {/* Timeline Container */}\n      <div className=\"relative\">\n        {/* Vertical Line */}\n        <div className=\"absolute left-8 top-0 bottom-0 w-1 bg-gradient-to-b from-purple-400 via-blue-400 to-green-400 rounded-full shadow-sm\"></div>\n\n        {/* Timeline Items */}\n        <div className=\"space-y-8\">\n          {itinerary.map((day, dayIndex) => {\n            const isExpanded = expandedDays.has(dayIndex);\n            const isLast = dayIndex === itinerary.length - 1;\n\n            return (\n              <div key={dayIndex} className=\"relative\">\n                {/* Timeline Dot */}\n                <div className=\"absolute left-6 w-5 h-5 bg-white rounded-full shadow-lg z-10 hover:scale-110 transition-transform duration-200\" style={{border: '4px solid #0a400c'}}></div>\n\n                {/* Day Card */}\n                <div className=\"ml-20\">\n                  <div\n                    draggable\n                    onDragStart={() => handleDragStart(dayIndex)}\n                    onDragOver={(e) => handleDragOver(e, dayIndex)}\n                    onDragLeave={handleDragLeave}\n                    onDrop={(e) => handleDrop(e, dayIndex)}\n                    className={`glass rounded-xl shadow-md border border-secondary border-opacity-20 overflow-hidden hover:shadow-lg transition-all duration-300 cursor-move ${\n                      draggedDayIndex === dayIndex ? \"opacity-50\" : \"\"\n                    } ${\n                      dragOverDayIndex === dayIndex &&\n                      draggedDayIndex !== dayIndex\n                        ? \"border-primary border-2 bg-primary bg-opacity-5\"\n                        : \"\"\n                    }`}\n                  >\n                    {/* Day Header - Always Visible */}\n                    <div\n                      className=\"p-6 cursor-pointer hover:bg-primary hover:bg-opacity-5 transition-colors\"\n                      onClick={() => toggleDay(dayIndex)}\n                    >\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center space-x-4\">\n                          <div className=\"w-12 h-12 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg\">\n                            {day.day}\n                          </div>\n                          <div>\n                            {editingDay?.dayIndex === dayIndex &&\n                            editingDay?.field === \"title\" ? (\n                              <div className=\"flex items-center space-x-2\">\n                                <input\n                                  type=\"text\"\n                                  value={editValue}\n                                  onChange={(e) => setEditValue(e.target.value)}\n                                  onKeyDown={(e) => {\n                                    if (e.key === \"Enter\") saveEditingDay();\n                                    if (e.key === \"Escape\") cancelEditingDay();\n                                  }}\n                                  className=\"text-xl font-bold text-gray-900 bg-white rounded-lg px-3 py-1 focus:outline-none\"\n                                  style={{\n                                    border: '1px solid #819067'\n                                  }}\n                                  onFocus={(e) => (e.target as HTMLElement).style.boxShadow = '0 0 0 2px #0a400c'}\n                                  onBlur={(e) => (e.target as HTMLElement).style.boxShadow = 'none'}\n                                  autoFocus\n                                />\n                                <button\n                                  onClick={saveEditingDay}\n                                  className=\"p-1 transition-colors\"\n                                  style={{color: '#819067'}}\n                                  onMouseEnter={(e) => (e.target as HTMLElement).style.color = '#0a400c'}\n                                  onMouseLeave={(e) => (e.target as HTMLElement).style.color = '#819067'}\n                                >\n                                  ‚úì\n                                </button>\n                                <button\n                                  onClick={cancelEditingDay}\n                                  className=\"p-1 transition-colors\"\n                                  style={{color: '#b1ab86'}}\n                                  onMouseEnter={(e) => (e.target as HTMLElement).style.color = '#0a400c'}\n                                  onMouseLeave={(e) => (e.target as HTMLElement).style.color = '#b1ab86'}\n                                >\n                                  ‚úï\n                                </button>\n                              </div>\n                            ) : (\n                              <h3\n                                className=\"text-xl font-bold text-gray-900 flex items-center cursor-pointer transition-colors group\"\n                                style={{color: '#0a400c'}}\n                                onMouseEnter={(e) => (e.target as HTMLElement).style.color = '#819067'}\n                                onMouseLeave={(e) => (e.target as HTMLElement).style.color = '#0a400c'}\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  const currentTitle = getDayTitle(day);\n                                  startEditingDay(\n                                    dayIndex,\n                                    \"title\",\n                                    currentTitle\n                                  );\n                                }}\n                              >\n                                üìç {getDayTitle(day)}\n                                <span className=\"ml-2 opacity-0 group-hover:opacity-100 text-sm text-purple-500 transition-opacity\">\n                                  ‚úèÔ∏è\n                                </span>\n                              </h3>\n                            )}\n                            <p className=\"text-gray-600 text-sm\">\n                              {format(parseISO(day.date), \"EEEE, MMMM d, yyyy\")}\n                            </p>\n                          </div>\n                        </div>\n\n                        <div className=\"flex items-center space-x-4\">\n                          {/* Activity Count */}\n                          <div className=\"flex items-center space-x-2\">\n                            <span className=\"px-3 py-1 text-sm font-medium rounded-full\" style={{backgroundColor: '#b1ab86', color: '#0a400c'}}>\n                              {day.activities.length}{\" \"}\n                              {day.activities.length === 1\n                                ? \"Activity\"\n                                : \"Activities\"}\n                            </span>\n                            {day.accommodation && (\n                              <span className=\"px-3 py-1 text-sm font-medium rounded-full\" style={{backgroundColor: '#819067', color: '#fefae0'}}>\n                                üè® Hotel\n                              </span>\n                            )}\n                            {/* Delete Day Button */}\n                            {onDeleteDay && itinerary.length > 1 && (\n                              <button\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  if (\n                                    window.confirm(\n                                      `Are you sure you want to delete ${getDayTitle(\n                                        day\n                                      )}?`\n                                    )\n                                  ) {\n                                    onDeleteDay(dayIndex);\n                                  }\n                                }}\n                                className=\"p-2 rounded-full transition-colors\"\n                                style={{color: '#b1ab86'}}\n                                onMouseEnter={(e) => {\n                                  (e.target as HTMLElement).style.color = '#0a400c';\n                                  (e.target as HTMLElement).style.backgroundColor = '#fefae0';\n                                }}\n                                onMouseLeave={(e) => {\n                                  (e.target as HTMLElement).style.color = '#b1ab86';\n                                  (e.target as HTMLElement).style.backgroundColor = 'transparent';\n                                }}\n                                title=\"Delete Day\"\n                              >\n                                üóëÔ∏è\n                              </button>\n                            )}\n                          </div>\n\n                          {/* Expand/Collapse Icon */}\n                          <svg\n                            className={`w-6 h-6 text-gray-400 transition-transform duration-200 ${\n                              isExpanded ? \"rotate-180\" : \"\"\n                            }`}\n                            fill=\"none\"\n                            stroke=\"currentColor\"\n                            viewBox=\"0 0 24 24\"\n                          >\n                            <path\n                              strokeLinecap=\"round\"\n                              strokeLinejoin=\"round\"\n                              strokeWidth={2}\n                              d=\"M19 9l-7 7-7-7\"\n                            />\n                          </svg>\n                        </div>\n                      </div>\n\n                      {/* Brief Description - Always Visible */}\n                      <div className=\"mt-4\">\n                        {editingDay?.dayIndex === dayIndex &&\n                        editingDay?.field === \"notes\" ? (\n                          <div className=\"flex items-start space-x-2\">\n                            <textarea\n                              value={editValue}\n                              onChange={(e) => setEditValue(e.target.value)}\n                              onKeyDown={(e) => {\n                                if (e.key === \"Enter\" && e.ctrlKey)\n                                  saveEditingDay();\n                                if (e.key === \"Escape\") cancelEditingDay();\n                              }}\n                              className=\"flex-1 px-3 py-2 text-gray-700 bg-white rounded-lg focus:outline-none\"\n                              style={{\n                                border: '1px solid #819067'\n                              }}\n                              onFocus={(e) => (e.target as HTMLElement).style.boxShadow = '0 0 0 2px #0a400c'}\n                              onBlur={(e) => (e.target as HTMLElement).style.boxShadow = 'none'}\n                              rows={2}\n                              autoFocus\n                            />\n                            <div className=\"flex space-x-1 pt-2\">\n                              <button\n                                onClick={saveEditingDay}\n                                className=\"p-1 transition-colors\"\n                                style={{color: '#819067'}}\n                                onMouseEnter={(e) => (e.target as HTMLElement).style.color = '#0a400c'}\n                                onMouseLeave={(e) => (e.target as HTMLElement).style.color = '#819067'}\n                              >\n                                ‚úì\n                              </button>\n                              <button\n                                onClick={cancelEditingDay}\n                                className=\"p-1 transition-colors\"\n                                style={{color: '#b1ab86'}}\n                                onMouseEnter={(e) => (e.target as HTMLElement).style.color = '#0a400c'}\n                                onMouseLeave={(e) => (e.target as HTMLElement).style.color = '#b1ab86'}\n                              >\n                                ‚úï\n                              </button>\n                            </div>\n                          </div>\n                        ) : (\n                          <p\n                            className=\"text-gray-700 leading-relaxed cursor-pointer transition-colors group\"\n                            style={{color: '#0a400c'}}\n                            onMouseEnter={(e) => (e.target as HTMLElement).style.color = '#819067'}\n                            onMouseLeave={(e) => (e.target as HTMLElement).style.color = '#0a400c'}\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              startEditingDay(\n                                dayIndex,\n                                \"notes\",\n                                getDayDescription(day)\n                              );\n                            }}\n                          >\n                            {getDayDescription(day)}\n                            <span className=\"ml-2 opacity-0 group-hover:opacity-100 text-sm text-purple-500 transition-opacity\">\n                              ‚úèÔ∏è\n                            </span>\n                          </p>\n                        )}\n                      </div>\n                    </div>\n\n                    {/* Expanded Content */}\n                    {isExpanded && (\n                      <div className=\"border-t border-gray-100\">\n                        {/* Media Gallery as Hero Section */}\n                        {dayMedia[dayIndex] && dayMedia[dayIndex].length > 0 ? (\n                          <div className=\"p-6 bg-gray-900 border-b border-gray-200\">\n                            <MediaCarousel\n                              media={dayMedia[dayIndex]}\n                              dayIndex={dayIndex}\n                              currentIndex={currentMediaIndex[dayIndex] || 0}\n                              onIndexChange={(idx, mediaIdx) => {\n                                setCurrentMediaIndex((prev) => ({\n                                  ...prev,\n                                  [idx]: mediaIdx,\n                                }));\n                              }}\n                              onDelete={async (mediaId) => {\n                                try {\n                                  const { deleteMedia } = await import(\n                                    \"@/lib/trip-service\"\n                                  );\n                                  await deleteMedia(mediaId);\n                                  setDayMedia((prev) => ({\n                                    ...prev,\n                                    [dayIndex]: prev[dayIndex].filter(\n                                      (m) => m.id !== mediaId\n                                    ),\n                                  }));\n                                  setCurrentMediaIndex((prev) => ({\n                                    ...prev,\n                                    [dayIndex]: 0,\n                                  }));\n                                } catch (error) {\n                                  throw error;\n                                }\n                              }}\n                            />\n                          </div>\n                        ) : (\n                          <div className=\"h-64 relative overflow-hidden\" style={{background: 'linear-gradient(135deg, #0a400c 0%, #819067 50%, #b1ab86 100%)'}}>\n                            <div className=\"absolute inset-0 bg-black/20\"></div>\n                            <div className=\"absolute inset-0 flex items-center justify-center\">\n                              <div className=\"text-center text-white\">\n                                <div className=\"text-6xl mb-4\">üóæ</div>\n                                <h4 className=\"text-2xl font-bold\">\n                                  Day {day.day} Adventure\n                                </h4>\n                              </div>\n                            </div>\n                          </div>\n                        )}\n\n                        {/* Day Notes Section */}\n                        {day.notes && (\n                          <div className=\"p-6 border-b\" style={{backgroundColor: '#fefae0', borderColor: '#b1ab86'}}>\n                            <h5 className=\"font-semibold text-gray-900 mb-2 flex items-center\">\n                              üìù Day Notes\n                            </h5>\n                            <p className=\"text-gray-700 text-sm leading-relaxed whitespace-pre-wrap\">\n                              {day.notes}\n                            </p>\n                          </div>\n                        )}\n\n                        {/* Media Upload Button */}\n                        <div className=\"p-6 border-b\" style={{backgroundColor: '#fefae0', borderColor: '#b1ab86'}}>\n                          <label \n                            className=\"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed rounded-xl cursor-pointer transition-colors\"\n                            style={{borderColor: '#819067'}}\n                            onMouseEnter={(e) => {\n                              (e.target as HTMLElement).style.borderColor = '#0a400c';\n                              (e.target as HTMLElement).style.backgroundColor = '#b1ab86';\n                            }}\n                            onMouseLeave={(e) => {\n                              (e.target as HTMLElement).style.borderColor = '#819067';\n                              (e.target as HTMLElement).style.backgroundColor = 'transparent';\n                            }}\n                          >\n                            <div className=\"flex items-center space-x-2\">\n                              <span className=\"text-2xl\">üì∏</span>\n                              <span className=\"text-sm font-medium text-gray-700\">\n                                Upload Photo or Video\n                              </span>\n                            </div>\n                            <input\n                              type=\"file\"\n                              accept=\"image/*,video/*\"\n                              multiple\n                              className=\"hidden\"\n                              onChange={(e) => {\n                                if (e.target.files) {\n                                  Array.from(e.target.files).forEach((file) => {\n                                    handleMediaUpload(dayIndex, file);\n                                  });\n                                }\n                              }}\n                              disabled={isMediaUploading}\n                            />\n                          </label>\n                        </div>\n\n                        {/* Activities Section */}\n                        <div className=\"p-6 space-y-6\">\n                          {day.activities.length > 0 ? (\n                            day.activities.map((activity) => (\n                              <div\n                                key={activity.id}\n                                className=\"border border-gray-200 rounded-xl p-4 transition-colors\"\n                                style={{borderColor: '#b1ab86'}}\n                                onMouseEnter={(e) => (e.target as HTMLElement).style.borderColor = '#819067'}\n                                onMouseLeave={(e) => (e.target as HTMLElement).style.borderColor = '#b1ab86'}\n                              >\n                                <div className=\"flex items-start justify-between mb-3\">\n                                  <div className=\"flex items-center space-x-3\">\n                                    <div className=\"text-2xl\">\n                                      {getActivityTypeIcon(activity.category)}\n                                    </div>\n                                    <div>\n                                      <h5 className=\"font-semibold text-gray-900\">\n                                        {activity.title}\n                                      </h5>\n                                      <p className=\"text-sm text-gray-600\">\n                                        {activity.time}\n                                      </p>\n                                    </div>\n                                  </div>\n                                  <div className=\"flex items-center space-x-2\">\n                                    <span\n                                      className={`px-3 py-1 text-xs font-medium rounded-full border ${getCategoryColor(\n                                        activity.category\n                                      )}`}\n                                    >\n                                      {activity.category}\n                                    </span>\n                                    {activity.cost !== undefined &&\n                                      activity.cost !== null && (\n                                        <span className=\"px-3 py-1 text-xs font-medium rounded-full\" style={{backgroundColor: '#b1ab86', color: '#0a400c'}}>\n                                          ${activity.cost}\n                                        </span>\n                                      )}\n                                    <button\n                                      onClick={() =>\n                                        openActivityModal(dayIndex, activity)\n                                      }\n                                      className=\"p-2 rounded-full transition-colors\"\n                                      style={{color: '#819067'}}\n                                      onMouseEnter={(e) => {\n                                        (e.target as HTMLElement).style.color = '#0a400c';\n                                        (e.target as HTMLElement).style.backgroundColor = '#fefae0';\n                                      }}\n                                      onMouseLeave={(e) => {\n                                        (e.target as HTMLElement).style.color = '#819067';\n                                        (e.target as HTMLElement).style.backgroundColor = 'transparent';\n                                      }}\n                                      title=\"Edit Activity\"\n                                    >\n                                      ‚úèÔ∏è\n                                    </button>\n                                    <button\n                                      onClick={() =>\n                                        handleDeleteActivity(\n                                          dayIndex,\n                                          activity.id\n                                        )\n                                      }\n                                      className=\"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-full transition-colors\"\n                                      title=\"Delete Activity\"\n                                    >\n                                      üóëÔ∏è\n                                    </button>\n                                  </div>\n                                </div>\n\n                                {activity.description && (\n                                  <p className=\"text-gray-700 text-sm leading-relaxed mb-3\">\n                                    {activity.description}\n                                  </p>\n                                )}\n\n                                {activity.location && (\n                                  <div className=\"flex items-center text-sm text-gray-600\">\n                                    <svg\n                                      className=\"w-4 h-4 mr-1\"\n                                      fill=\"none\"\n                                      stroke=\"currentColor\"\n                                      viewBox=\"0 0 24 24\"\n                                    >\n                                      <path\n                                        strokeLinecap=\"round\"\n                                        strokeLinejoin=\"round\"\n                                        strokeWidth={2}\n                                        d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"\n                                      />\n                                      <path\n                                        strokeLinecap=\"round\"\n                                        strokeLinejoin=\"round\"\n                                        strokeWidth={2}\n                                        d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\n                                      />\n                                    </svg>\n                                    {activity.location}\n                                  </div>\n                                )}\n                              </div>\n                            ))\n                          ) : (\n                            <div className=\"text-center py-8 border-2 border-dashed border-gray-300 rounded-xl\">\n                              <div className=\"text-4xl mb-4\">üìù</div>\n                              <h5 className=\"font-medium text-primary mb-2\">\n                                No activities planned\n                              </h5>\n                              <p className=\"text-secondary text-sm mb-4\">\n                                Add activities to make the most of this day\n                              </p>\n                              <button\n                                onClick={() => openActivityModal(dayIndex)}\n                                className=\"btn-primary text-white px-6 py-2 rounded-lg font-medium transition-all duration-200\"\n                              >\n                                + Add Activity\n                              </button>\n                            </div>\n                          )}\n\n                          {/* Accommodation Section */}\n                          {day.accommodation && (\n                            <div className=\"rounded-xl p-4\" style={{backgroundColor: '#fefae0', border: '1px solid #819067'}}>\n                              <h5 className=\"font-semibold text-gray-900 mb-2 flex items-center\">\n                                üè® Accommodation\n                              </h5>\n                              <div className=\"space-y-2\">\n                                <p className=\"font-medium text-gray-900\">\n                                  {day.accommodation.name}\n                                </p>\n                                <p className=\"text-sm text-gray-600\">\n                                  {day.accommodation.address}\n                                </p>\n                                <div className=\"flex items-center space-x-4 text-sm\">\n                                  <span className=\"text-gray-600\">\n                                    Check-in:{\" \"}\n                                    {format(\n                                      parseISO(day.accommodation.checkIn),\n                                      \"MMM d\"\n                                    )}\n                                  </span>\n                                  <span className=\"text-gray-600\">\n                                    Check-out:{\" \"}\n                                    {format(\n                                      parseISO(day.accommodation.checkOut),\n                                      \"MMM d\"\n                                    )}\n                                  </span>\n                                  <span className=\"font-medium\" style={{color: '#819067'}}>\n                                    ${day.accommodation.cost}\n                                  </span>\n                                </div>\n                              </div>\n                            </div>\n                          )}\n\n                          {/* Day Stats */}\n                          <div className=\"grid grid-cols-3 gap-4 pt-4 border-t border-gray-100\">\n                            <div className=\"text-center\">\n                              <div className=\"text-lg font-bold\" style={{color: '#0a400c'}}>\n                                ${day.actualSpent || 0}\n                              </div>\n                              <div className=\"text-xs text-gray-600\">Spent</div>\n                            </div>\n                            <div className=\"text-center\">\n                              <div className=\"text-lg font-bold\" style={{color: '#819067'}}>\n                                {day.activities.reduce(\n                                  (sum, activity) =>\n                                    sum + (activity.duration || 0),\n                                  0\n                                )}\n                                m\n                              </div>\n                              <div className=\"text-xs text-gray-600\">\n                                Duration\n                              </div>\n                            </div>\n                            <div className=\"text-center\">\n                              <div className=\"text-lg font-bold\" style={{color: '#819067'}}>\n                                {\n                                  day.activities.filter(\n                                    (activity) => activity.completed\n                                  ).length\n                                }\n                                /{day.activities.length}\n                              </div>\n                              <div className=\"text-xs text-gray-600\">\n                                Complete\n                              </div>\n                            </div>\n                          </div>\n\n                          {/* Quick Actions */}\n                          <div className=\"flex space-x-3 pt-4\">\n                            <button\n                              onClick={() => openActivityModal(dayIndex)}\n                              className=\"flex-1 btn-primary text-white py-2 px-4 rounded-lg font-medium transition-all duration-200\"\n                            >\n                              + Add Activity\n                            </button>\n                            <button\n                              onClick={() => openNotesModal(dayIndex)}\n                              className=\"flex-1 glass text-primary py-2 px-4 rounded-lg font-medium hover:bg-accent hover:bg-opacity-10 transition-colors\"\n                            >\n                              üìù Add Notes\n                            </button>\n                            <button\n                              onClick={() => openExpenseModal(dayIndex)}\n                              className=\"flex-1 glass text-primary py-2 px-4 rounded-lg font-medium hover:bg-accent hover:bg-opacity-10 transition-colors\"\n                            >\n                              üí∞ Add Expense\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Add Another Day Button */}\n        {onAddDay && (\n          <div className=\"relative ml-20 mt-8\">\n            <div className=\"absolute left-[-52px] w-5 h-5 bg-primary border-4 border-bg rounded-full shadow-lg\"></div>\n            <div className=\"glass rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300 border border-secondary border-opacity-20\">\n              <div className=\"text-center\">\n                <div className=\"text-4xl mb-4\">‚ûï</div>\n                <h3 className=\"text-xl font-bold text-primary mb-2\">\n                  Add Another Day\n                </h3>\n                <p className=\"text-secondary mb-4\">\n                  Continue your adventure with more activities!\n                </p>\n                <button\n                  onClick={onAddDay}\n                  className=\"btn-primary text-white px-6 py-3 rounded-lg font-semibold focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n                >\n                  + Add Day {itinerary.length + 1}\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* End of Timeline */}\n        <div className=\"relative ml-20 mt-8\">\n          <div className=\"absolute left-[-52px] w-5 h-5 border-4 border-white rounded-full shadow-lg\" style={{backgroundColor: '#819067'}}></div>\n          <div className=\"text-white p-6 rounded-2xl shadow-lg\" style={{background: 'linear-gradient(135deg, #819067 0%, #0a400c 100%)'}}>\n            <div className=\"text-center\">\n              <div className=\"text-4xl mb-4\">üéâ</div>\n              <h3 className=\"text-xl font-bold mb-2\">Journey Complete!</h3>\n              <p className=\"text-green-100\">\n                What an amazing adventure you've had!\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Add Activity Modal */}\n      {activityModal && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white/95 backdrop-blur-lg rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-white/20\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-xl font-bold text-gray-900\">\n                {activityModal.activity ? \"Edit Activity\" : \"Add Activity\"} ¬∑\n                Day {activityModal.dayIndex + 1}\n              </h2>\n              <button\n                onClick={closeActivityModal}\n                className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\n              >\n                <svg\n                  className=\"w-5 h-5 text-gray-500\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M6 18L18 6M6 6l12 12\"\n                  />\n                </svg>\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Title *\n                </label>\n                <input\n                  type=\"text\"\n                  value={activityTitle}\n                  onChange={(e) => setActivityTitle(e.target.value)}\n                  placeholder=\"e.g., Morning Hike\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                  autoFocus\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Time & Location\n                </label>\n                <input\n                  type=\"text\"\n                  value={activityTime}\n                  onChange={(e) => setActivityTime(e.target.value)}\n                  placeholder=\"e.g., 9:00 AM ¬∑ Zion National Park\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Type of Day\n                  </label>\n                  <select\n                    value={activityType}\n                    onChange={(e) =>\n                      setActivityType(e.target.value as Activity[\"type\"])\n                    }\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                  >\n                    <option value=\"morning\">Morning</option>\n                    <option value=\"afternoon\">Afternoon</option>\n                    <option value=\"evening\">Evening</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Category\n                  </label>\n                  <select\n                    value={activityCategory}\n                    onChange={(e) =>\n                      setActivityCategory(\n                        e.target.value as Activity[\"category\"]\n                      )\n                    }\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                  >\n                    <option value=\"sightseeing\">Sightseeing</option>\n                    <option value=\"food\">Food</option>\n                    <option value=\"transport\">Transport</option>\n                    <option value=\"accommodation\">Accommodation</option>\n                    <option value=\"shopping\">Shopping</option>\n                    <option value=\"entertainment\">Entertainment</option>\n                    <option value=\"other\">Other</option>\n                  </select>\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Location\n                </label>\n                <input\n                  type=\"text\"\n                  value={activityLocation}\n                  onChange={(e) => setActivityLocation(e.target.value)}\n                  placeholder=\"Optional location details\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Description\n                </label>\n                <textarea\n                  value={activityDescription}\n                  onChange={(e) => setActivityDescription(e.target.value)}\n                  rows={3}\n                  placeholder=\"Share details to remember\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Estimated Cost\n                </label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  value={activityCost}\n                  onChange={(e) => setActivityCost(e.target.value)}\n                  placeholder=\"Optional cost\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                />\n              </div>\n\n              <div className=\"flex space-x-3 pt-4\">\n                <button\n                  onClick={closeActivityModal}\n                  className=\"flex-1 px-4 py-3 border border-secondary border-opacity-30 text-secondary rounded-lg hover:bg-secondary hover:bg-opacity-5 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleSubmitActivity}\n                  className=\"flex-1 btn-primary py-3 px-4 rounded-lg font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  disabled={activityTitle.trim() === \"\" || isActivitySaving}\n                >\n                  {isActivitySaving ? \"Saving...\" : \"Save Activity\"}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Notes Modal */}\n      {notesModal && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white/95 backdrop-blur-lg rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-white/20\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-xl font-bold text-gray-900\">\n                üìù Day Notes ¬∑ Day {notesModal.dayIndex + 1}\n              </h2>\n              <button\n                onClick={closeNotesModal}\n                className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\n              >\n                <svg\n                  className=\"w-5 h-5 text-gray-500\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M6 18L18 6M6 6l12 12\"\n                  />\n                </svg>\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Notes\n                </label>\n                <textarea\n                  value={notesValue}\n                  onChange={(e) => setNotesValue(e.target.value)}\n                  rows={5}\n                  placeholder=\"Add notes about this day...\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                  autoFocus\n                />\n              </div>\n\n              <div className=\"flex space-x-3 pt-4\">\n                <button\n                  onClick={closeNotesModal}\n                  className=\"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleSaveNotes}\n                  className=\"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  disabled={isNotesSaving}\n                >\n                  {isNotesSaving ? \"Saving...\" : \"Save Notes\"}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Expense Modal */}\n      {expenseModal && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white/95 backdrop-blur-lg rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-white/20\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-xl font-bold text-gray-900\">\n                üí∞ Add Expense ¬∑ Day {expenseModal.dayIndex + 1}\n              </h2>\n              <button\n                onClick={closeExpenseModal}\n                className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\n              >\n                <svg\n                  className=\"w-5 h-5 text-gray-500\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M6 18L18 6M6 6l12 12\"\n                  />\n                </svg>\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Description *\n                </label>\n                <input\n                  type=\"text\"\n                  value={expenseTitle}\n                  onChange={(e) => setExpenseTitle(e.target.value)}\n                  placeholder=\"e.g., Lunch at restaurant\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                  autoFocus\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Amount *\n                  </label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    step=\"0.01\"\n                    value={expenseAmount}\n                    onChange={(e) => setExpenseAmount(e.target.value)}\n                    placeholder=\"0.00\"\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Category\n                  </label>\n                  <select\n                    value={expenseCategory}\n                    onChange={(e) => setExpenseCategory(e.target.value as any)}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all bg-white/80\"\n                  >\n                    <option value=\"food\">üçΩÔ∏è Food</option>\n                    <option value=\"transport\">üöó Transport</option>\n                    <option value=\"accommodation\">üè® Accommodation</option>\n                    <option value=\"shopping\">üõçÔ∏è Shopping</option>\n                    <option value=\"activities\">üé≠ Activities</option>\n                    <option value=\"other\">üìå Other</option>\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"flex space-x-3 pt-4\">\n                <button\n                  onClick={closeExpenseModal}\n                  className=\"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleSaveExpense}\n                  className=\"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  disabled={\n                    !expenseTitle.trim() ||\n                    !expenseAmount.trim() ||\n                    isExpenseSaving\n                  }\n                >\n                  {isExpenseSaving ? \"Saving...\" : \"Add Expense\"}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","'use client';\n\nimport { useState } from 'react';\n\ninterface MediaCarouselProps {\n  media: any[];\n  dayIndex: number;\n  currentIndex: number;\n  onIndexChange: (dayIndex: number, index: number) => void;\n  onDelete?: (mediaId: string) => Promise<void>;\n}\n\nexport default function MediaCarousel({\n  media,\n  dayIndex,\n  currentIndex,\n  onIndexChange,\n  onDelete,\n}: MediaCarouselProps) {\n  const [touchStart, setTouchStart] = useState(0);\n  const [touchEnd, setTouchEnd] = useState(0);\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  if (!media || media.length === 0) {\n    return null;\n  }\n\n  const currentMedia = media[currentIndex || 0];\n  const totalMedia = media.length;\n\n  const handlePrevious = () => {\n    const newIndex = currentIndex > 0 ? currentIndex - 1 : totalMedia - 1;\n    onIndexChange(dayIndex, newIndex);\n  };\n\n  const handleNext = () => {\n    const newIndex = currentIndex < totalMedia - 1 ? currentIndex + 1 : 0;\n    onIndexChange(dayIndex, newIndex);\n  };\n\n  const handleTouchStart = (e: React.TouchEvent) => {\n    setTouchStart(e.targetTouches[0].clientX);\n  };\n\n  const handleTouchEnd = (e: React.TouchEvent) => {\n    setTouchEnd(e.changedTouches[0].clientX);\n    handleSwipe();\n  };\n\n  const handleSwipe = () => {\n    if (touchStart - touchEnd > 50) {\n      handleNext();\n    }\n    if (touchEnd - touchStart > 50) {\n      handlePrevious();\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!onDelete || !currentMedia) return;\n    \n    if (confirm('Delete this photo/video?')) {\n      setIsDeleting(true);\n      try {\n        await onDelete(currentMedia.id);\n      } catch (error) {\n        console.error('Error deleting media:', error);\n        alert('Failed to delete media');\n      } finally {\n        setIsDeleting(false);\n      }\n    }\n  };\n\n  return (\n    <div className=\"relative w-full bg-gray-900 rounded-lg overflow-hidden\">\n      {/* Main Image/Video */}\n      <div\n        className=\"relative w-full aspect-video bg-black\"\n        onTouchStart={handleTouchStart}\n        onTouchEnd={handleTouchEnd}\n      >\n        {currentMedia.type === 'image' ? (\n          <img\n            src={currentMedia.url}\n            alt={currentMedia.title}\n            className=\"w-full h-full object-cover\"\n          />\n        ) : (\n          <video\n            src={currentMedia.url}\n            className=\"w-full h-full object-cover\"\n            controls\n          />\n        )}\n\n        {/* Left Arrow */}\n        <button\n          onClick={handlePrevious}\n          className=\"absolute left-4 top-1/2 -translate-y-1/2 bg-white/30 hover:bg-white/50 text-white p-3 rounded-full transition-all z-10\"\n        >\n          ‚Äπ\n        </button>\n\n        {/* Right Arrow */}\n        <button\n          onClick={handleNext}\n          className=\"absolute right-4 top-1/2 -translate-y-1/2 bg-white/30 hover:bg-white/50 text-white p-3 rounded-full transition-all z-10\"\n        >\n          ‚Ä∫\n        </button>\n\n        {/* Counter */}\n        <div className=\"absolute top-4 right-4 bg-black/60 text-white px-3 py-1 rounded-full text-sm font-medium\">\n          {currentIndex + 1} / {totalMedia}\n        </div>\n\n        {/* Delete Button */}\n        {onDelete && (\n          <button\n            onClick={handleDelete}\n            disabled={isDeleting}\n            className=\"absolute top-4 left-4 text-white p-2 rounded-full transition-all z-10 disabled:opacity-50\"\n            style={{backgroundColor: 'rgba(10, 64, 12, 0.8)'}}\n            onMouseEnter={(e) => (e.target as HTMLElement).style.backgroundColor = 'rgba(129, 144, 103, 0.9)'}\n            onMouseLeave={(e) => (e.target as HTMLElement).style.backgroundColor = 'rgba(10, 64, 12, 0.8)'}\n            title=\"Delete this photo/video\"\n          >\n            üóëÔ∏è\n          </button>\n        )}\n      </div>\n\n      {/* Thumbnail Strip */}\n      {totalMedia > 1 && (\n        <div className=\"flex gap-2 p-3 bg-gray-800 overflow-x-auto\">\n          {media.map((item, index) => (\n            <button\n              key={item.id}\n              onClick={() => onIndexChange(dayIndex, index)}\n              className={`flex-shrink-0 w-12 h-12 rounded-md overflow-hidden transition-all ${\n                index === currentIndex\n                  ? 'ring-2 ring-white opacity-100'\n                  : 'opacity-60 hover:opacity-80'\n              }`}\n            >\n              {item.type === 'image' ? (\n                <img\n                  src={item.url}\n                  alt={item.title}\n                  className=\"w-full h-full object-cover\"\n                />\n              ) : (\n                <div className=\"w-full h-full bg-gray-700 flex items-center justify-center\">\n                  <span className=\"text-white text-xl\">‚ñ∂</span>\n                </div>\n              )}\n            </button>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n","'use client';\n\nimport { useState } from 'react';\nimport { PackingItem } from '@/types/itinerary';\n\ninterface PackingListProps {\n  packingList: PackingItem[];\n  onUpdatePackingList: (packingList: PackingItem[]) => void;\n}\n\nexport default function PackingList({ packingList, onUpdatePackingList }: PackingListProps) {\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [newItem, setNewItem] = useState({\n    name: '',\n    category: 'other' as PackingItem['category'],\n    quantity: 1,\n    essential: false,\n    notes: ''\n  });\n  const [filter, setFilter] = useState<'all' | 'packed' | 'unpacked' | 'essential'>('all');\n\n  const categories = [\n    { id: 'clothing', name: 'Clothing', icon: 'üëï', color: 'text-primary', bgColor: '#fefae0' },\n    { id: 'electronics', name: 'Electronics', icon: 'üì±', color: 'text-secondary', bgColor: '#fefae0' },\n    { id: 'toiletries', name: 'Toiletries', icon: 'üß¥', color: 'text-accent', bgColor: '#fefae0' },\n    { id: 'documents', name: 'Documents', icon: 'üìÑ', color: 'text-primary', bgColor: '#b1ab86' },\n    { id: 'medications', name: 'Medications', icon: 'üíä', color: 'text-secondary', bgColor: '#b1ab86' },\n    { id: 'accessories', name: 'Accessories', icon: 'üëú', color: 'text-accent', bgColor: '#819067' },\n    { id: 'other', name: 'Other', icon: 'üì¶', color: 'text-primary', bgColor: '#819067' },\n  ];\n\n  const getCategoryInfo = (categoryId: string) => \n    categories.find(cat => cat.id === categoryId) || categories[categories.length - 1];\n\n  const togglePacked = (itemId: string) => {\n    const updatedList = packingList.map(item =>\n      item.id === itemId ? { ...item, packed: !item.packed } : item\n    );\n    onUpdatePackingList(updatedList);\n  };\n\n  const addItem = () => {\n    if (!newItem.name.trim()) return;\n    \n    const item: PackingItem = {\n      id: Date.now().toString(),\n      ...newItem,\n      name: newItem.name.trim(),\n      packed: false\n    };\n    \n    onUpdatePackingList([...packingList, item]);\n    setNewItem({ name: '', category: 'other', quantity: 1, essential: false, notes: '' });\n    setShowAddForm(false);\n  };\n\n  const removeItem = (itemId: string) => {\n    onUpdatePackingList(packingList.filter(item => item.id !== itemId));\n  };\n\n  const filteredItems = packingList.filter(item => {\n    switch (filter) {\n      case 'packed': return item.packed;\n      case 'unpacked': return !item.packed;\n      case 'essential': return item.essential;\n      default: return true;\n    }\n  });\n\n  const groupedItems = categories.reduce((acc, category) => {\n    acc[category.id] = filteredItems.filter(item => item.category === category.id);\n    return acc;\n  }, {} as Record<string, PackingItem[]>);\n\n  const packedCount = packingList.filter(item => item.packed).length;\n  const totalCount = packingList.length;\n  const essentialCount = packingList.filter(item => item.essential && !item.packed).length;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header Stats */}\n      <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">Packing List</h2>\n            <p className=\"text-gray-600\">Keep track of everything you need</p>\n          </div>\n          <button\n            onClick={() => setShowAddForm(true)}\n            className=\"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n          >\n            + Add Item\n          </button>\n        </div>\n\n        {/* Progress Bar */}\n        <div className=\"mb-6\">\n          <div className=\"flex justify-between items-center mb-2\">\n            <span className=\"text-sm font-medium text-gray-700\">\n              Progress: {packedCount}/{totalCount} items packed\n            </span>\n            <span className=\"text-sm font-medium text-purple-600\">\n              {totalCount > 0 ? Math.round((packedCount / totalCount) * 100) : 0}%\n            </span>\n          </div>\n          <div className=\"w-full bg-gray-200 rounded-full h-3\">\n            <div \n              className=\"bg-gradient-to-r from-purple-500 to-blue-500 h-3 rounded-full transition-all duration-500\"\n              style={{ width: `${totalCount > 0 ? (packedCount / totalCount) * 100 : 0}%` }}\n            ></div>\n          </div>\n          {essentialCount > 0 && (\n            <p className=\"text-sm mt-2\" style={{color: '#0a400c'}}>\n              ‚ö†Ô∏è {essentialCount} essential item{essentialCount > 1 ? 's' : ''} still need{essentialCount === 1 ? 's' : ''} to be packed\n            </p>\n          )}\n        </div>\n\n        {/* Filter Buttons */}\n        <div className=\"flex flex-wrap gap-2\">\n          {[\n            { id: 'all', name: 'All Items', count: packingList.length },\n            { id: 'unpacked', name: 'To Pack', count: packingList.length - packedCount },\n            { id: 'packed', name: 'Packed', count: packedCount },\n            { id: 'essential', name: 'Essential', count: packingList.filter(item => item.essential).length },\n          ].map(filterOption => (\n            <button\n              key={filterOption.id}\n              onClick={() => setFilter(filterOption.id as any)}\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${\n                filter === filterOption.id\n                  ? 'bg-purple-600 text-white shadow-lg'\n                  : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n              }`}\n            >\n              {filterOption.name} ({filterOption.count})\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Add Item Modal */}\n      {showAddForm && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl max-w-md w-full p-6 border border-white/20\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h3 className=\"text-xl font-bold text-gray-900\">Add Packing Item</h3>\n              <button\n                onClick={() => setShowAddForm(false)}\n                className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\n              >\n                <svg className=\"w-5 h-5 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              <input\n                type=\"text\"\n                value={newItem.name}\n                onChange={(e) => setNewItem({ ...newItem, name: e.target.value })}\n                placeholder=\"Item name\"\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n              />\n\n              <select\n                value={newItem.category}\n                onChange={(e) => setNewItem({ ...newItem, category: e.target.value as PackingItem['category'] })}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n              >\n                {categories.map(category => (\n                  <option key={category.id} value={category.id}>\n                    {category.icon} {category.name}\n                  </option>\n                ))}\n              </select>\n\n              <input\n                type=\"number\"\n                value={newItem.quantity}\n                onChange={(e) => setNewItem({ ...newItem, quantity: Math.max(1, parseInt(e.target.value) || 1) })}\n                placeholder=\"Quantity\"\n                min=\"1\"\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n              />\n\n              <textarea\n                value={newItem.notes}\n                onChange={(e) => setNewItem({ ...newItem, notes: e.target.value })}\n                placeholder=\"Notes (optional)\"\n                rows={2}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none\"\n              />\n\n              <label className=\"flex items-center space-x-3\">\n                <input\n                  type=\"checkbox\"\n                  checked={newItem.essential}\n                  onChange={(e) => setNewItem({ ...newItem, essential: e.target.checked })}\n                  className=\"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500\"\n                />\n                <span className=\"text-sm font-medium text-gray-700\">Mark as essential</span>\n              </label>\n\n              <div className=\"flex space-x-3 pt-4\">\n                <button\n                  onClick={() => setShowAddForm(false)}\n                  className=\"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={addItem}\n                  className=\"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200\"\n                >\n                  Add Item\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Packing Items by Category */}\n      <div className=\"space-y-6\">\n        {categories.map(category => {\n          const items = groupedItems[category.id];\n          if (items.length === 0) return null;\n\n          return (\n            <div key={category.id} className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <div className=\"flex items-center space-x-3\">\n                  <span className=\"text-2xl\">{category.icon}</span>\n                  <h3 className=\"text-lg font-semibold text-gray-900\">{category.name}</h3>\n                  <span \n                    className=\"px-2 py-1 rounded-full text-xs font-medium\"\n                    style={{\n                      backgroundColor: category.bgColor,\n                      color: category.color === 'text-primary' ? '#0a400c' : \n                             category.color === 'text-secondary' ? '#819067' : '#b1ab86'\n                    }}\n                  >\n                    {items.filter(item => item.packed).length}/{items.length}\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"space-y-3\">\n                {items.map(item => (\n                  <div\n                    key={item.id}\n                    className={`flex items-center justify-between p-4 rounded-xl border-2 transition-all duration-200 ${\n                      item.packed\n                        ? 'border-green-200 opacity-75'\n                        : item.essential\n                        ? 'border-primary'\n                        : 'bg-gray-50 border-gray-200'\n                    }`}\n                    style={{\n                      backgroundColor: item.packed ? '#b1ab86' : item.essential ? '#fefae0' : '#fefae0',\n                      borderColor: item.packed ? '#819067' : item.essential ? '#0a400c' : '#819067'\n                    }}\n                  >\n                    <div className=\"flex items-center space-x-4\">\n                      <button\n                        onClick={() => togglePacked(item.id)}\n                        className={`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${\n                          item.packed\n                            ? 'bg-green-500 border-green-500 text-white'\n                            : 'border-gray-300 hover:border-purple-500'\n                        }`}\n                      >\n                        {item.packed && (\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                          </svg>\n                        )}\n                      </button>\n\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center space-x-2\">\n                          <span className={`font-medium ${item.packed ? 'line-through text-gray-500' : 'text-gray-900'}`}>\n                            {item.name}\n                          </span>\n                          {item.essential && (\n                            <span className=\"px-2 py-1 text-xs font-medium rounded-full\" style={{backgroundColor: '#b1ab86', color: '#0a400c'}}>\n                              Essential\n                            </span>\n                          )}\n                          {item.quantity > 1 && (\n                            <span className=\"px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded-full\">\n                              x{item.quantity}\n                            </span>\n                          )}\n                        </div>\n                        {item.notes && (\n                          <p className=\"text-sm text-gray-500 mt-1\">{item.notes}</p>\n                        )}\n                      </div>\n                    </div>\n\n                    <button\n                      onClick={() => removeItem(item.id)}\n                      className=\"p-2 rounded-lg transition-colors\"\n                      style={{color: '#b1ab86'}}\n                      onMouseEnter={(e) => {\n                        (e.target as HTMLElement).style.color = '#0a400c';\n                        (e.target as HTMLElement).style.backgroundColor = '#fefae0';\n                      }}\n                      onMouseLeave={(e) => {\n                        (e.target as HTMLElement).style.color = '#b1ab86';\n                        (e.target as HTMLElement).style.backgroundColor = 'transparent';\n                      }}\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                      </svg>\n                    </button>\n                  </div>\n                ))}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {filteredItems.length === 0 && (\n        <div className=\"text-center py-12\">\n          <div className=\"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <span className=\"text-4xl\">üß≥</span>\n          </div>\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No items found</h3>\n          <p className=\"text-gray-600 mb-6\">\n            {filter === 'all' ? 'Start by adding items to your packing list' : `No ${filter} items to show`}\n          </p>\n          {filter === 'all' && (\n            <button\n              onClick={() => setShowAddForm(true)}\n              className=\"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200\"\n            >\n              Add Your First Item\n            </button>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState } from \"react\";\nimport { Expense } from \"@/types/itinerary\";\nimport { format, parseISO } from \"date-fns\";\n\ninterface ExpenseTrackerProps {\n  expenses: Expense[];\n  budget: number;\n  currency: string;\n  onUpdateExpenses: (expenses: Expense[]) => void;\n}\n\nexport default function ExpenseTracker({\n  expenses,\n  budget,\n  currency,\n  onUpdateExpenses,\n}: ExpenseTrackerProps) {\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [newExpense, setNewExpense] = useState({\n    title: \"\",\n    amount: 0,\n    category: \"other\" as Expense[\"category\"],\n    date: new Date().toISOString().split(\"T\")[0],\n    description: \"\",\n  });\n  const [filter, setFilter] = useState<\"all\" | Expense[\"category\"]>(\"all\");\n\n  const categories = [\n    {\n      id: \"accommodation\",\n      name: \"Accommodation\", \n      icon: \"üè®\",\n      color: \"text-primary\",\n      bgColor: \"#fefae0\",\n    },\n    {\n      id: \"food\",\n      name: \"Food & Drinks\",\n      icon: \"üçΩÔ∏è\", \n      color: \"text-secondary\",\n      bgColor: \"#fefae0\",\n    },\n    {\n      id: \"transport\",\n      name: \"Transport\",\n      icon: \"üöó\",\n      color: \"text-accent\",\n      bgColor: \"#fefae0\",\n    },\n    {\n      id: \"activities\",\n      name: \"Activities\",\n      icon: \"üéØ\",\n      color: \"text-primary\",\n      bgColor: \"#b1ab86\",\n    },\n    {\n      id: \"shopping\",\n      name: \"Shopping\", \n      icon: \"üõçÔ∏è\",\n      color: \"text-secondary\",\n      bgColor: \"#b1ab86\",\n    },\n    {\n      id: \"other\",\n      name: \"Other\",\n      icon: \"üì¶\",\n      color: \"text-accent\",\n      bgColor: \"#819067\",\n    },\n  ];\n\n  const getCategoryInfo = (categoryId: string) =>\n    categories.find((cat) => cat.id === categoryId) ||\n    categories[categories.length - 1];\n\n  const addExpense = () => {\n    if (!newExpense.title.trim() || newExpense.amount <= 0) return;\n\n    const expense: Expense = {\n      id: Date.now().toString(),\n      ...newExpense,\n      currency,\n      title: newExpense.title.trim(),\n    };\n\n    onUpdateExpenses([...expenses, expense]);\n    setNewExpense({\n      title: \"\",\n      amount: 0,\n      category: \"other\",\n      date: new Date().toISOString().split(\"T\")[0],\n      description: \"\",\n    });\n    setShowAddForm(false);\n  };\n\n  const removeExpense = async (expenseId: string) => {\n    // Remove from local state first\n    const updatedExpenses = expenses.filter(\n      (expense) => expense.id !== expenseId\n    );\n    onUpdateExpenses(updatedExpenses);\n\n    // Delete from database\n    try {\n      const { deleteExpense } = await import(\"@/lib/trip-service\");\n      await deleteExpense(expenseId);\n      console.log(\"Expense deleted successfully\");\n    } catch (error) {\n      console.error(\"Error deleting expense:\", error);\n    }\n  };\n\n  const filteredExpenses = expenses.filter(\n    (expense) => filter === \"all\" || expense.category === filter\n  );\n\n  const totalSpent = expenses.reduce((sum, expense) => sum + expense.amount, 0);\n  const remaining = budget - totalSpent;\n  const spentPercentage = budget > 0 ? (totalSpent / budget) * 100 : 0;\n\n  const expensesByCategory = categories\n    .map((category) => ({\n      ...category,\n      total: expenses\n        .filter((expense) => expense.category === category.id)\n        .reduce((sum, expense) => sum + expense.amount, 0),\n      count: expenses.filter((expense) => expense.category === category.id)\n        .length,\n    }))\n    .filter((category) => category.count > 0);\n\n  const getBudgetStatus = () => {\n    if (spentPercentage > 100)\n      return {\n        color: \"#0a400c\",\n        bg: \"#0a400c\", \n        status: \"Over Budget!\",\n      };\n    if (spentPercentage > 80)\n      return {\n        color: \"#819067\",\n        bg: \"#b1ab86\",\n        status: \"Close to Limit\",\n      };\n    return { color: \"#819067\", bg: \"#819067\", status: \"On Track\" };\n  };\n\n  const budgetStatus = getBudgetStatus();\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Budget Overview */}\n      <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">\n              Expense Tracker\n            </h2>\n            <p className=\"text-gray-600\">\n              Monitor your spending and stay on budget\n            </p>\n          </div>\n          <button\n            onClick={() => setShowAddForm(true)}\n            className=\"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n          >\n            + Add Expense\n          </button>\n        </div>\n\n        {/* Budget Progress */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\n          <div className=\"text-center\">\n            <div className=\"text-3xl font-bold text-gray-900 mb-1\">\n              {budget.toLocaleString()} {currency}\n            </div>\n            <div className=\"text-sm text-gray-600\">Total Budget</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-3xl font-bold mb-1\" style={{color: '#0a400c'}}>\n              {totalSpent.toLocaleString()} {currency}\n            </div>\n            <div className=\"text-sm text-gray-600\">Total Spent</div>\n          </div>\n          <div className=\"text-center\">\n            <div\n              className=\"text-3xl font-bold mb-1\"\n              style={{color: remaining >= 0 ? '#819067' : '#0a400c'}}\n            >\n              {remaining.toLocaleString()} {currency}\n            </div>\n            <div className=\"text-sm text-gray-600\">Remaining</div>\n          </div>\n        </div>\n\n        {/* Progress Bar */}\n        <div className=\"mb-4\">\n          <div className=\"flex justify-between items-center mb-2\">\n            <span className=\"text-sm font-medium text-gray-700\">\n              Budget Usage\n            </span>\n            <span className={`text-sm font-medium ${budgetStatus.color}`}>\n              {Math.round(spentPercentage)}% ‚Ä¢ {budgetStatus.status}\n            </span>\n          </div>\n          <div className=\"w-full bg-gray-200 rounded-full h-3\">\n            <div\n              className={`h-3 rounded-full transition-all duration-500 ${budgetStatus.bg}`}\n              style={{ width: `${Math.min(spentPercentage, 100)}%` }}\n            ></div>\n          </div>\n        </div>\n\n        {/* Category Breakdown */}\n        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4\">\n          {expensesByCategory.map((category) => (\n            <div\n              key={category.id}\n              className=\"text-center p-3 bg-gray-50 rounded-xl\"\n            >\n              <div className=\"text-2xl mb-1\">{category.icon}</div>\n              <div className=\"text-sm font-medium text-gray-900\">\n                {category.total.toLocaleString()} {currency}\n              </div>\n              <div className=\"text-xs text-gray-600\">{category.name}</div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Add Expense Modal */}\n      {showAddForm && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl max-w-md w-full p-6 border border-white/20\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h3 className=\"text-xl font-bold text-gray-900\">Add Expense</h3>\n              <button\n                onClick={() => setShowAddForm(false)}\n                className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\n              >\n                <svg\n                  className=\"w-5 h-5 text-gray-500\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M6 18L18 6M6 6l12 12\"\n                  />\n                </svg>\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              <input\n                type=\"text\"\n                value={newExpense.title}\n                onChange={(e) =>\n                  setNewExpense({ ...newExpense, title: e.target.value })\n                }\n                placeholder=\"Expense title\"\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              />\n\n              <div className=\"flex space-x-3\">\n                <input\n                  type=\"number\"\n                  value={newExpense.amount || \"\"}\n                  onChange={(e) =>\n                    setNewExpense({\n                      ...newExpense,\n                      amount: parseFloat(e.target.value) || 0,\n                    })\n                  }\n                  placeholder=\"Amount\"\n                  min=\"0\"\n                  step=\"0.01\"\n                  className=\"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                />\n                <div className=\"px-4 py-3 bg-gray-100 rounded-xl text-gray-700 font-medium\">\n                  {currency}\n                </div>\n              </div>\n\n              <select\n                value={newExpense.category}\n                onChange={(e) =>\n                  setNewExpense({\n                    ...newExpense,\n                    category: e.target.value as Expense[\"category\"],\n                  })\n                }\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              >\n                {categories.map((category) => (\n                  <option key={category.id} value={category.id}>\n                    {category.icon} {category.name}\n                  </option>\n                ))}\n              </select>\n\n              <input\n                type=\"date\"\n                value={newExpense.date}\n                onChange={(e) =>\n                  setNewExpense({ ...newExpense, date: e.target.value })\n                }\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              />\n\n              <textarea\n                value={newExpense.description}\n                onChange={(e) =>\n                  setNewExpense({ ...newExpense, description: e.target.value })\n                }\n                placeholder=\"Description (optional)\"\n                rows={2}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none\"\n              />\n\n              <div className=\"flex space-x-3 pt-4\">\n                <button\n                  onClick={() => setShowAddForm(false)}\n                  className=\"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={addExpense}\n                  className=\"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-200\"\n                >\n                  Add Expense\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Filter Buttons */}\n      <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-white/20\">\n        <div className=\"flex flex-wrap gap-2\">\n          <button\n            onClick={() => setFilter(\"all\")}\n            className={`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${\n              filter === \"all\"\n                ? \"text-white shadow-lg\"\n                : \"text-gray-700 hover:bg-gray-200\"\n            }`}\n            style={{\n              backgroundColor: filter === \"all\" ? \"#0a400c\" : \"#fefae0\",\n            }}\n          >\n            All Expenses ({expenses.length})\n          </button>\n          {categories.map((category) => {\n            const count = expenses.filter(\n              (expense) => expense.category === category.id\n            ).length;\n            if (count === 0) return null;\n\n            return (\n              <button\n                key={category.id}\n                onClick={() => setFilter(category.id as Expense[\"category\"])}\n                className={`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${\n                  filter === category.id\n                    ? \"text-white shadow-lg\"\n                    : \"text-gray-700 hover:bg-gray-200\"\n                }`}\n                style={{\n                  backgroundColor: filter === category.id ? \"#819067\" : \"#fefae0\",\n                }}\n              >\n                {category.icon} {category.name} ({count})\n              </button>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Expenses List */}\n      <div className=\"space-y-4\">\n        {filteredExpenses.length > 0 ? (\n          filteredExpenses\n            .sort(\n              (a, b) => parseISO(b.date).getTime() - parseISO(a.date).getTime()\n            )\n            .map((expense) => {\n              const categoryInfo = getCategoryInfo(expense.category);\n              return (\n                <div\n                  key={expense.id}\n                  className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 hover:shadow-xl transition-all duration-200\"\n                >\n                  <div className=\"flex justify-between items-start\">\n                    <div className=\"flex items-start space-x-4\">\n                      <div className=\"text-3xl\">{categoryInfo.icon}</div>\n                      <div className=\"flex-1\">\n                        <h3 className=\"text-lg font-semibold text-gray-900\">\n                          {expense.title}\n                        </h3>\n                        <div className=\"flex items-center space-x-4 mt-1\">\n                          <span\n                            className={`px-3 py-1 rounded-full text-xs font-medium ${categoryInfo.color}`}\n                            style={{\n                              backgroundColor: categoryInfo.bgColor,\n                              color: categoryInfo.color === 'text-primary' ? '#0a400c' : \n                                     categoryInfo.color === 'text-secondary' ? '#819067' : '#b1ab86'\n                            }}\n                          >\n                            {categoryInfo.name}\n                          </span>\n                          <span className=\"text-sm text-gray-600\">\n                            {format(parseISO(expense.date), \"MMM d, yyyy\")}\n                          </span>\n                        </div>\n                        {expense.description && (\n                          <p className=\"text-sm text-gray-600 mt-2\">\n                            {expense.description}\n                          </p>\n                        )}\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-center space-x-4\">\n                      <div className=\"text-right\">\n                        <div className=\"text-2xl font-bold text-gray-900\">\n                          {expense.amount.toLocaleString()} {expense.currency}\n                        </div>\n                      </div>\n                      <button\n                        onClick={() => removeExpense(expense.id)}\n                        className=\"p-2 text-gray-400 rounded-lg transition-colors\"\n                        style={{\n                          color: '#b1ab86'\n                        }}\n                        onMouseEnter={(e) => {\n                          (e.target as HTMLElement).style.color = '#0a400c';\n                          (e.target as HTMLElement).style.backgroundColor = '#fefae0';\n                        }}\n                        onMouseLeave={(e) => {\n                          (e.target as HTMLElement).style.color = '#b1ab86';\n                          (e.target as HTMLElement).style.backgroundColor = 'transparent';\n                        }}\n                      >\n                        <svg\n                          className=\"w-5 h-5\"\n                          fill=\"none\"\n                          stroke=\"currentColor\"\n                          viewBox=\"0 0 24 24\"\n                        >\n                          <path\n                            strokeLinecap=\"round\"\n                            strokeLinejoin=\"round\"\n                            strokeWidth={2}\n                            d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n                          />\n                        </svg>\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              );\n            })\n        ) : (\n          <div className=\"text-center py-12\">\n            <div className=\"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <span className=\"text-4xl\">üí∞</span>\n            </div>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n              No expenses found\n            </h3>\n            <p className=\"text-gray-600 mb-6\">\n              {filter === \"all\"\n                ? \"Start tracking your trip expenses\"\n                : `No ${getCategoryInfo(\n                    filter\n                  ).name.toLowerCase()} expenses to show`}\n            </p>\n            {filter === \"all\" && (\n              <button\n                onClick={() => setShowAddForm(true)}\n                className=\"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-200\"\n              >\n                Add Your First Expense\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState } from \"react\";\nimport { ItineraryDay, Accommodation } from \"@/types/itinerary\";\nimport { format, differenceInDays, parseISO } from \"date-fns\";\n\ninterface AccommodationManagerProps {\n  itinerary: ItineraryDay[];\n  onUpdateItinerary: (itinerary: ItineraryDay[]) => void;\n}\n\nexport default function AccommodationManager({\n  itinerary,\n  onUpdateItinerary,\n}: AccommodationManagerProps) {\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [editingAccommodation, setEditingAccommodation] = useState<{\n    dayIndex: number;\n    accommodation: Accommodation;\n  } | null>(null);\n  const [newAccommodation, setNewAccommodation] = useState({\n    name: \"\",\n    type: \"hotel\" as Accommodation[\"type\"],\n    address: \"\",\n    checkIn: \"\",\n    checkOut: \"\",\n    cost: 0,\n    currency: \"USD\",\n    rating: 5,\n    amenities: [] as string[],\n    notes: \"\",\n    bookingReference: \"\",\n    contactInfo: \"\",\n  });\n\n  const accommodationTypes = [\n    { id: \"hotel\", name: \"Hotel\", icon: \"üè®\" },\n    { id: \"airbnb\", name: \"Airbnb\", icon: \"üè†\" },\n    { id: \"hostel\", name: \"Hostel\", icon: \"üè¢\" },\n    { id: \"resort\", name: \"Resort\", icon: \"üèñÔ∏è\" },\n    { id: \"apartment\", name: \"Apartment\", icon: \"üè†\" },\n    { id: \"other\", name: \"Other\", icon: \"üèòÔ∏è\" },\n  ];\n\n  const commonAmenities = [\n    \"WiFi\",\n    \"Parking\",\n    \"Pool\",\n    \"Gym\",\n    \"Spa\",\n    \"Restaurant\",\n    \"Room Service\",\n    \"Air Conditioning\",\n    \"Kitchen\",\n    \"Laundry\",\n    \"Pet Friendly\",\n    \"Business Center\",\n    \"Airport Shuttle\",\n    \"Breakfast Included\",\n    \"Beach Access\",\n    \"Balcony\",\n  ];\n\n  const getTypeInfo = (type: string) =>\n    accommodationTypes.find((t) => t.id === type) || accommodationTypes[0];\n\n  const addAccommodation = () => {\n    if (\n      !newAccommodation.name.trim() ||\n      !newAccommodation.checkIn ||\n      !newAccommodation.checkOut\n    )\n      return;\n\n    const accommodation: Accommodation = {\n      id: Date.now().toString(),\n      ...newAccommodation,\n      name: newAccommodation.name.trim(),\n      photos: [],\n    };\n\n    // Find the day that matches the check-in date\n    const checkInDate = new Date(newAccommodation.checkIn)\n      .toISOString()\n      .split(\"T\")[0];\n    const dayIndex = itinerary.findIndex((day) => day.date === checkInDate);\n\n    if (dayIndex !== -1) {\n      const updatedItinerary = [...itinerary];\n      updatedItinerary[dayIndex] = {\n        ...updatedItinerary[dayIndex],\n        accommodation,\n      };\n      onUpdateItinerary(updatedItinerary);\n    }\n\n    resetForm();\n  };\n\n  const updateAccommodation = () => {\n    if (!editingAccommodation) return;\n\n    const updatedItinerary = [...itinerary];\n    updatedItinerary[editingAccommodation.dayIndex] = {\n      ...updatedItinerary[editingAccommodation.dayIndex],\n      accommodation: editingAccommodation.accommodation,\n    };\n    onUpdateItinerary(updatedItinerary);\n    setEditingAccommodation(null);\n  };\n\n  const removeAccommodation = (dayIndex: number) => {\n    const updatedItinerary = [...itinerary];\n    delete updatedItinerary[dayIndex].accommodation;\n    onUpdateItinerary(updatedItinerary);\n  };\n\n  const resetForm = () => {\n    setNewAccommodation({\n      name: \"\",\n      type: \"hotel\",\n      address: \"\",\n      checkIn: \"\",\n      checkOut: \"\",\n      cost: 0,\n      currency: \"USD\",\n      rating: 5,\n      amenities: [],\n      notes: \"\",\n      bookingReference: \"\",\n      contactInfo: \"\",\n    });\n    setShowAddForm(false);\n  };\n\n  const toggleAmenity = (amenity: string, isEditing = false) => {\n    if (isEditing && editingAccommodation) {\n      const amenities = editingAccommodation.accommodation.amenities.includes(\n        amenity\n      )\n        ? editingAccommodation.accommodation.amenities.filter(\n            (a) => a !== amenity\n          )\n        : [...editingAccommodation.accommodation.amenities, amenity];\n\n      setEditingAccommodation({\n        ...editingAccommodation,\n        accommodation: { ...editingAccommodation.accommodation, amenities },\n      });\n    } else {\n      const amenities = newAccommodation.amenities.includes(amenity)\n        ? newAccommodation.amenities.filter((a) => a !== amenity)\n        : [...newAccommodation.amenities, amenity];\n\n      setNewAccommodation({ ...newAccommodation, amenities });\n    }\n  };\n\n  const accommodationsWithDays = itinerary\n    .map((day, index) => ({ ...day, dayIndex: index }))\n    .filter((day) => day.accommodation);\n\n  const totalAccommodationCost = accommodationsWithDays.reduce(\n    (sum, day) => sum + (day.accommodation?.cost || 0),\n    0\n  );\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">Accommodation</h2>\n            <p className=\"text-gray-600\">\n              Manage your hotels and places to stay\n            </p>\n          </div>\n          <button\n            onClick={() => setShowAddForm(true)}\n            className=\"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n          >\n            + Add Accommodation\n          </button>\n        </div>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          <div className=\"text-center p-4 bg-blue-50 rounded-xl\">\n            <div className=\"text-2xl font-bold text-blue-600 mb-1\">\n              {accommodationsWithDays.length}\n            </div>\n            <div className=\"text-sm text-gray-600\">Bookings</div>\n          </div>\n          <div className=\"text-center p-4 bg-green-50 rounded-xl\">\n            <div className=\"text-2xl font-bold text-green-600 mb-1\">\n              {totalAccommodationCost.toLocaleString()} USD\n            </div>\n            <div className=\"text-sm text-gray-600\">Total Cost</div>\n          </div>\n          <div className=\"text-center p-4 bg-purple-50 rounded-xl\">\n            <div className=\"text-2xl font-bold text-purple-600 mb-1\">\n              {accommodationsWithDays.reduce((sum, day) => {\n                const accommodation = day.accommodation!;\n                return (\n                  sum +\n                  differenceInDays(\n                    parseISO(accommodation.checkOut),\n                    parseISO(accommodation.checkIn)\n                  )\n                );\n              }, 0)}\n            </div>\n            <div className=\"text-sm text-gray-600\">Total Nights</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Add/Edit Accommodation Modal */}\n      {(showAddForm || editingAccommodation) && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6 border border-white/20\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h3 className=\"text-xl font-bold text-gray-900\">\n                {editingAccommodation\n                  ? \"Edit Accommodation\"\n                  : \"Add Accommodation\"}\n              </h3>\n              <button\n                onClick={() => {\n                  setShowAddForm(false);\n                  setEditingAccommodation(null);\n                }}\n                className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\n              >\n                <svg\n                  className=\"w-5 h-5 text-gray-500\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M6 18L18 6M6 6l12 12\"\n                  />\n                </svg>\n              </button>\n            </div>\n\n            <div className=\"space-y-6\">\n              {/* Basic Info */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <input\n                  type=\"text\"\n                  value={\n                    editingAccommodation\n                      ? editingAccommodation.accommodation.name\n                      : newAccommodation.name\n                  }\n                  onChange={(e) =>\n                    editingAccommodation\n                      ? setEditingAccommodation({\n                          ...editingAccommodation,\n                          accommodation: {\n                            ...editingAccommodation.accommodation,\n                            name: e.target.value,\n                          },\n                        })\n                      : setNewAccommodation({\n                          ...newAccommodation,\n                          name: e.target.value,\n                        })\n                  }\n                  placeholder=\"Accommodation name\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n\n                <select\n                  value={\n                    editingAccommodation\n                      ? editingAccommodation.accommodation.type\n                      : newAccommodation.type\n                  }\n                  onChange={(e) =>\n                    editingAccommodation\n                      ? setEditingAccommodation({\n                          ...editingAccommodation,\n                          accommodation: {\n                            ...editingAccommodation.accommodation,\n                            type: e.target.value as Accommodation[\"type\"],\n                          },\n                        })\n                      : setNewAccommodation({\n                          ...newAccommodation,\n                          type: e.target.value as Accommodation[\"type\"],\n                        })\n                  }\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  {accommodationTypes.map((type) => (\n                    <option key={type.id} value={type.id}>\n                      {type.icon} {type.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <textarea\n                value={\n                  editingAccommodation\n                    ? editingAccommodation.accommodation.address\n                    : newAccommodation.address\n                }\n                onChange={(e) =>\n                  editingAccommodation\n                    ? setEditingAccommodation({\n                        ...editingAccommodation,\n                        accommodation: {\n                          ...editingAccommodation.accommodation,\n                          address: e.target.value,\n                        },\n                      })\n                    : setNewAccommodation({\n                        ...newAccommodation,\n                        address: e.target.value,\n                      })\n                }\n                placeholder=\"Address\"\n                rows={2}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\n              />\n\n              {/* Dates and Cost */}\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <input\n                  type=\"date\"\n                  value={\n                    editingAccommodation\n                      ? editingAccommodation.accommodation.checkIn\n                      : newAccommodation.checkIn\n                  }\n                  onChange={(e) =>\n                    editingAccommodation\n                      ? setEditingAccommodation({\n                          ...editingAccommodation,\n                          accommodation: {\n                            ...editingAccommodation.accommodation,\n                            checkIn: e.target.value,\n                          },\n                        })\n                      : setNewAccommodation({\n                          ...newAccommodation,\n                          checkIn: e.target.value,\n                        })\n                  }\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n\n                <input\n                  type=\"date\"\n                  value={\n                    editingAccommodation\n                      ? editingAccommodation.accommodation.checkOut\n                      : newAccommodation.checkOut\n                  }\n                  onChange={(e) =>\n                    editingAccommodation\n                      ? setEditingAccommodation({\n                          ...editingAccommodation,\n                          accommodation: {\n                            ...editingAccommodation.accommodation,\n                            checkOut: e.target.value,\n                          },\n                        })\n                      : setNewAccommodation({\n                          ...newAccommodation,\n                          checkOut: e.target.value,\n                        })\n                  }\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n\n                <input\n                  type=\"number\"\n                  value={\n                    editingAccommodation\n                      ? editingAccommodation.accommodation.cost\n                      : newAccommodation.cost\n                  }\n                  onChange={(e) =>\n                    editingAccommodation\n                      ? setEditingAccommodation({\n                          ...editingAccommodation,\n                          accommodation: {\n                            ...editingAccommodation.accommodation,\n                            cost: parseFloat(e.target.value) || 0,\n                          },\n                        })\n                      : setNewAccommodation({\n                          ...newAccommodation,\n                          cost: parseFloat(e.target.value) || 0,\n                        })\n                  }\n                  placeholder=\"Total cost\"\n                  min=\"0\"\n                  step=\"0.01\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n\n              {/* Rating */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Rating\n                </label>\n                <div className=\"flex space-x-2\">\n                  {[1, 2, 3, 4, 5].map((star) => (\n                    <button\n                      key={star}\n                      type=\"button\"\n                      onClick={() =>\n                        editingAccommodation\n                          ? setEditingAccommodation({\n                              ...editingAccommodation,\n                              accommodation: {\n                                ...editingAccommodation.accommodation,\n                                rating: star,\n                              },\n                            })\n                          : setNewAccommodation({\n                              ...newAccommodation,\n                              rating: star,\n                            })\n                      }\n                      className={`text-2xl transition-colors ${\n                        star <=\n                        (editingAccommodation\n                          ? editingAccommodation.accommodation.rating || 0\n                          : newAccommodation.rating)\n                          ? \"text-yellow-400\"\n                          : \"text-gray-300\"\n                      }`}\n                    >\n                      ‚≠ê\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Amenities */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-3\">\n                  Amenities\n                </label>\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-2\">\n                  {commonAmenities.map((amenity) => (\n                    <label\n                      key={amenity}\n                      className=\"flex items-center space-x-2 cursor-pointer\"\n                    >\n                      <input\n                        type=\"checkbox\"\n                        checked={(editingAccommodation\n                          ? editingAccommodation.accommodation.amenities\n                          : newAccommodation.amenities\n                        ).includes(amenity)}\n                        onChange={() =>\n                          toggleAmenity(amenity, !!editingAccommodation)\n                        }\n                        className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n                      />\n                      <span className=\"text-sm text-gray-700\">{amenity}</span>\n                    </label>\n                  ))}\n                </div>\n              </div>\n\n              {/* Additional Info */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <input\n                  type=\"text\"\n                  value={\n                    editingAccommodation\n                      ? editingAccommodation.accommodation.bookingReference ||\n                        \"\"\n                      : newAccommodation.bookingReference\n                  }\n                  onChange={(e) =>\n                    editingAccommodation\n                      ? setEditingAccommodation({\n                          ...editingAccommodation,\n                          accommodation: {\n                            ...editingAccommodation.accommodation,\n                            bookingReference: e.target.value,\n                          },\n                        })\n                      : setNewAccommodation({\n                          ...newAccommodation,\n                          bookingReference: e.target.value,\n                        })\n                  }\n                  placeholder=\"Booking reference\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n\n                <input\n                  type=\"text\"\n                  value={\n                    editingAccommodation\n                      ? editingAccommodation.accommodation.contactInfo || \"\"\n                      : newAccommodation.contactInfo\n                  }\n                  onChange={(e) =>\n                    editingAccommodation\n                      ? setEditingAccommodation({\n                          ...editingAccommodation,\n                          accommodation: {\n                            ...editingAccommodation.accommodation,\n                            contactInfo: e.target.value,\n                          },\n                        })\n                      : setNewAccommodation({\n                          ...newAccommodation,\n                          contactInfo: e.target.value,\n                        })\n                  }\n                  placeholder=\"Contact info\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n\n              <textarea\n                value={\n                  editingAccommodation\n                    ? editingAccommodation.accommodation.notes || \"\"\n                    : newAccommodation.notes\n                }\n                onChange={(e) =>\n                  editingAccommodation\n                    ? setEditingAccommodation({\n                        ...editingAccommodation,\n                        accommodation: {\n                          ...editingAccommodation.accommodation,\n                          notes: e.target.value,\n                        },\n                      })\n                    : setNewAccommodation({\n                        ...newAccommodation,\n                        notes: e.target.value,\n                      })\n                }\n                placeholder=\"Notes\"\n                rows={3}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\n              />\n\n              <div className=\"flex space-x-3 pt-4\">\n                <button\n                  onClick={() => {\n                    setShowAddForm(false);\n                    setEditingAccommodation(null);\n                  }}\n                  className=\"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={\n                    editingAccommodation\n                      ? updateAccommodation\n                      : addAccommodation\n                  }\n                  className=\"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-200\"\n                >\n                  {editingAccommodation ? \"Update\" : \"Add\"} Accommodation\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Accommodations List */}\n      <div className=\"space-y-6\">\n        {accommodationsWithDays.length > 0 ? (\n          accommodationsWithDays.map((day) => {\n            const accommodation = day.accommodation!;\n            const typeInfo = getTypeInfo(accommodation.type);\n            const nights = differenceInDays(\n              parseISO(accommodation.checkOut),\n              parseISO(accommodation.checkIn)\n            );\n\n            return (\n              <div\n                key={day.dayIndex}\n                className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 hover:shadow-xl transition-all duration-200\"\n              >\n                <div className=\"flex justify-between items-start mb-4\">\n                  <div className=\"flex items-start space-x-4\">\n                    <div className=\"text-4xl\">{typeInfo.icon}</div>\n                    <div className=\"flex-1\">\n                      <h3 className=\"text-xl font-bold text-gray-900 mb-1\">\n                        {accommodation.name}\n                      </h3>\n                      <p className=\"text-gray-600 mb-2\">\n                        {accommodation.address}\n                      </p>\n\n                      <div className=\"flex items-center space-x-4 mb-3\">\n                        <span className=\"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full\">\n                          {typeInfo.name}\n                        </span>\n                        <div className=\"flex items-center\">\n                          {[...Array(5)].map((_, i) => (\n                            <span\n                              key={i}\n                              className={`text-sm ${\n                                i < (accommodation.rating || 0)\n                                  ? \"text-yellow-400\"\n                                  : \"text-gray-300\"\n                              }`}\n                            >\n                              ‚≠ê\n                            </span>\n                          ))}\n                        </div>\n                      </div>\n\n                      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                        <div>\n                          <span className=\"text-gray-600\">Check-in:</span>\n                          <div className=\"font-medium\">\n                            {format(\n                              parseISO(accommodation.checkIn),\n                              \"MMM d, yyyy\"\n                            )}\n                          </div>\n                        </div>\n                        <div>\n                          <span className=\"text-gray-600\">Check-out:</span>\n                          <div className=\"font-medium\">\n                            {format(\n                              parseISO(accommodation.checkOut),\n                              \"MMM d, yyyy\"\n                            )}\n                          </div>\n                        </div>\n                        <div>\n                          <span className=\"text-gray-600\">Nights:</span>\n                          <div className=\"font-medium\">{nights}</div>\n                        </div>\n                        <div>\n                          <span className=\"text-gray-600\">Total Cost:</span>\n                          <div className=\"font-medium\">\n                            {accommodation.cost.toLocaleString()}{\" \"}\n                            {accommodation.currency}\n                          </div>\n                        </div>\n                      </div>\n\n                      {accommodation.amenities.length > 0 && (\n                        <div className=\"mt-3\">\n                          <span className=\"text-sm text-gray-600\">\n                            Amenities:\n                          </span>\n                          <div className=\"flex flex-wrap gap-1 mt-1\">\n                            {accommodation.amenities\n                              .slice(0, 6)\n                              .map((amenity) => (\n                                <span\n                                  key={amenity}\n                                  className=\"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full\"\n                                >\n                                  {amenity}\n                                </span>\n                              ))}\n                            {accommodation.amenities.length > 6 && (\n                              <span className=\"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full\">\n                                +{accommodation.amenities.length - 6} more\n                              </span>\n                            )}\n                          </div>\n                        </div>\n                      )}\n\n                      {accommodation.notes && (\n                        <p className=\"text-sm text-gray-600 mt-3\">\n                          {accommodation.notes}\n                        </p>\n                      )}\n                    </div>\n                  </div>\n\n                  <div className=\"flex space-x-2\">\n                    <button\n                      onClick={() =>\n                        setEditingAccommodation({\n                          dayIndex: day.dayIndex,\n                          accommodation,\n                        })\n                      }\n                      className=\"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\n                    >\n                      <svg\n                        className=\"w-5 h-5\"\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          strokeWidth={2}\n                          d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\n                        />\n                      </svg>\n                    </button>\n                    <button\n                      onClick={() => removeAccommodation(day.dayIndex)}\n                      className=\"p-2 rounded-lg transition-colors\"\n                      style={{color: '#b1ab86'}}\n                      onMouseEnter={(e) => {\n                        (e.target as HTMLElement).style.color = '#0a400c';\n                        (e.target as HTMLElement).style.backgroundColor = '#fefae0';\n                      }}\n                      onMouseLeave={(e) => {\n                        (e.target as HTMLElement).style.color = '#b1ab86';\n                        (e.target as HTMLElement).style.backgroundColor = 'transparent';\n                      }}\n                    >\n                      <svg\n                        className=\"w-5 h-5\"\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          strokeWidth={2}\n                          d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n                        />\n                      </svg>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            );\n          })\n        ) : (\n          <div className=\"text-center py-12\">\n            <div className=\"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <span className=\"text-4xl\">üè®</span>\n            </div>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n              No accommodations added\n            </h3>\n            <p className=\"text-gray-600 mb-6\">\n              Add hotels, Airbnbs, or other places you'll be staying\n            </p>\n            <button\n              onClick={() => setShowAddForm(true)}\n              className=\"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-200\"\n            >\n              Add Your First Accommodation\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState } from \"react\";\nimport { Trip } from \"@/types/itinerary\";\nimport { format, differenceInDays, parseISO } from \"date-fns\";\nimport TripCollaborators from \"./TripCollaborators\";\n\ninterface TripOverviewProps {\n  trip: Trip;\n  onUpdateTrip: (updatedTrip: Partial<Trip>) => void;\n}\n\nexport default function TripOverview({\n  trip,\n  onUpdateTrip,\n}: TripOverviewProps) {\n  const [isEditing, setIsEditing] = useState(false);\n  const [showCollaborators, setShowCollaborators] = useState(false);\n  const [editData, setEditData] = useState({\n    title: trip.title,\n    description: trip.description || \"\",\n    budget: trip.budget || 0,\n  });\n\n  const duration =\n    differenceInDays(parseISO(trip.end_date), parseISO(trip.start_date)) + 1;\n  const totalExpenses = trip.expenses.reduce(\n    (sum, expense) => sum + expense.amount,\n    0\n  );\n  const remainingBudget = (trip.budget || 0) - totalExpenses;\n  const packedItems = trip.packingList.filter((item) => item.packed).length;\n  const totalItems = trip.packingList.length;\n  const completedActivities = trip.itinerary.reduce(\n    (count, day) =>\n      count + day.activities.filter((activity) => activity.completed).length,\n    0\n  );\n  const totalActivities = trip.itinerary.reduce(\n    (count, day) => count + day.activities.length,\n    0\n  );\n\n  const handleSave = () => {\n    onUpdateTrip(editData);\n    setIsEditing(false);\n  };\n\n  const getBudgetStatus = () => {\n    const percentage = (totalExpenses / (trip.budget || 1)) * 100;\n    if (percentage > 100)\n      return {\n        color: \"text-accent\",\n        bg: \"bg-accent bg-opacity-10\",\n        status: \"Over Budget!\",\n      };\n    if (percentage > 80)\n      return {\n        color: \"text-secondary\",\n        bg: \"bg-secondary bg-opacity-10\",\n        status: \"Close to Limit\",\n      };\n    return {\n      color: \"text-primary\",\n      bg: \"bg-primary bg-opacity-10\",\n      status: \"On Track\",\n    };\n  };\n\n  const budgetStatus = getBudgetStatus();\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Trip Header Card */}\n      <div className=\"glass rounded-lg p-8 shadow-lg\">\n        {isEditing ? (\n          <div className=\"space-y-6\">\n            <input\n              type=\"text\"\n              value={editData.title}\n              onChange={(e) =>\n                setEditData({ ...editData, title: e.target.value })\n              }\n              className=\"w-full text-3xl font-bold text-primary bg-transparent border-b-2 border-primary border-opacity-30 focus:border-primary outline-none pb-2\"\n              placeholder=\"Trip title\"\n            />\n            <textarea\n              value={editData.description}\n              onChange={(e) =>\n                setEditData({ ...editData, description: e.target.value })\n              }\n              className=\"w-full text-secondary bg-transparent border border-secondary border-opacity-20 rounded-lg p-4 focus:border-primary outline-none resize-none\"\n              rows={3}\n              placeholder=\"Trip description\"\n            />\n            <div className=\"flex items-center space-x-4\">\n              <label className=\"text-sm font-semibold text-gray-700\">\n                Budget:\n              </label>\n              <input\n                type=\"number\"\n                value={editData.budget}\n                onChange={(e) =>\n                  setEditData({ ...editData, budget: Number(e.target.value) })\n                }\n                className=\"px-4 py-2 border border-secondary border-opacity-20 rounded-lg focus:border-primary outline-none\"\n                placeholder=\"0\"\n              />\n              <span className=\"text-secondary\">{trip.currency}</span>\n            </div>\n            <div className=\"flex space-x-4\">\n              <button\n                onClick={handleSave}\n                className=\"btn-primary px-6 py-2 rounded-lg font-semibold transition-all duration-200\"\n              >\n                Save Changes\n              </button>\n              <button\n                onClick={() => setIsEditing(false)}\n                className=\"glass text-secondary px-6 py-2 rounded-lg font-semibold transition-all duration-200\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        ) : (\n          <div>\n            <div className=\"flex justify-between items-start mb-4\">\n              <div>\n                <h2 className=\"text-3xl font-bold text-primary mb-2\">\n                  {trip.title}\n                </h2>\n                <p className=\"text-secondary text-lg leading-relaxed\">\n                  {trip.description}\n                </p>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <button\n                  onClick={() => setShowCollaborators(true)}\n                  className=\"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-colors\"\n                  title=\"Manage collaborators\"\n                >\n                  <svg\n                    className=\"w-5 h-5\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z\"\n                    />\n                  </svg>\n                </button>\n                <button\n                  onClick={() => setIsEditing(true)}\n                  className=\"p-2 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-xl transition-colors\"\n                >\n                  <svg\n                    className=\"w-5 h-5\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\n                    />\n                  </svg>\n                </button>\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6\">\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-purple-600\">\n                  {duration}\n                </div>\n                <div className=\"text-sm text-gray-600\">Days</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-blue-600\">\n                  {trip.travelers}\n                </div>\n                <div className=\"text-sm text-gray-600\">Travelers</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold\" style={{color: '#819067'}}>\n                  {format(parseISO(trip.start_date), \"EEE, MMM d\")}\n                </div>\n                <div className=\"text-sm text-gray-600\">Start Date</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-orange-600\">\n                  {format(parseISO(trip.end_date), \"EEE, MMM d\")}\n                </div>\n                <div className=\"text-sm text-gray-600\">End Date</div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Cover Image Section */}\n      <div className=\"bg-white/90 backdrop-blur-sm rounded-3xl p-8 shadow-2xl border border-white/20\">\n        <h3 className=\"text-xl font-semibold text-gray-900 mb-4\">\n          Trip Cover Image\n        </h3>\n        <div className=\"flex flex-col md:flex-row gap-6 items-start\">\n          {trip.cover_image ? (\n            <div className=\"flex-1 relative\">\n              <img\n                src={trip.cover_image}\n                alt={trip.title}\n                className=\"w-full h-48 object-cover rounded-xl shadow-md\"\n              />\n              <button\n                onClick={() =>\n                  document.getElementById(\"cover-image-input\")?.click()\n                }\n                className=\"absolute bottom-2 right-2 bg-purple-600 text-white p-2 rounded-full hover:bg-purple-700 transition-colors\"\n                title=\"Change cover image\"\n              >\n                <svg\n                  className=\"w-5 h-5\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\n                  />\n                </svg>\n              </button>\n            </div>\n          ) : (\n            <div\n              className=\"flex-1 w-full h-48 bg-gradient-to-br from-purple-200 to-pink-200 rounded-xl flex items-center justify-center cursor-pointer hover:from-purple-300 hover:to-pink-300 transition-colors\"\n              onClick={() =>\n                document.getElementById(\"cover-image-input\")?.click()\n              }\n            >\n              <div className=\"text-center\">\n                <svg\n                  className=\"w-12 h-12 text-purple-600 mx-auto mb-2\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                  />\n                </svg>\n                <p className=\"text-purple-700 font-medium\">\n                  Click to upload cover image\n                </p>\n              </div>\n            </div>\n          )}\n          <input\n            id=\"cover-image-input\"\n            type=\"file\"\n            accept=\"image/*\"\n            className=\"hidden\"\n            onChange={async (e) => {\n              const file = e.target.files?.[0];\n              if (file) {\n                try {\n                  const { uploadTripCoverImage } = await import(\n                    \"@/lib/trip-service\"\n                  );\n                  const coverUrl = await uploadTripCoverImage(trip.id, file);\n                  onUpdateTrip({ cover_image: coverUrl });\n                } catch (error) {\n                  alert(\"Failed to upload cover image\");\n                }\n              }\n            }}\n          />\n        </div>\n      </div>\n\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        {/* Budget Card */}\n        <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold text-gray-900\">Budget</h3>\n            <div\n              className={`px-3 py-1 rounded-full text-xs font-medium ${budgetStatus.bg} ${budgetStatus.color}`}\n            >\n              {budgetStatus.status}\n            </div>\n          </div>\n          <div className=\"space-y-2\">\n            <div className=\"flex justify-between\">\n              <span className=\"text-sm text-gray-600\">Total Budget</span>\n              <span className=\"font-semibold\">\n                {trip.budget?.toLocaleString()} {trip.currency}\n              </span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-sm text-gray-600\">Spent</span>\n              <span className=\"font-semibold\" style={{color: '#0a400c'}}>\n                {totalExpenses.toLocaleString()} {trip.currency}\n              </span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-sm text-gray-600\">Remaining</span>\n              <span\n                className=\"font-semibold\"\n                style={{color: remainingBudget >= 0 ? '#819067' : '#0a400c'}}\n              >\n                {remainingBudget.toLocaleString()} {trip.currency}\n              </span>\n            </div>\n            <div className=\"w-full bg-gray-200 rounded-full h-2 mt-3\">\n              <div\n                className=\"h-2 rounded-full transition-all duration-300\"\n                style={{\n                  backgroundColor: totalExpenses > (trip.budget || 0) ? '#0a400c' : '#819067',\n                  width: `${Math.min(\n                    (totalExpenses / (trip.budget || 1)) * 100,\n                    100\n                  )}%`\n                }}\n              ></div>\n            </div>\n          </div>\n        </div>\n\n        {/* Packing Progress */}\n        <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold text-gray-900\">Packing</h3>\n            <span className=\"text-2xl\">üß≥</span>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-3xl font-bold text-purple-600 mb-2\">\n              {packedItems}/{totalItems}\n            </div>\n            <div className=\"text-sm text-gray-600 mb-3\">Items Packed</div>\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\n              <div\n                className=\"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-300\"\n                style={{\n                  width: `${\n                    totalItems > 0 ? (packedItems / totalItems) * 100 : 0\n                  }%`,\n                }}\n              ></div>\n            </div>\n            <div className=\"text-xs text-gray-500 mt-2\">\n              {totalItems > 0\n                ? Math.round((packedItems / totalItems) * 100)\n                : 0}\n              % Complete\n            </div>\n          </div>\n        </div>\n\n        {/* Activities Progress */}\n        <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold text-gray-900\">Activities</h3>\n            <span className=\"text-2xl\">üóìÔ∏è</span>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-3xl font-bold text-blue-600 mb-2\">\n              {completedActivities}/{totalActivities}\n            </div>\n            <div className=\"text-sm text-gray-600 mb-3\">Completed</div>\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\n              <div\n                className=\"bg-gradient-to-r from-blue-500 to-indigo-500 h-2 rounded-full transition-all duration-300\"\n                style={{\n                  width: `${\n                    totalActivities > 0\n                      ? (completedActivities / totalActivities) * 100\n                      : 0\n                  }%`,\n                }}\n              ></div>\n            </div>\n            <div className=\"text-xs text-gray-500 mt-2\">\n              {totalActivities > 0\n                ? Math.round((completedActivities / totalActivities) * 100)\n                : 0}\n              % Complete\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Recent Activity */}\n      <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n        <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">\n          Recent Updates\n        </h3>\n        <div className=\"text-center py-8\">\n          <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <svg\n              className=\"w-8 h-8 text-gray-400\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n              />\n            </svg>\n          </div>\n          <p className=\"text-gray-600 text-sm\">No recent activity</p>\n          <p className=\"text-gray-500 text-xs mt-1\">\n            Activity will appear here as you update your trip\n          </p>\n        </div>\n      </div>\n\n      {/* Collaborators Modal */}\n      {showCollaborators && (\n        <TripCollaborators\n          tripId={trip.id}\n          isOwner={true}\n          onClose={() => setShowCollaborators(false)}\n        />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}