module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},65277,(a,b,c)=>{"use strict";b.exports=a.r(15552).vendored.contexts.AppRouterContext},53262,(a,b,c)=>{"use strict";b.exports=a.r(15552).vendored.contexts.HooksClientContext},15641,(a,b,c)=>{"use strict";b.exports=a.r(15552).vendored.contexts.ServerInsertedHtml},67849,a=>{"use strict";var b=a.i(32360),c=a.i(43505),d=a.i(21805);function e({user:a}){let{signOut:e}=(0,c.useAuth)(),[f,g]=(0,d.useState)(!1),h=async()=>{await e()},i=a.user_metadata?.display_name?a.user_metadata.display_name.split(" ").map(a=>a[0]).join("").toUpperCase():a.email?.charAt(0).toUpperCase()||"U";return(0,b.jsx)("header",{className:"glass sticky top-0 z-50 border-b border-opacity-20 border-secondary",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,b.jsx)("a",{href:"/dashboard",className:"flex items-center hover:opacity-80 transition-opacity",children:(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("h1",{className:"text-2xl font-bold travel-gradient bg-clip-text text-transparent cursor-pointer",children:"✈️ TripTimeline"})})}),(0,b.jsx)("nav",{className:"hidden md:flex space-x-8",children:(0,b.jsx)("a",{href:"/dashboard",className:"text-primary hover:text-secondary px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Dashboard"})}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>g(!f),className:"flex items-center space-x-3 text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 hover:bg-accent hover:bg-opacity-20 p-1 transition-colors cursor-pointer",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center text-white font-semibold",children:i}),(0,b.jsxs)("div",{className:"hidden md:block text-left",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-primary",children:a.user_metadata?.display_name||"User"}),(0,b.jsx)("p",{className:"text-xs text-secondary",children:a.email})]}),(0,b.jsx)("svg",{className:`w-4 h-4 text-secondary transition-transform ${f?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),f&&(0,b.jsxs)("div",{className:"absolute right-0 mt-2 w-56 glass rounded-xl shadow-lg py-2 z-50",children:[(0,b.jsxs)("div",{className:"px-4 py-3 border-b border-opacity-20 border-secondary",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-primary",children:a.user_metadata?.display_name||"User"}),(0,b.jsx)("p",{className:"text-xs text-secondary truncate",children:a.email})]}),(0,b.jsx)("div",{className:"py-1",children:(0,b.jsxs)("a",{href:"/dashboard/profile",className:"flex items-center px-4 py-2 text-sm text-primary hover:bg-accent hover:bg-opacity-10 transition-colors",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-3 text-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profile Settings"]})}),(0,b.jsx)("div",{className:"border-t border-opacity-20 border-secondary py-1",children:(0,b.jsxs)("button",{onClick:h,className:"flex items-center w-full px-4 py-2 text-sm text-primary hover:bg-accent hover:bg-opacity-10 transition-colors",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})})]})]})]})})})}a.s(["default",()=>e])},40559,a=>{"use strict";var b=a.i(32360),c=a.i(43505),d=a.i(13801),e=a.i(21805),f=a.i(67849),g=a.i(14523);function h(){let[a,c]=(0,e.useState)(""),[d,f]=(0,e.useState)(""),[h,i]=(0,e.useState)(""),[j,k]=(0,e.useState)(!1),[l,m]=(0,e.useState)(null),n=async a=>{if(a.preventDefault(),d!==h)return void m({type:"error",text:"Passwords do not match"});if(d.length<6)return void m({type:"error",text:"Password must be at least 6 characters"});k(!0);try{let a=(0,g.createClient)(),{error:b}=await a.auth.updateUser({password:d});b?m({type:"error",text:b.message}):(m({type:"success",text:"Password changed successfully!"}),c(""),f(""),i(""))}catch(a){m({type:"error",text:"Failed to change password"})}finally{k(!1)}};return(0,b.jsxs)("form",{onSubmit:n,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),(0,b.jsx)("input",{type:"password",value:d,onChange:a=>f(a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter new password",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),(0,b.jsx)("input",{type:"password",value:h,onChange:a=>i(a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Confirm new password",required:!0})]}),l&&(0,b.jsx)("div",{className:"p-3 rounded-lg text-sm",style:{backgroundColor:(l.type,"#fefae0"),color:"success"===l.type?"#819067":"#0a400c",border:"success"===l.type?"1px solid #819067":"1px solid #0a400c"},children:l.text}),(0,b.jsx)("button",{type:"submit",disabled:j,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50",children:j?"Changing Password...":"Change Password"})]})}function i(){let{user:g,loading:i,signOut:j}=(0,c.useAuth)(),k=(0,d.useRouter)(),[l,m]=(0,e.useState)(!1),[n,o]=(0,e.useState)(""),[p,q]=(0,e.useState)(!1);if((0,e.useEffect)(()=>{i||g||k.push("/auth/login"),g&&o(g.user_metadata?.display_name||"")},[g,i,k]),i)return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#fefae0"},children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderBottomColor:"#0a400c"}}),(0,b.jsx)("p",{style:{color:"#819067"},children:"Loading profile..."})]})});if(!g)return null;let r=async()=>{q(!0);try{let{updateUserProfile:b}=await a.A(25144);await b({full_name:n}),m(!1),alert("Profile updated successfully!")}catch(a){alert("Failed to update profile")}finally{q(!1)}},s=async()=>{try{await j(),k.push("/auth/login")}catch(a){}},t=n?n.split(" ").map(a=>a[0]).join("").toUpperCase():g.email?.charAt(0).toUpperCase()||"U";return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[(0,b.jsx)(f.default,{user:g}),(0,b.jsxs)("main",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,b.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-lg border border-white/20 mb-8",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,b.jsx)("div",{className:"w-24 h-24 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center text-white text-4xl font-bold mb-4 shadow-lg",children:t}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:n||"User"}),(0,b.jsx)("p",{className:"text-gray-600",children:g.email})]}),(0,b.jsxs)("div",{className:"space-y-6 mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name"}),l?(0,b.jsx)("input",{type:"text",value:n,onChange:a=>o(a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your display name"}):(0,b.jsx)("p",{className:"px-4 py-3 bg-gray-50 rounded-lg text-gray-900",children:n||"Not set"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,b.jsx)("p",{className:"px-4 py-3 bg-gray-50 rounded-lg text-gray-900",children:g.email}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Email cannot be changed"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Created"}),(0,b.jsx)("p",{className:"px-4 py-3 bg-gray-50 rounded-lg text-gray-900",children:new Date(g.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),(0,b.jsx)("div",{className:"flex gap-4 justify-center mb-8",children:l?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:r,disabled:p,className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-8 py-3 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50",children:p?"Saving...":"Save Changes"}),(0,b.jsx)("button",{onClick:()=>{m(!1),o(g.user_metadata?.display_name||"")},className:"bg-gray-200 text-gray-900 px-8 py-3 rounded-xl font-semibold hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-200",children:"Cancel"})]}):(0,b.jsx)("button",{onClick:()=>m(!0),className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-8 py-3 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all duration-200",children:"Edit Profile"})}),(0,b.jsx)("div",{className:"border-t border-gray-200 pt-8",children:(0,b.jsx)("button",{onClick:s,className:"w-full px-6 py-3 rounded-xl font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",style:{backgroundColor:"#b1ab86",color:"#0a400c"},onMouseEnter:a=>{a.target.style.backgroundColor="#819067",a.target.style.color="#fefae0"},onMouseLeave:a=>{a.target.style.backgroundColor="#b1ab86",a.target.style.color="#0a400c"},children:"Sign Out"})})]}),(0,b.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-lg border border-white/20 mb-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Change Password"}),(0,b.jsx)(h,{})]}),(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("button",{onClick:()=>k.push("/dashboard"),className:"font-medium transition-colors",style:{color:"#0a400c"},onMouseEnter:a=>a.target.style.color="#819067",onMouseLeave:a=>a.target.style.color="#0a400c",children:"← Back to Dashboard"})})]})]})}a.s(["default",()=>i],40559)},25144,a=>{a.v(b=>Promise.all(["server/chunks/ssr/All Git Clones_Travel Planner_triptimeline_src_lib_friend-service_ts_063ac32c._.js"].map(b=>a.l(b))).then(()=>b(92952)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__6c4a97e7._.js.map